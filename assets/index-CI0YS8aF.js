(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();function hS(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var _p={exports:{}},fu={};var WT;function v2(){if(WT)return fu;WT=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var d in a)d!=="key"&&(l[d]=a[d])}else l=a;return a=l.ref,{$$typeof:e,type:s,key:c,ref:a!==void 0?a:null,props:l}}return fu.Fragment=t,fu.jsx=n,fu.jsxs=n,fu}var JT;function _2(){return JT||(JT=1,_p.exports=v2()),_p.exports}var S=_2(),Tp={exports:{}},wt={};var ZT;function T2(){if(ZT)return wt;ZT=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),_=Symbol.for("react.activity"),b=Symbol.iterator;function C(U){return U===null||typeof U!="object"?null:(U=b&&U[b]||U["@@iterator"],typeof U=="function"?U:null)}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,L={};function H(U,it,ut){this.props=U,this.context=it,this.refs=L,this.updater=ut||D}H.prototype.isReactComponent={},H.prototype.setState=function(U,it){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,it,"setState")},H.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function G(){}G.prototype=H.prototype;function z(U,it,ut){this.props=U,this.context=it,this.refs=L,this.updater=ut||D}var W=z.prototype=new G;W.constructor=z,k(W,H.prototype),W.isPureReactComponent=!0;var tt=Array.isArray;function rt(){}var R={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function I(U,it,ut){var ht=ut.ref;return{$$typeof:e,type:U,key:it,ref:ht!==void 0?ht:null,props:ut}}function P(U,it){return I(U.type,it,U.props)}function V(U){return typeof U=="object"&&U!==null&&U.$$typeof===e}function F(U){var it={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(ut){return it[ut]})}var N=/\/+/g;function ee(U,it){return typeof U=="object"&&U!==null&&U.key!=null?F(""+U.key):it.toString(36)}function pe(U){switch(U.status){case"fulfilled":return U.value;case"rejected":throw U.reason;default:switch(typeof U.status=="string"?U.then(rt,rt):(U.status="pending",U.then(function(it){U.status==="pending"&&(U.status="fulfilled",U.value=it)},function(it){U.status==="pending"&&(U.status="rejected",U.reason=it)})),U.status){case"fulfilled":return U.value;case"rejected":throw U.reason}}throw U}function Z(U,it,ut,ht,bt){var It=typeof U;(It==="undefined"||It==="boolean")&&(U=null);var zt=!1;if(U===null)zt=!0;else switch(It){case"bigint":case"string":case"number":zt=!0;break;case"object":switch(U.$$typeof){case e:case t:zt=!0;break;case y:return zt=U._init,Z(zt(U._payload),it,ut,ht,bt)}}if(zt)return bt=bt(U),zt=ht===""?"."+ee(U,0):ht,tt(bt)?(ut="",zt!=null&&(ut=zt.replace(N,"$&/")+"/"),Z(bt,it,ut,"",function(Vr){return Vr})):bt!=null&&(V(bt)&&(bt=P(bt,ut+(bt.key==null||U&&U.key===bt.key?"":(""+bt.key).replace(N,"$&/")+"/")+zt)),it.push(bt)),1;zt=0;var ke=ht===""?".":ht+":";if(tt(U))for(var le=0;le<U.length;le++)ht=U[le],It=ke+ee(ht,le),zt+=Z(ht,it,ut,It,bt);else if(le=C(U),typeof le=="function")for(U=le.call(U),le=0;!(ht=U.next()).done;)ht=ht.value,It=ke+ee(ht,le++),zt+=Z(ht,it,ut,It,bt);else if(It==="object"){if(typeof U.then=="function")return Z(pe(U),it,ut,ht,bt);throw it=String(U),Error("Objects are not valid as a React child (found: "+(it==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":it)+"). If you meant to render a collection of children, use an array instead.")}return zt}function ot(U,it,ut){if(U==null)return U;var ht=[],bt=0;return Z(U,ht,"","",function(It){return it.call(ut,It,bt++)}),ht}function ft(U){if(U._status===-1){var it=U._result;it=it(),it.then(function(ut){(U._status===0||U._status===-1)&&(U._status=1,U._result=ut)},function(ut){(U._status===0||U._status===-1)&&(U._status=2,U._result=ut)}),U._status===-1&&(U._status=0,U._result=it)}if(U._status===1)return U._result.default;throw U._result}var Rt=typeof reportError=="function"?reportError:function(U){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var it=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof U=="object"&&U!==null&&typeof U.message=="string"?String(U.message):String(U),error:U});if(!window.dispatchEvent(it))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",U);return}console.error(U)},Vt={map:ot,forEach:function(U,it,ut){ot(U,function(){it.apply(this,arguments)},ut)},count:function(U){var it=0;return ot(U,function(){it++}),it},toArray:function(U){return ot(U,function(it){return it})||[]},only:function(U){if(!V(U))throw Error("React.Children.only expected to receive a single React element child.");return U}};return wt.Activity=_,wt.Children=Vt,wt.Component=H,wt.Fragment=n,wt.Profiler=a,wt.PureComponent=z,wt.StrictMode=s,wt.Suspense=g,wt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,wt.__COMPILER_RUNTIME={__proto__:null,c:function(U){return R.H.useMemoCache(U)}},wt.cache=function(U){return function(){return U.apply(null,arguments)}},wt.cacheSignal=function(){return null},wt.cloneElement=function(U,it,ut){if(U==null)throw Error("The argument must be a React element, but you passed "+U+".");var ht=k({},U.props),bt=U.key;if(it!=null)for(It in it.key!==void 0&&(bt=""+it.key),it)!A.call(it,It)||It==="key"||It==="__self"||It==="__source"||It==="ref"&&it.ref===void 0||(ht[It]=it[It]);var It=arguments.length-2;if(It===1)ht.children=ut;else if(1<It){for(var zt=Array(It),ke=0;ke<It;ke++)zt[ke]=arguments[ke+2];ht.children=zt}return I(U.type,bt,ht)},wt.createContext=function(U){return U={$$typeof:c,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null},U.Provider=U,U.Consumer={$$typeof:l,_context:U},U},wt.createElement=function(U,it,ut){var ht,bt={},It=null;if(it!=null)for(ht in it.key!==void 0&&(It=""+it.key),it)A.call(it,ht)&&ht!=="key"&&ht!=="__self"&&ht!=="__source"&&(bt[ht]=it[ht]);var zt=arguments.length-2;if(zt===1)bt.children=ut;else if(1<zt){for(var ke=Array(zt),le=0;le<zt;le++)ke[le]=arguments[le+2];bt.children=ke}if(U&&U.defaultProps)for(ht in zt=U.defaultProps,zt)bt[ht]===void 0&&(bt[ht]=zt[ht]);return I(U,It,bt)},wt.createRef=function(){return{current:null}},wt.forwardRef=function(U){return{$$typeof:d,render:U}},wt.isValidElement=V,wt.lazy=function(U){return{$$typeof:y,_payload:{_status:-1,_result:U},_init:ft}},wt.memo=function(U,it){return{$$typeof:p,type:U,compare:it===void 0?null:it}},wt.startTransition=function(U){var it=R.T,ut={};R.T=ut;try{var ht=U(),bt=R.S;bt!==null&&bt(ut,ht),typeof ht=="object"&&ht!==null&&typeof ht.then=="function"&&ht.then(rt,Rt)}catch(It){Rt(It)}finally{it!==null&&ut.types!==null&&(it.types=ut.types),R.T=it}},wt.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},wt.use=function(U){return R.H.use(U)},wt.useActionState=function(U,it,ut){return R.H.useActionState(U,it,ut)},wt.useCallback=function(U,it){return R.H.useCallback(U,it)},wt.useContext=function(U){return R.H.useContext(U)},wt.useDebugValue=function(){},wt.useDeferredValue=function(U,it){return R.H.useDeferredValue(U,it)},wt.useEffect=function(U,it){return R.H.useEffect(U,it)},wt.useEffectEvent=function(U){return R.H.useEffectEvent(U)},wt.useId=function(){return R.H.useId()},wt.useImperativeHandle=function(U,it,ut){return R.H.useImperativeHandle(U,it,ut)},wt.useInsertionEffect=function(U,it){return R.H.useInsertionEffect(U,it)},wt.useLayoutEffect=function(U,it){return R.H.useLayoutEffect(U,it)},wt.useMemo=function(U,it){return R.H.useMemo(U,it)},wt.useOptimistic=function(U,it){return R.H.useOptimistic(U,it)},wt.useReducer=function(U,it,ut){return R.H.useReducer(U,it,ut)},wt.useRef=function(U){return R.H.useRef(U)},wt.useState=function(U){return R.H.useState(U)},wt.useSyncExternalStore=function(U,it,ut){return R.H.useSyncExternalStore(U,it,ut)},wt.useTransition=function(){return R.H.useTransition()},wt.version="19.2.4",wt}var tE;function iy(){return tE||(tE=1,Tp.exports=T2()),Tp.exports}var O=iy();const fS=hS(O);var Ep={exports:{}},du={},bp={exports:{}},Sp={};var eE;function E2(){return eE||(eE=1,(function(e){function t(Z,ot){var ft=Z.length;Z.push(ot);t:for(;0<ft;){var Rt=ft-1>>>1,Vt=Z[Rt];if(0<a(Vt,ot))Z[Rt]=ot,Z[ft]=Vt,ft=Rt;else break t}}function n(Z){return Z.length===0?null:Z[0]}function s(Z){if(Z.length===0)return null;var ot=Z[0],ft=Z.pop();if(ft!==ot){Z[0]=ft;t:for(var Rt=0,Vt=Z.length,U=Vt>>>1;Rt<U;){var it=2*(Rt+1)-1,ut=Z[it],ht=it+1,bt=Z[ht];if(0>a(ut,ft))ht<Vt&&0>a(bt,ut)?(Z[Rt]=bt,Z[ht]=ft,Rt=ht):(Z[Rt]=ut,Z[it]=ft,Rt=it);else if(ht<Vt&&0>a(bt,ft))Z[Rt]=bt,Z[ht]=ft,Rt=ht;else break t}}return ot}function a(Z,ot){var ft=Z.sortIndex-ot.sortIndex;return ft!==0?ft:Z.id-ot.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();e.unstable_now=function(){return c.now()-d}}var g=[],p=[],y=1,_=null,b=3,C=!1,D=!1,k=!1,L=!1,H=typeof setTimeout=="function"?setTimeout:null,G=typeof clearTimeout=="function"?clearTimeout:null,z=typeof setImmediate<"u"?setImmediate:null;function W(Z){for(var ot=n(p);ot!==null;){if(ot.callback===null)s(p);else if(ot.startTime<=Z)s(p),ot.sortIndex=ot.expirationTime,t(g,ot);else break;ot=n(p)}}function tt(Z){if(k=!1,W(Z),!D)if(n(g)!==null)D=!0,rt||(rt=!0,F());else{var ot=n(p);ot!==null&&pe(tt,ot.startTime-Z)}}var rt=!1,R=-1,A=5,I=-1;function P(){return L?!0:!(e.unstable_now()-I<A)}function V(){if(L=!1,rt){var Z=e.unstable_now();I=Z;var ot=!0;try{t:{D=!1,k&&(k=!1,G(R),R=-1),C=!0;var ft=b;try{e:{for(W(Z),_=n(g);_!==null&&!(_.expirationTime>Z&&P());){var Rt=_.callback;if(typeof Rt=="function"){_.callback=null,b=_.priorityLevel;var Vt=Rt(_.expirationTime<=Z);if(Z=e.unstable_now(),typeof Vt=="function"){_.callback=Vt,W(Z),ot=!0;break e}_===n(g)&&s(g),W(Z)}else s(g);_=n(g)}if(_!==null)ot=!0;else{var U=n(p);U!==null&&pe(tt,U.startTime-Z),ot=!1}}break t}finally{_=null,b=ft,C=!1}ot=void 0}}finally{ot?F():rt=!1}}}var F;if(typeof z=="function")F=function(){z(V)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,ee=N.port2;N.port1.onmessage=V,F=function(){ee.postMessage(null)}}else F=function(){H(V,0)};function pe(Z,ot){R=H(function(){Z(e.unstable_now())},ot)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(Z){Z.callback=null},e.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<Z?Math.floor(1e3/Z):5},e.unstable_getCurrentPriorityLevel=function(){return b},e.unstable_next=function(Z){switch(b){case 1:case 2:case 3:var ot=3;break;default:ot=b}var ft=b;b=ot;try{return Z()}finally{b=ft}},e.unstable_requestPaint=function(){L=!0},e.unstable_runWithPriority=function(Z,ot){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var ft=b;b=Z;try{return ot()}finally{b=ft}},e.unstable_scheduleCallback=function(Z,ot,ft){var Rt=e.unstable_now();switch(typeof ft=="object"&&ft!==null?(ft=ft.delay,ft=typeof ft=="number"&&0<ft?Rt+ft:Rt):ft=Rt,Z){case 1:var Vt=-1;break;case 2:Vt=250;break;case 5:Vt=1073741823;break;case 4:Vt=1e4;break;default:Vt=5e3}return Vt=ft+Vt,Z={id:y++,callback:ot,priorityLevel:Z,startTime:ft,expirationTime:Vt,sortIndex:-1},ft>Rt?(Z.sortIndex=ft,t(p,Z),n(g)===null&&Z===n(p)&&(k?(G(R),R=-1):k=!0,pe(tt,ft-Rt))):(Z.sortIndex=Vt,t(g,Z),D||C||(D=!0,rt||(rt=!0,F()))),Z},e.unstable_shouldYield=P,e.unstable_wrapCallback=function(Z){var ot=b;return function(){var ft=b;b=ot;try{return Z.apply(this,arguments)}finally{b=ft}}}})(Sp)),Sp}var nE;function b2(){return nE||(nE=1,bp.exports=E2()),bp.exports}var wp={exports:{}},sn={};var iE;function S2(){if(iE)return sn;iE=1;var e=iy();function t(g){var p="https://react.dev/errors/"+g;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)p+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+g+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(g,p,y){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:_==null?null:""+_,children:g,containerInfo:p,implementation:y}}var c=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(g,p){if(g==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return sn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,sn.createPortal=function(g,p){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(t(299));return l(g,p,null,y)},sn.flushSync=function(g){var p=c.T,y=s.p;try{if(c.T=null,s.p=2,g)return g()}finally{c.T=p,s.p=y,s.d.f()}},sn.preconnect=function(g,p){typeof g=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,s.d.C(g,p))},sn.prefetchDNS=function(g){typeof g=="string"&&s.d.D(g)},sn.preinit=function(g,p){if(typeof g=="string"&&p&&typeof p.as=="string"){var y=p.as,_=d(y,p.crossOrigin),b=typeof p.integrity=="string"?p.integrity:void 0,C=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;y==="style"?s.d.S(g,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:_,integrity:b,fetchPriority:C}):y==="script"&&s.d.X(g,{crossOrigin:_,integrity:b,fetchPriority:C,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},sn.preinitModule=function(g,p){if(typeof g=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var y=d(p.as,p.crossOrigin);s.d.M(g,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&s.d.M(g)},sn.preload=function(g,p){if(typeof g=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var y=p.as,_=d(y,p.crossOrigin);s.d.L(g,y,{crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},sn.preloadModule=function(g,p){if(typeof g=="string")if(p){var y=d(p.as,p.crossOrigin);s.d.m(g,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else s.d.m(g)},sn.requestFormReset=function(g){s.d.r(g)},sn.unstable_batchedUpdates=function(g,p){return g(p)},sn.useFormState=function(g,p,y){return c.H.useFormState(g,p,y)},sn.useFormStatus=function(){return c.H.useHostTransitionStatus()},sn.version="19.2.4",sn}var sE;function w2(){if(sE)return wp.exports;sE=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),wp.exports=S2(),wp.exports}var rE;function A2(){if(rE)return du;rE=1;var e=b2(),t=iy(),n=w2();function s(i){var r="https://react.dev/errors/"+i;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+i+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var r=i,o=i;if(i.alternate)for(;r.return;)r=r.return;else{i=r;do r=i,(r.flags&4098)!==0&&(o=r.return),i=r.return;while(i)}return r.tag===3?o:null}function c(i){if(i.tag===13){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function d(i){if(i.tag===31){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function g(i){if(l(i)!==i)throw Error(s(188))}function p(i){var r=i.alternate;if(!r){if(r=l(i),r===null)throw Error(s(188));return r!==i?null:i}for(var o=i,u=r;;){var f=o.return;if(f===null)break;var m=f.alternate;if(m===null){if(u=f.return,u!==null){o=u;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===o)return g(f),i;if(m===u)return g(f),r;m=m.sibling}throw Error(s(188))}if(o.return!==u.return)o=f,u=m;else{for(var T=!1,w=f.child;w;){if(w===o){T=!0,o=f,u=m;break}if(w===u){T=!0,u=f,o=m;break}w=w.sibling}if(!T){for(w=m.child;w;){if(w===o){T=!0,o=m,u=f;break}if(w===u){T=!0,u=m,o=f;break}w=w.sibling}if(!T)throw Error(s(189))}}if(o.alternate!==u)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?i:r}function y(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i;for(i=i.child;i!==null;){if(r=y(i),r!==null)return r;i=i.sibling}return null}var _=Object.assign,b=Symbol.for("react.element"),C=Symbol.for("react.transitional.element"),D=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),L=Symbol.for("react.strict_mode"),H=Symbol.for("react.profiler"),G=Symbol.for("react.consumer"),z=Symbol.for("react.context"),W=Symbol.for("react.forward_ref"),tt=Symbol.for("react.suspense"),rt=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),P=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function F(i){return i===null||typeof i!="object"?null:(i=V&&i[V]||i["@@iterator"],typeof i=="function"?i:null)}var N=Symbol.for("react.client.reference");function ee(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===N?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case k:return"Fragment";case H:return"Profiler";case L:return"StrictMode";case tt:return"Suspense";case rt:return"SuspenseList";case I:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case D:return"Portal";case z:return i.displayName||"Context";case G:return(i._context.displayName||"Context")+".Consumer";case W:var r=i.render;return i=i.displayName,i||(i=r.displayName||r.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case R:return r=i.displayName||null,r!==null?r:ee(i.type)||"Memo";case A:r=i._payload,i=i._init;try{return ee(i(r))}catch{}}return null}var pe=Array.isArray,Z=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ot=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ft={pending:!1,data:null,method:null,action:null},Rt=[],Vt=-1;function U(i){return{current:i}}function it(i){0>Vt||(i.current=Rt[Vt],Rt[Vt]=null,Vt--)}function ut(i,r){Vt++,Rt[Vt]=i.current,i.current=r}var ht=U(null),bt=U(null),It=U(null),zt=U(null);function ke(i,r){switch(ut(It,r),ut(bt,i),ut(ht,null),r.nodeType){case 9:case 11:i=(i=r.documentElement)&&(i=i.namespaceURI)?TT(i):0;break;default:if(i=r.tagName,r=r.namespaceURI)r=TT(r),i=ET(r,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}it(ht),ut(ht,i)}function le(){it(ht),it(bt),it(It)}function Vr(i){i.memoizedState!==null&&ut(zt,i);var r=ht.current,o=ET(r,i.type);r!==o&&(ut(bt,i),ut(ht,o))}function Na(i){bt.current===i&&(it(ht),it(bt)),zt.current===i&&(it(zt),lu._currentValue=ft)}var Ma,Va;function Ti(i){if(Ma===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);Ma=r&&r[1]||"",Va=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ma+i+Va}var ll=!1;function Or(i,r){if(!i||ll)return"";ll=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(r){var nt=function(){throw Error()};if(Object.defineProperty(nt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(nt,[])}catch(X){var $=X}Reflect.construct(i,[],nt)}else{try{nt.call()}catch(X){$=X}i.call(nt.prototype)}}else{try{throw Error()}catch(X){$=X}(nt=i())&&typeof nt.catch=="function"&&nt.catch(function(){})}}catch(X){if(X&&$&&typeof X.stack=="string")return[X.stack,$.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=u.DetermineComponentFrameRoot(),T=m[0],w=m[1];if(T&&w){var M=T.split(`
`),Y=w.split(`
`);for(f=u=0;u<M.length&&!M[u].includes("DetermineComponentFrameRoot");)u++;for(;f<Y.length&&!Y[f].includes("DetermineComponentFrameRoot");)f++;if(u===M.length||f===Y.length)for(u=M.length-1,f=Y.length-1;1<=u&&0<=f&&M[u]!==Y[f];)f--;for(;1<=u&&0<=f;u--,f--)if(M[u]!==Y[f]){if(u!==1||f!==1)do if(u--,f--,0>f||M[u]!==Y[f]){var J=`
`+M[u].replace(" at new "," at ");return i.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",i.displayName)),J}while(1<=u&&0<=f);break}}}finally{ll=!1,Error.prepareStackTrace=o}return(o=i?i.displayName||i.name:"")?Ti(o):""}function ul(i,r){switch(i.tag){case 26:case 27:case 5:return Ti(i.type);case 16:return Ti("Lazy");case 13:return i.child!==r&&r!==null?Ti("Suspense Fallback"):Ti("Suspense");case 19:return Ti("SuspenseList");case 0:case 15:return Or(i.type,!1);case 11:return Or(i.type.render,!1);case 1:return Or(i.type,!0);case 31:return Ti("Activity");default:return""}}function cl(i){try{var r="",o=null;do r+=ul(i,o),o=i,i=i.return;while(i);return r}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var we=Object.prototype.hasOwnProperty,Le=e.unstable_scheduleCallback,Vs=e.unstable_cancelCallback,Ed=e.unstable_shouldYield,hc=e.unstable_requestPaint,cn=e.unstable_now,Pr=e.unstable_getCurrentPriorityLevel,hl=e.unstable_ImmediatePriority,fl=e.unstable_UserBlockingPriority,Os=e.unstable_NormalPriority,bd=e.unstable_LowPriority,fc=e.unstable_IdlePriority,dc=e.log,mc=e.unstable_setDisableYieldValue,Zn=null,Ye=null;function Pn(i){if(typeof dc=="function"&&mc(i),Ye&&typeof Ye.setStrictMode=="function")try{Ye.setStrictMode(Zn,i)}catch{}}var _e=Math.clz32?Math.clz32:gc,pc=Math.log,Oa=Math.LN2;function gc(i){return i>>>=0,i===0?32:31-(pc(i)/Oa|0)|0}var Ei=256,kr=262144,Ae=4194304;function bi(i){var r=i&42;if(r!==0)return r;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Si(i,r,o){var u=i.pendingLanes;if(u===0)return 0;var f=0,m=i.suspendedLanes,T=i.pingedLanes;i=i.warmLanes;var w=u&134217727;return w!==0?(u=w&~m,u!==0?f=bi(u):(T&=w,T!==0?f=bi(T):o||(o=w&~i,o!==0&&(f=bi(o))))):(w=u&~m,w!==0?f=bi(w):T!==0?f=bi(T):o||(o=u&~i,o!==0&&(f=bi(o)))),f===0?0:r!==0&&r!==f&&(r&m)===0&&(m=f&-f,o=r&-r,m>=o||m===32&&(o&4194048)!==0)?r:f}function ti(i,r){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&r)===0}function Sd(i,r){switch(i){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function yc(){var i=Ae;return Ae<<=1,(Ae&62914560)===0&&(Ae=4194304),i}function wi(i){for(var r=[],o=0;31>o;o++)r.push(i);return r}function Lr(i,r){i.pendingLanes|=r,r!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function wd(i,r,o,u,f,m){var T=i.pendingLanes;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=o,i.entangledLanes&=o,i.errorRecoveryDisabledLanes&=o,i.shellSuspendCounter=0;var w=i.entanglements,M=i.expirationTimes,Y=i.hiddenUpdates;for(o=T&~o;0<o;){var J=31-_e(o),nt=1<<J;w[J]=0,M[J]=-1;var $=Y[J];if($!==null)for(Y[J]=null,J=0;J<$.length;J++){var X=$[J];X!==null&&(X.lane&=-536870913)}o&=~nt}u!==0&&jr(i,u,0),m!==0&&f===0&&i.tag!==0&&(i.suspendedLanes|=m&~(T&~r))}function jr(i,r,o){i.pendingLanes|=r,i.suspendedLanes&=~r;var u=31-_e(r);i.entangledLanes|=r,i.entanglements[u]=i.entanglements[u]|1073741824|o&261930}function dl(i,r){var o=i.entangledLanes|=r;for(i=i.entanglements;o;){var u=31-_e(o),f=1<<u;f&r|i[u]&r&&(i[u]|=r),o&=~f}}function ml(i,r){var o=r&-r;return o=(o&42)!==0?1:Ur(o),(o&(i.suspendedLanes|r))!==0?0:o}function Ur(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function ts(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function vc(){var i=ot.p;return i!==0?i:(i=window.event,i===void 0?32:qT(i.type))}function ei(i,r){var o=ot.p;try{return ot.p=i,r()}finally{ot.p=o}}var ni=Math.random().toString(36).slice(2),xe="__reactFiber$"+ni,Fe="__reactProps$"+ni,Ai="__reactContainer$"+ni,Pa="__reactEvents$"+ni,Ad="__reactListeners$"+ni,_c="__reactHandles$"+ni,Tc="__reactResources$"+ni,xi="__reactMarker$"+ni;function ka(i){delete i[xe],delete i[Fe],delete i[Pa],delete i[Ad],delete i[_c]}function Ci(i){var r=i[xe];if(r)return r;for(var o=i.parentNode;o;){if(r=o[Ai]||o[xe]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(i=RT(i);i!==null;){if(o=i[xe])return o;i=RT(i)}return r}i=o,o=i.parentNode}return null}function kn(i){if(i=i[xe]||i[Ai]){var r=i.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return i}return null}function wn(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i.stateNode;throw Error(s(33))}function Ri(i){var r=i[Tc];return r||(r=i[Tc]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Ce(i){i[xi]=!0}var pl=new Set,gl={};function Ii(i,r){Di(i,r),Di(i+"Capture",r)}function Di(i,r){for(gl[i]=r,i=0;i<r.length;i++)pl.add(r[i])}var yl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),vl={},_l={};function Ec(i){return we.call(_l,i)?!0:we.call(vl,i)?!1:yl.test(i)?_l[i]=!0:(vl[i]=!0,!1)}function La(i,r,o){if(Ec(r))if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":i.removeAttribute(r);return;case"boolean":var u=r.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){i.removeAttribute(r);return}}i.setAttribute(r,""+o)}}function An(i,r,o){if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(r);return}i.setAttribute(r,""+o)}}function Re(i,r,o,u){if(u===null)i.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttributeNS(r,o,""+u)}}function He(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Ps(i){var r=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Tl(i,r,o){var u=Object.getOwnPropertyDescriptor(i.constructor.prototype,r);if(!i.hasOwnProperty(r)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var f=u.get,m=u.set;return Object.defineProperty(i,r,{configurable:!0,get:function(){return f.call(this)},set:function(T){o=""+T,m.call(this,T)}}),Object.defineProperty(i,r,{enumerable:u.enumerable}),{getValue:function(){return o},setValue:function(T){o=""+T},stopTracking:function(){i._valueTracker=null,delete i[r]}}}}function $t(i){if(!i._valueTracker){var r=Ps(i)?"checked":"value";i._valueTracker=Tl(i,r,""+i[r])}}function zr(i){if(!i)return!1;var r=i._valueTracker;if(!r)return!0;var o=r.getValue(),u="";return i&&(u=Ps(i)?i.checked?"true":"false":i.value),i=u,i!==o?(r.setValue(i),!0):!1}function Ni(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Br=/[\n"\\]/g;function pn(i){return i.replace(Br,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function ja(i,r,o,u,f,m,T,w){i.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?i.type=T:i.removeAttribute("type"),r!=null?T==="number"?(r===0&&i.value===""||i.value!=r)&&(i.value=""+He(r)):i.value!==""+He(r)&&(i.value=""+He(r)):T!=="submit"&&T!=="reset"||i.removeAttribute("value"),r!=null?El(i,T,He(r)):o!=null?El(i,T,He(o)):u!=null&&i.removeAttribute("value"),f==null&&m!=null&&(i.defaultChecked=!!m),f!=null&&(i.checked=f&&typeof f!="function"&&typeof f!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?i.name=""+He(w):i.removeAttribute("name")}function bc(i,r,o,u,f,m,T,w){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(i.type=m),r!=null||o!=null){if(!(m!=="submit"&&m!=="reset"||r!=null)){$t(i);return}o=o!=null?""+He(o):"",r=r!=null?""+He(r):o,w||r===i.value||(i.value=r),i.defaultValue=r}u=u??f,u=typeof u!="function"&&typeof u!="symbol"&&!!u,i.checked=w?i.checked:!!u,i.defaultChecked=!!u,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(i.name=T),$t(i)}function El(i,r,o){r==="number"&&Ni(i.ownerDocument)===i||i.defaultValue===""+o||(i.defaultValue=""+o)}function ks(i,r,o,u){if(i=i.options,r){r={};for(var f=0;f<o.length;f++)r["$"+o[f]]=!0;for(o=0;o<i.length;o++)f=r.hasOwnProperty("$"+i[o].value),i[o].selected!==f&&(i[o].selected=f),f&&u&&(i[o].defaultSelected=!0)}else{for(o=""+He(o),r=null,f=0;f<i.length;f++){if(i[f].value===o){i[f].selected=!0,u&&(i[f].defaultSelected=!0);return}r!==null||i[f].disabled||(r=i[f])}r!==null&&(r.selected=!0)}}function Sc(i,r,o){if(r!=null&&(r=""+He(r),r!==i.value&&(i.value=r),o==null)){i.defaultValue!==r&&(i.defaultValue=r);return}i.defaultValue=o!=null?""+He(o):""}function Ls(i,r,o,u){if(r==null){if(u!=null){if(o!=null)throw Error(s(92));if(pe(u)){if(1<u.length)throw Error(s(93));u=u[0]}o=u}o==null&&(o=""),r=o}o=He(r),i.defaultValue=o,u=i.textContent,u===o&&u!==""&&u!==null&&(i.value=u),$t(i)}function gn(i,r){if(r){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=r;return}}i.textContent=r}var wc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function bl(i,r,o){var u=r.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?i.setProperty(r,""):r==="float"?i.cssFloat="":i[r]="":u?i.setProperty(r,o):typeof o!="number"||o===0||wc.has(r)?r==="float"?i.cssFloat=o:i[r]=(""+o).trim():i[r]=o+"px"}function Sl(i,r,o){if(r!=null&&typeof r!="object")throw Error(s(62));if(i=i.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||r!=null&&r.hasOwnProperty(u)||(u.indexOf("--")===0?i.setProperty(u,""):u==="float"?i.cssFloat="":i[u]="");for(var f in r)u=r[f],r.hasOwnProperty(f)&&o[f]!==u&&bl(i,f,u)}else for(var m in r)r.hasOwnProperty(m)&&bl(i,m,r[m])}function Ua(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ac=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),js=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function za(i){return js.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function ii(){}var wl=null;function Ln(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Us=null,Mi=null;function Fr(i){var r=kn(i);if(r&&(i=r.stateNode)){var o=i[Fe]||null;t:switch(i=r.stateNode,r.type){case"input":if(ja(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),r=o.name,o.type==="radio"&&r!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+pn(""+r)+'"][type="radio"]'),r=0;r<o.length;r++){var u=o[r];if(u!==i&&u.form===i.form){var f=u[Fe]||null;if(!f)throw Error(s(90));ja(u,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<o.length;r++)u=o[r],u.form===i.form&&zr(u)}break t;case"textarea":Sc(i,o.value,o.defaultValue);break t;case"select":r=o.value,r!=null&&ks(i,!!o.multiple,r,!1)}}}var Ba=!1;function zs(i,r,o){if(Ba)return i(r,o);Ba=!0;try{var u=i(r);return u}finally{if(Ba=!1,(Us!==null||Mi!==null)&&(vh(),Us&&(r=Us,i=Mi,Mi=Us=null,Fr(r),i)))for(r=0;r<i.length;r++)Fr(i[r])}}function si(i,r){var o=i.stateNode;if(o===null)return null;var u=o[Fe]||null;if(u===null)return null;o=u[r];t:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(i=i.type,u=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!u;break t;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(s(231,r,typeof o));return o}var jn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Hr=!1;if(jn)try{var Wt={};Object.defineProperty(Wt,"passive",{get:function(){Hr=!0}}),window.addEventListener("test",Wt,Wt),window.removeEventListener("test",Wt,Wt)}catch{Hr=!1}var Vi=null,Al=null,qr=null;function xl(){if(qr)return qr;var i,r=Al,o=r.length,u,f="value"in Vi?Vi.value:Vi.textContent,m=f.length;for(i=0;i<o&&r[i]===f[i];i++);var T=o-i;for(u=1;u<=T&&r[o-u]===f[m-u];u++);return qr=f.slice(i,1<u?1-u:void 0)}function Gr(i){var r=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&r===13&&(i=13)):i=r,i===10&&(i=13),32<=i||i===13?i:0}function es(){return!0}function ri(){return!1}function $e(i){function r(o,u,f,m,T){this._reactName=o,this._targetInst=f,this.type=u,this.nativeEvent=m,this.target=T,this.currentTarget=null;for(var w in i)i.hasOwnProperty(w)&&(o=i[w],this[w]=o?o(m):m[w]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?es:ri,this.isPropagationStopped=ri,this}return _(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=es)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=es)},persist:function(){},isPersistent:es}),r}var ns={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Oi=$e(ns),Bs=_({},ns,{view:0,detail:0}),Cl=$e(Bs),Fs,Fa,Pi,Ha=_({},Bs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Hs,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Pi&&(Pi&&i.type==="mousemove"?(Fs=i.screenX-Pi.screenX,Fa=i.screenY-Pi.screenY):Fa=Fs=0,Pi=i),Fs)},movementY:function(i){return"movementY"in i?i.movementY:Fa}}),Rl=$e(Ha),Kr=_({},Ha,{dataTransfer:0}),xc=$e(Kr),Cc=_({},Bs,{relatedTarget:0}),Yr=$e(Cc),Il=_({},ns,{animationName:0,elapsedTime:0,pseudoElement:0}),Rc=$e(Il),qa=_({},ns,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Ic=$e(qa),Dc=_({},ns,{data:0}),ki=$e(Dc),Nc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Mc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Vc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Oc(i){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(i):(i=Vc[i])?!!r[i]:!1}function Hs(){return Oc}var hn=_({},Bs,{key:function(i){if(i.key){var r=Nc[i.key]||i.key;if(r!=="Unidentified")return r}return i.type==="keypress"?(i=Gr(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Mc[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Hs,charCode:function(i){return i.type==="keypress"?Gr(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Gr(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Pc=$e(hn),kc=_({},Ha,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),is=$e(kc),h=_({},Bs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Hs}),v=$e(h),E=_({},ns,{propertyName:0,elapsedTime:0,pseudoElement:0}),x=$e(E),q=_({},Ha,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Q=$e(q),lt=_({},ns,{newState:0,oldState:0}),xt=$e(lt),Te=[9,13,27,32],Gt=jn&&"CompositionEvent"in window,ue=null;jn&&"documentMode"in document&&(ue=document.documentMode);var Un=jn&&"TextEvent"in window&&!ue,Li=jn&&(!Gt||ue&&8<ue&&11>=ue),ai=" ",oi=!1;function $r(i,r){switch(i){case"keyup":return Te.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ga(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Ka=!1;function FC(i,r){switch(i){case"compositionend":return Ga(r);case"keypress":return r.which!==32?null:(oi=!0,ai);case"textInput":return i=r.data,i===ai&&oi?null:i;default:return null}}function HC(i,r){if(Ka)return i==="compositionend"||!Gt&&$r(i,r)?(i=xl(),qr=Al=Vi=null,Ka=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Li&&r.locale!=="ko"?null:r.data;default:return null}}var qC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Nv(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r==="input"?!!qC[i.type]:r==="textarea"}function Mv(i,r,o,u){Us?Mi?Mi.push(u):Mi=[u]:Us=u,r=Ah(r,"onChange"),0<r.length&&(o=new Oi("onChange","change",null,o,u),i.push({event:o,listeners:r}))}var Dl=null,Nl=null;function GC(i){mT(i,0)}function Lc(i){var r=wn(i);if(zr(r))return i}function Vv(i,r){if(i==="change")return r}var Ov=!1;if(jn){var xd;if(jn){var Cd="oninput"in document;if(!Cd){var Pv=document.createElement("div");Pv.setAttribute("oninput","return;"),Cd=typeof Pv.oninput=="function"}xd=Cd}else xd=!1;Ov=xd&&(!document.documentMode||9<document.documentMode)}function kv(){Dl&&(Dl.detachEvent("onpropertychange",Lv),Nl=Dl=null)}function Lv(i){if(i.propertyName==="value"&&Lc(Nl)){var r=[];Mv(r,Nl,i,Ln(i)),zs(GC,r)}}function KC(i,r,o){i==="focusin"?(kv(),Dl=r,Nl=o,Dl.attachEvent("onpropertychange",Lv)):i==="focusout"&&kv()}function YC(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Lc(Nl)}function $C(i,r){if(i==="click")return Lc(r)}function QC(i,r){if(i==="input"||i==="change")return Lc(r)}function XC(i,r){return i===r&&(i!==0||1/i===1/r)||i!==i&&r!==r}var xn=typeof Object.is=="function"?Object.is:XC;function Ml(i,r){if(xn(i,r))return!0;if(typeof i!="object"||i===null||typeof r!="object"||r===null)return!1;var o=Object.keys(i),u=Object.keys(r);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var f=o[u];if(!we.call(r,f)||!xn(i[f],r[f]))return!1}return!0}function jv(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Uv(i,r){var o=jv(i);i=0;for(var u;o;){if(o.nodeType===3){if(u=i+o.textContent.length,i<=r&&u>=r)return{node:o,offset:r-i};i=u}t:{for(;o;){if(o.nextSibling){o=o.nextSibling;break t}o=o.parentNode}o=void 0}o=jv(o)}}function zv(i,r){return i&&r?i===r?!0:i&&i.nodeType===3?!1:r&&r.nodeType===3?zv(i,r.parentNode):"contains"in i?i.contains(r):i.compareDocumentPosition?!!(i.compareDocumentPosition(r)&16):!1:!1}function Bv(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var r=Ni(i.document);r instanceof i.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)i=r.contentWindow;else break;r=Ni(i.document)}return r}function Rd(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r&&(r==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||r==="textarea"||i.contentEditable==="true")}var WC=jn&&"documentMode"in document&&11>=document.documentMode,Ya=null,Id=null,Vl=null,Dd=!1;function Fv(i,r,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Dd||Ya==null||Ya!==Ni(u)||(u=Ya,"selectionStart"in u&&Rd(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Vl&&Ml(Vl,u)||(Vl=u,u=Ah(Id,"onSelect"),0<u.length&&(r=new Oi("onSelect","select",null,r,o),i.push({event:r,listeners:u}),r.target=Ya)))}function Qr(i,r){var o={};return o[i.toLowerCase()]=r.toLowerCase(),o["Webkit"+i]="webkit"+r,o["Moz"+i]="moz"+r,o}var $a={animationend:Qr("Animation","AnimationEnd"),animationiteration:Qr("Animation","AnimationIteration"),animationstart:Qr("Animation","AnimationStart"),transitionrun:Qr("Transition","TransitionRun"),transitionstart:Qr("Transition","TransitionStart"),transitioncancel:Qr("Transition","TransitionCancel"),transitionend:Qr("Transition","TransitionEnd")},Nd={},Hv={};jn&&(Hv=document.createElement("div").style,"AnimationEvent"in window||(delete $a.animationend.animation,delete $a.animationiteration.animation,delete $a.animationstart.animation),"TransitionEvent"in window||delete $a.transitionend.transition);function Xr(i){if(Nd[i])return Nd[i];if(!$a[i])return i;var r=$a[i],o;for(o in r)if(r.hasOwnProperty(o)&&o in Hv)return Nd[i]=r[o];return i}var qv=Xr("animationend"),Gv=Xr("animationiteration"),Kv=Xr("animationstart"),JC=Xr("transitionrun"),ZC=Xr("transitionstart"),tR=Xr("transitioncancel"),Yv=Xr("transitionend"),$v=new Map,Md="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Md.push("scrollEnd");function li(i,r){$v.set(i,r),Ii(r,[i])}var jc=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},zn=[],Qa=0,Vd=0;function Uc(){for(var i=Qa,r=Vd=Qa=0;r<i;){var o=zn[r];zn[r++]=null;var u=zn[r];zn[r++]=null;var f=zn[r];zn[r++]=null;var m=zn[r];if(zn[r++]=null,u!==null&&f!==null){var T=u.pending;T===null?f.next=f:(f.next=T.next,T.next=f),u.pending=f}m!==0&&Qv(o,f,m)}}function zc(i,r,o,u){zn[Qa++]=i,zn[Qa++]=r,zn[Qa++]=o,zn[Qa++]=u,Vd|=u,i.lanes|=u,i=i.alternate,i!==null&&(i.lanes|=u)}function Od(i,r,o,u){return zc(i,r,o,u),Bc(i)}function Wr(i,r){return zc(i,null,null,r),Bc(i)}function Qv(i,r,o){i.lanes|=o;var u=i.alternate;u!==null&&(u.lanes|=o);for(var f=!1,m=i.return;m!==null;)m.childLanes|=o,u=m.alternate,u!==null&&(u.childLanes|=o),m.tag===22&&(i=m.stateNode,i===null||i._visibility&1||(f=!0)),i=m,m=m.return;return i.tag===3?(m=i.stateNode,f&&r!==null&&(f=31-_e(o),i=m.hiddenUpdates,u=i[f],u===null?i[f]=[r]:u.push(r),r.lane=o|536870912),m):null}function Bc(i){if(50<eu)throw eu=0,Hm=null,Error(s(185));for(var r=i.return;r!==null;)i=r,r=i.return;return i.tag===3?i.stateNode:null}var Xa={};function eR(i,r,o,u){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Cn(i,r,o,u){return new eR(i,r,o,u)}function Pd(i){return i=i.prototype,!(!i||!i.isReactComponent)}function ss(i,r){var o=i.alternate;return o===null?(o=Cn(i.tag,r,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=r,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&65011712,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,r=i.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o.refCleanup=i.refCleanup,o}function Xv(i,r){i.flags&=65011714;var o=i.alternate;return o===null?(i.childLanes=0,i.lanes=r,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,r=o.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),i}function Fc(i,r,o,u,f,m){var T=0;if(u=i,typeof i=="function")Pd(i)&&(T=1);else if(typeof i=="string")T=a2(i,o,ht.current)?26:i==="html"||i==="head"||i==="body"?27:5;else t:switch(i){case I:return i=Cn(31,o,r,f),i.elementType=I,i.lanes=m,i;case k:return Jr(o.children,f,m,r);case L:T=8,f|=24;break;case H:return i=Cn(12,o,r,f|2),i.elementType=H,i.lanes=m,i;case tt:return i=Cn(13,o,r,f),i.elementType=tt,i.lanes=m,i;case rt:return i=Cn(19,o,r,f),i.elementType=rt,i.lanes=m,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case z:T=10;break t;case G:T=9;break t;case W:T=11;break t;case R:T=14;break t;case A:T=16,u=null;break t}T=29,o=Error(s(130,i===null?"null":typeof i,"")),u=null}return r=Cn(T,o,r,f),r.elementType=i,r.type=u,r.lanes=m,r}function Jr(i,r,o,u){return i=Cn(7,i,u,r),i.lanes=o,i}function kd(i,r,o){return i=Cn(6,i,null,r),i.lanes=o,i}function Wv(i){var r=Cn(18,null,null,0);return r.stateNode=i,r}function Ld(i,r,o){return r=Cn(4,i.children!==null?i.children:[],i.key,r),r.lanes=o,r.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},r}var Jv=new WeakMap;function Bn(i,r){if(typeof i=="object"&&i!==null){var o=Jv.get(i);return o!==void 0?o:(r={value:i,source:r,stack:cl(r)},Jv.set(i,r),r)}return{value:i,source:r,stack:cl(r)}}var Wa=[],Ja=0,Hc=null,Ol=0,Fn=[],Hn=0,qs=null,ji=1,Ui="";function rs(i,r){Wa[Ja++]=Ol,Wa[Ja++]=Hc,Hc=i,Ol=r}function Zv(i,r,o){Fn[Hn++]=ji,Fn[Hn++]=Ui,Fn[Hn++]=qs,qs=i;var u=ji;i=Ui;var f=32-_e(u)-1;u&=~(1<<f),o+=1;var m=32-_e(r)+f;if(30<m){var T=f-f%5;m=(u&(1<<T)-1).toString(32),u>>=T,f-=T,ji=1<<32-_e(r)+f|o<<f|u,Ui=m+i}else ji=1<<m|o<<f|u,Ui=i}function jd(i){i.return!==null&&(rs(i,1),Zv(i,1,0))}function Ud(i){for(;i===Hc;)Hc=Wa[--Ja],Wa[Ja]=null,Ol=Wa[--Ja],Wa[Ja]=null;for(;i===qs;)qs=Fn[--Hn],Fn[Hn]=null,Ui=Fn[--Hn],Fn[Hn]=null,ji=Fn[--Hn],Fn[Hn]=null}function t0(i,r){Fn[Hn++]=ji,Fn[Hn++]=Ui,Fn[Hn++]=qs,ji=r.id,Ui=r.overflow,qs=i}var Qe=null,re=null,Ut=!1,Gs=null,qn=!1,zd=Error(s(519));function Ks(i){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Pl(Bn(r,i)),zd}function e0(i){var r=i.stateNode,o=i.type,u=i.memoizedProps;switch(r[xe]=i,r[Fe]=u,o){case"dialog":Mt("cancel",r),Mt("close",r);break;case"iframe":case"object":case"embed":Mt("load",r);break;case"video":case"audio":for(o=0;o<iu.length;o++)Mt(iu[o],r);break;case"source":Mt("error",r);break;case"img":case"image":case"link":Mt("error",r),Mt("load",r);break;case"details":Mt("toggle",r);break;case"input":Mt("invalid",r),bc(r,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":Mt("invalid",r);break;case"textarea":Mt("invalid",r),Ls(r,u.value,u.defaultValue,u.children)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||r.textContent===""+o||u.suppressHydrationWarning===!0||vT(r.textContent,o)?(u.popover!=null&&(Mt("beforetoggle",r),Mt("toggle",r)),u.onScroll!=null&&Mt("scroll",r),u.onScrollEnd!=null&&Mt("scrollend",r),u.onClick!=null&&(r.onclick=ii),r=!0):r=!1,r||Ks(i,!0)}function n0(i){for(Qe=i.return;Qe;)switch(Qe.tag){case 5:case 31:case 13:qn=!1;return;case 27:case 3:qn=!0;return;default:Qe=Qe.return}}function Za(i){if(i!==Qe)return!1;if(!Ut)return n0(i),Ut=!0,!1;var r=i.tag,o;if((o=r!==3&&r!==27)&&((o=r===5)&&(o=i.type,o=!(o!=="form"&&o!=="button")||sp(i.type,i.memoizedProps)),o=!o),o&&re&&Ks(i),n0(i),r===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));re=CT(i)}else if(r===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));re=CT(i)}else r===27?(r=re,ar(i.type)?(i=up,up=null,re=i):re=r):re=Qe?Kn(i.stateNode.nextSibling):null;return!0}function Zr(){re=Qe=null,Ut=!1}function Bd(){var i=Gs;return i!==null&&(Tn===null?Tn=i:Tn.push.apply(Tn,i),Gs=null),i}function Pl(i){Gs===null?Gs=[i]:Gs.push(i)}var Fd=U(null),ta=null,as=null;function Ys(i,r,o){ut(Fd,r._currentValue),r._currentValue=o}function os(i){i._currentValue=Fd.current,it(Fd)}function Hd(i,r,o){for(;i!==null;){var u=i.alternate;if((i.childLanes&r)!==r?(i.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),i===o)break;i=i.return}}function qd(i,r,o,u){var f=i.child;for(f!==null&&(f.return=i);f!==null;){var m=f.dependencies;if(m!==null){var T=f.child;m=m.firstContext;t:for(;m!==null;){var w=m;m=f;for(var M=0;M<r.length;M++)if(w.context===r[M]){m.lanes|=o,w=m.alternate,w!==null&&(w.lanes|=o),Hd(m.return,o,i),u||(T=null);break t}m=w.next}}else if(f.tag===18){if(T=f.return,T===null)throw Error(s(341));T.lanes|=o,m=T.alternate,m!==null&&(m.lanes|=o),Hd(T,o,i),T=null}else T=f.child;if(T!==null)T.return=f;else for(T=f;T!==null;){if(T===i){T=null;break}if(f=T.sibling,f!==null){f.return=T.return,T=f;break}T=T.return}f=T}}function to(i,r,o,u){i=null;for(var f=r,m=!1;f!==null;){if(!m){if((f.flags&524288)!==0)m=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var T=f.alternate;if(T===null)throw Error(s(387));if(T=T.memoizedProps,T!==null){var w=f.type;xn(f.pendingProps.value,T.value)||(i!==null?i.push(w):i=[w])}}else if(f===zt.current){if(T=f.alternate,T===null)throw Error(s(387));T.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(i!==null?i.push(lu):i=[lu])}f=f.return}i!==null&&qd(r,i,o,u),r.flags|=262144}function qc(i){for(i=i.firstContext;i!==null;){if(!xn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function ea(i){ta=i,as=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Xe(i){return i0(ta,i)}function Gc(i,r){return ta===null&&ea(i),i0(i,r)}function i0(i,r){var o=r._currentValue;if(r={context:r,memoizedValue:o,next:null},as===null){if(i===null)throw Error(s(308));as=r,i.dependencies={lanes:0,firstContext:r},i.flags|=524288}else as=as.next=r;return o}var nR=typeof AbortController<"u"?AbortController:function(){var i=[],r=this.signal={aborted:!1,addEventListener:function(o,u){i.push(u)}};this.abort=function(){r.aborted=!0,i.forEach(function(o){return o()})}},iR=e.unstable_scheduleCallback,sR=e.unstable_NormalPriority,Ie={$$typeof:z,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Gd(){return{controller:new nR,data:new Map,refCount:0}}function kl(i){i.refCount--,i.refCount===0&&iR(sR,function(){i.controller.abort()})}var Ll=null,Kd=0,eo=0,no=null;function rR(i,r){if(Ll===null){var o=Ll=[];Kd=0,eo=Qm(),no={status:"pending",value:void 0,then:function(u){o.push(u)}}}return Kd++,r.then(s0,s0),r}function s0(){if(--Kd===0&&Ll!==null){no!==null&&(no.status="fulfilled");var i=Ll;Ll=null,eo=0,no=null;for(var r=0;r<i.length;r++)(0,i[r])()}}function aR(i,r){var o=[],u={status:"pending",value:null,reason:null,then:function(f){o.push(f)}};return i.then(function(){u.status="fulfilled",u.value=r;for(var f=0;f<o.length;f++)(0,o[f])(r)},function(f){for(u.status="rejected",u.reason=f,f=0;f<o.length;f++)(0,o[f])(void 0)}),u}var r0=Z.S;Z.S=function(i,r){F_=cn(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&rR(i,r),r0!==null&&r0(i,r)};var na=U(null);function Yd(){var i=na.current;return i!==null?i:ne.pooledCache}function Kc(i,r){r===null?ut(na,na.current):ut(na,r.pool)}function a0(){var i=Yd();return i===null?null:{parent:Ie._currentValue,pool:i}}var io=Error(s(460)),$d=Error(s(474)),Yc=Error(s(542)),$c={then:function(){}};function o0(i){return i=i.status,i==="fulfilled"||i==="rejected"}function l0(i,r,o){switch(o=i[o],o===void 0?i.push(r):o!==r&&(r.then(ii,ii),r=o),r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,c0(i),i;default:if(typeof r.status=="string")r.then(ii,ii);else{if(i=ne,i!==null&&100<i.shellSuspendCounter)throw Error(s(482));i=r,i.status="pending",i.then(function(u){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=u}},function(u){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=u}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,c0(i),i}throw sa=r,io}}function ia(i){try{var r=i._init;return r(i._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(sa=o,io):o}}var sa=null;function u0(){if(sa===null)throw Error(s(459));var i=sa;return sa=null,i}function c0(i){if(i===io||i===Yc)throw Error(s(483))}var so=null,jl=0;function Qc(i){var r=jl;return jl+=1,so===null&&(so=[]),l0(so,i,r)}function Ul(i,r){r=r.props.ref,i.ref=r!==void 0?r:null}function Xc(i,r){throw r.$$typeof===b?Error(s(525)):(i=Object.prototype.toString.call(r),Error(s(31,i==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":i)))}function h0(i){function r(B,j){if(i){var K=B.deletions;K===null?(B.deletions=[j],B.flags|=16):K.push(j)}}function o(B,j){if(!i)return null;for(;j!==null;)r(B,j),j=j.sibling;return null}function u(B){for(var j=new Map;B!==null;)B.key!==null?j.set(B.key,B):j.set(B.index,B),B=B.sibling;return j}function f(B,j){return B=ss(B,j),B.index=0,B.sibling=null,B}function m(B,j,K){return B.index=K,i?(K=B.alternate,K!==null?(K=K.index,K<j?(B.flags|=67108866,j):K):(B.flags|=67108866,j)):(B.flags|=1048576,j)}function T(B){return i&&B.alternate===null&&(B.flags|=67108866),B}function w(B,j,K,et){return j===null||j.tag!==6?(j=kd(K,B.mode,et),j.return=B,j):(j=f(j,K),j.return=B,j)}function M(B,j,K,et){var yt=K.type;return yt===k?J(B,j,K.props.children,et,K.key):j!==null&&(j.elementType===yt||typeof yt=="object"&&yt!==null&&yt.$$typeof===A&&ia(yt)===j.type)?(j=f(j,K.props),Ul(j,K),j.return=B,j):(j=Fc(K.type,K.key,K.props,null,B.mode,et),Ul(j,K),j.return=B,j)}function Y(B,j,K,et){return j===null||j.tag!==4||j.stateNode.containerInfo!==K.containerInfo||j.stateNode.implementation!==K.implementation?(j=Ld(K,B.mode,et),j.return=B,j):(j=f(j,K.children||[]),j.return=B,j)}function J(B,j,K,et,yt){return j===null||j.tag!==7?(j=Jr(K,B.mode,et,yt),j.return=B,j):(j=f(j,K),j.return=B,j)}function nt(B,j,K){if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return j=kd(""+j,B.mode,K),j.return=B,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case C:return K=Fc(j.type,j.key,j.props,null,B.mode,K),Ul(K,j),K.return=B,K;case D:return j=Ld(j,B.mode,K),j.return=B,j;case A:return j=ia(j),nt(B,j,K)}if(pe(j)||F(j))return j=Jr(j,B.mode,K,null),j.return=B,j;if(typeof j.then=="function")return nt(B,Qc(j),K);if(j.$$typeof===z)return nt(B,Gc(B,j),K);Xc(B,j)}return null}function $(B,j,K,et){var yt=j!==null?j.key:null;if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return yt!==null?null:w(B,j,""+K,et);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case C:return K.key===yt?M(B,j,K,et):null;case D:return K.key===yt?Y(B,j,K,et):null;case A:return K=ia(K),$(B,j,K,et)}if(pe(K)||F(K))return yt!==null?null:J(B,j,K,et,null);if(typeof K.then=="function")return $(B,j,Qc(K),et);if(K.$$typeof===z)return $(B,j,Gc(B,K),et);Xc(B,K)}return null}function X(B,j,K,et,yt){if(typeof et=="string"&&et!==""||typeof et=="number"||typeof et=="bigint")return B=B.get(K)||null,w(j,B,""+et,yt);if(typeof et=="object"&&et!==null){switch(et.$$typeof){case C:return B=B.get(et.key===null?K:et.key)||null,M(j,B,et,yt);case D:return B=B.get(et.key===null?K:et.key)||null,Y(j,B,et,yt);case A:return et=ia(et),X(B,j,K,et,yt)}if(pe(et)||F(et))return B=B.get(K)||null,J(j,B,et,yt,null);if(typeof et.then=="function")return X(B,j,K,Qc(et),yt);if(et.$$typeof===z)return X(B,j,K,Gc(j,et),yt);Xc(j,et)}return null}function dt(B,j,K,et){for(var yt=null,Ft=null,pt=j,Dt=j=0,Pt=null;pt!==null&&Dt<K.length;Dt++){pt.index>Dt?(Pt=pt,pt=null):Pt=pt.sibling;var Ht=$(B,pt,K[Dt],et);if(Ht===null){pt===null&&(pt=Pt);break}i&&pt&&Ht.alternate===null&&r(B,pt),j=m(Ht,j,Dt),Ft===null?yt=Ht:Ft.sibling=Ht,Ft=Ht,pt=Pt}if(Dt===K.length)return o(B,pt),Ut&&rs(B,Dt),yt;if(pt===null){for(;Dt<K.length;Dt++)pt=nt(B,K[Dt],et),pt!==null&&(j=m(pt,j,Dt),Ft===null?yt=pt:Ft.sibling=pt,Ft=pt);return Ut&&rs(B,Dt),yt}for(pt=u(pt);Dt<K.length;Dt++)Pt=X(pt,B,Dt,K[Dt],et),Pt!==null&&(i&&Pt.alternate!==null&&pt.delete(Pt.key===null?Dt:Pt.key),j=m(Pt,j,Dt),Ft===null?yt=Pt:Ft.sibling=Pt,Ft=Pt);return i&&pt.forEach(function(hr){return r(B,hr)}),Ut&&rs(B,Dt),yt}function _t(B,j,K,et){if(K==null)throw Error(s(151));for(var yt=null,Ft=null,pt=j,Dt=j=0,Pt=null,Ht=K.next();pt!==null&&!Ht.done;Dt++,Ht=K.next()){pt.index>Dt?(Pt=pt,pt=null):Pt=pt.sibling;var hr=$(B,pt,Ht.value,et);if(hr===null){pt===null&&(pt=Pt);break}i&&pt&&hr.alternate===null&&r(B,pt),j=m(hr,j,Dt),Ft===null?yt=hr:Ft.sibling=hr,Ft=hr,pt=Pt}if(Ht.done)return o(B,pt),Ut&&rs(B,Dt),yt;if(pt===null){for(;!Ht.done;Dt++,Ht=K.next())Ht=nt(B,Ht.value,et),Ht!==null&&(j=m(Ht,j,Dt),Ft===null?yt=Ht:Ft.sibling=Ht,Ft=Ht);return Ut&&rs(B,Dt),yt}for(pt=u(pt);!Ht.done;Dt++,Ht=K.next())Ht=X(pt,B,Dt,Ht.value,et),Ht!==null&&(i&&Ht.alternate!==null&&pt.delete(Ht.key===null?Dt:Ht.key),j=m(Ht,j,Dt),Ft===null?yt=Ht:Ft.sibling=Ht,Ft=Ht);return i&&pt.forEach(function(y2){return r(B,y2)}),Ut&&rs(B,Dt),yt}function te(B,j,K,et){if(typeof K=="object"&&K!==null&&K.type===k&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case C:t:{for(var yt=K.key;j!==null;){if(j.key===yt){if(yt=K.type,yt===k){if(j.tag===7){o(B,j.sibling),et=f(j,K.props.children),et.return=B,B=et;break t}}else if(j.elementType===yt||typeof yt=="object"&&yt!==null&&yt.$$typeof===A&&ia(yt)===j.type){o(B,j.sibling),et=f(j,K.props),Ul(et,K),et.return=B,B=et;break t}o(B,j);break}else r(B,j);j=j.sibling}K.type===k?(et=Jr(K.props.children,B.mode,et,K.key),et.return=B,B=et):(et=Fc(K.type,K.key,K.props,null,B.mode,et),Ul(et,K),et.return=B,B=et)}return T(B);case D:t:{for(yt=K.key;j!==null;){if(j.key===yt)if(j.tag===4&&j.stateNode.containerInfo===K.containerInfo&&j.stateNode.implementation===K.implementation){o(B,j.sibling),et=f(j,K.children||[]),et.return=B,B=et;break t}else{o(B,j);break}else r(B,j);j=j.sibling}et=Ld(K,B.mode,et),et.return=B,B=et}return T(B);case A:return K=ia(K),te(B,j,K,et)}if(pe(K))return dt(B,j,K,et);if(F(K)){if(yt=F(K),typeof yt!="function")throw Error(s(150));return K=yt.call(K),_t(B,j,K,et)}if(typeof K.then=="function")return te(B,j,Qc(K),et);if(K.$$typeof===z)return te(B,j,Gc(B,K),et);Xc(B,K)}return typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint"?(K=""+K,j!==null&&j.tag===6?(o(B,j.sibling),et=f(j,K),et.return=B,B=et):(o(B,j),et=kd(K,B.mode,et),et.return=B,B=et),T(B)):o(B,j)}return function(B,j,K,et){try{jl=0;var yt=te(B,j,K,et);return so=null,yt}catch(pt){if(pt===io||pt===Yc)throw pt;var Ft=Cn(29,pt,null,B.mode);return Ft.lanes=et,Ft.return=B,Ft}}}var ra=h0(!0),f0=h0(!1),$s=!1;function Qd(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Xd(i,r){i=i.updateQueue,r.updateQueue===i&&(r.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Qs(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Xs(i,r,o){var u=i.updateQueue;if(u===null)return null;if(u=u.shared,(Kt&2)!==0){var f=u.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),u.pending=r,r=Bc(i),Qv(i,null,o),r}return zc(i,u,r,o),Bc(i)}function zl(i,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194048)!==0)){var u=r.lanes;u&=i.pendingLanes,o|=u,r.lanes=o,dl(i,o)}}function Wd(i,r){var o=i.updateQueue,u=i.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var f=null,m=null;if(o=o.firstBaseUpdate,o!==null){do{var T={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};m===null?f=m=T:m=m.next=T,o=o.next}while(o!==null);m===null?f=m=r:m=m.next=r}else f=m=r;o={baseState:u.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:u.shared,callbacks:u.callbacks},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=r:i.next=r,o.lastBaseUpdate=r}var Jd=!1;function Bl(){if(Jd){var i=no;if(i!==null)throw i}}function Fl(i,r,o,u){Jd=!1;var f=i.updateQueue;$s=!1;var m=f.firstBaseUpdate,T=f.lastBaseUpdate,w=f.shared.pending;if(w!==null){f.shared.pending=null;var M=w,Y=M.next;M.next=null,T===null?m=Y:T.next=Y,T=M;var J=i.alternate;J!==null&&(J=J.updateQueue,w=J.lastBaseUpdate,w!==T&&(w===null?J.firstBaseUpdate=Y:w.next=Y,J.lastBaseUpdate=M))}if(m!==null){var nt=f.baseState;T=0,J=Y=M=null,w=m;do{var $=w.lane&-536870913,X=$!==w.lane;if(X?(Ot&$)===$:(u&$)===$){$!==0&&$===eo&&(Jd=!0),J!==null&&(J=J.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});t:{var dt=i,_t=w;$=r;var te=o;switch(_t.tag){case 1:if(dt=_t.payload,typeof dt=="function"){nt=dt.call(te,nt,$);break t}nt=dt;break t;case 3:dt.flags=dt.flags&-65537|128;case 0:if(dt=_t.payload,$=typeof dt=="function"?dt.call(te,nt,$):dt,$==null)break t;nt=_({},nt,$);break t;case 2:$s=!0}}$=w.callback,$!==null&&(i.flags|=64,X&&(i.flags|=8192),X=f.callbacks,X===null?f.callbacks=[$]:X.push($))}else X={lane:$,tag:w.tag,payload:w.payload,callback:w.callback,next:null},J===null?(Y=J=X,M=nt):J=J.next=X,T|=$;if(w=w.next,w===null){if(w=f.shared.pending,w===null)break;X=w,w=X.next,X.next=null,f.lastBaseUpdate=X,f.shared.pending=null}}while(!0);J===null&&(M=nt),f.baseState=M,f.firstBaseUpdate=Y,f.lastBaseUpdate=J,m===null&&(f.shared.lanes=0),er|=T,i.lanes=T,i.memoizedState=nt}}function d0(i,r){if(typeof i!="function")throw Error(s(191,i));i.call(r)}function m0(i,r){var o=i.callbacks;if(o!==null)for(i.callbacks=null,i=0;i<o.length;i++)d0(o[i],r)}var ro=U(null),Wc=U(0);function p0(i,r){i=gs,ut(Wc,i),ut(ro,r),gs=i|r.baseLanes}function Zd(){ut(Wc,gs),ut(ro,ro.current)}function tm(){gs=Wc.current,it(ro),it(Wc)}var Rn=U(null),Gn=null;function Ws(i){var r=i.alternate;ut(Ee,Ee.current&1),ut(Rn,i),Gn===null&&(r===null||ro.current!==null||r.memoizedState!==null)&&(Gn=i)}function em(i){ut(Ee,Ee.current),ut(Rn,i),Gn===null&&(Gn=i)}function g0(i){i.tag===22?(ut(Ee,Ee.current),ut(Rn,i),Gn===null&&(Gn=i)):Js()}function Js(){ut(Ee,Ee.current),ut(Rn,Rn.current)}function In(i){it(Rn),Gn===i&&(Gn=null),it(Ee)}var Ee=U(0);function Jc(i){for(var r=i;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||op(o)||lp(o)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var ls=0,Ct=null,Jt=null,De=null,Zc=!1,ao=!1,aa=!1,th=0,Hl=0,oo=null,oR=0;function ge(){throw Error(s(321))}function nm(i,r){if(r===null)return!1;for(var o=0;o<r.length&&o<i.length;o++)if(!xn(i[o],r[o]))return!1;return!0}function im(i,r,o,u,f,m){return ls=m,Ct=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,Z.H=i===null||i.memoizedState===null?Z0:vm,aa=!1,m=o(u,f),aa=!1,ao&&(m=v0(r,o,u,f)),y0(i),m}function y0(i){Z.H=Kl;var r=Jt!==null&&Jt.next!==null;if(ls=0,De=Jt=Ct=null,Zc=!1,Hl=0,oo=null,r)throw Error(s(300));i===null||Ne||(i=i.dependencies,i!==null&&qc(i)&&(Ne=!0))}function v0(i,r,o,u){Ct=i;var f=0;do{if(ao&&(oo=null),Hl=0,ao=!1,25<=f)throw Error(s(301));if(f+=1,De=Jt=null,i.updateQueue!=null){var m=i.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}Z.H=t_,m=r(o,u)}while(ao);return m}function lR(){var i=Z.H,r=i.useState()[0];return r=typeof r.then=="function"?ql(r):r,i=i.useState()[0],(Jt!==null?Jt.memoizedState:null)!==i&&(Ct.flags|=1024),r}function sm(){var i=th!==0;return th=0,i}function rm(i,r,o){r.updateQueue=i.updateQueue,r.flags&=-2053,i.lanes&=~o}function am(i){if(Zc){for(i=i.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}Zc=!1}ls=0,De=Jt=Ct=null,ao=!1,Hl=th=0,oo=null}function fn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return De===null?Ct.memoizedState=De=i:De=De.next=i,De}function be(){if(Jt===null){var i=Ct.alternate;i=i!==null?i.memoizedState:null}else i=Jt.next;var r=De===null?Ct.memoizedState:De.next;if(r!==null)De=r,Jt=i;else{if(i===null)throw Ct.alternate===null?Error(s(467)):Error(s(310));Jt=i,i={memoizedState:Jt.memoizedState,baseState:Jt.baseState,baseQueue:Jt.baseQueue,queue:Jt.queue,next:null},De===null?Ct.memoizedState=De=i:De=De.next=i}return De}function eh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ql(i){var r=Hl;return Hl+=1,oo===null&&(oo=[]),i=l0(oo,i,r),r=Ct,(De===null?r.memoizedState:De.next)===null&&(r=r.alternate,Z.H=r===null||r.memoizedState===null?Z0:vm),i}function nh(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return ql(i);if(i.$$typeof===z)return Xe(i)}throw Error(s(438,String(i)))}function om(i){var r=null,o=Ct.updateQueue;if(o!==null&&(r=o.memoCache),r==null){var u=Ct.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(r={data:u.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),o===null&&(o=eh(),Ct.updateQueue=o),o.memoCache=r,o=r.data[r.index],o===void 0)for(o=r.data[r.index]=Array(i),u=0;u<i;u++)o[u]=P;return r.index++,o}function us(i,r){return typeof r=="function"?r(i):r}function ih(i){var r=be();return lm(r,Jt,i)}function lm(i,r,o){var u=i.queue;if(u===null)throw Error(s(311));u.lastRenderedReducer=o;var f=i.baseQueue,m=u.pending;if(m!==null){if(f!==null){var T=f.next;f.next=m.next,m.next=T}r.baseQueue=f=m,u.pending=null}if(m=i.baseState,f===null)i.memoizedState=m;else{r=f.next;var w=T=null,M=null,Y=r,J=!1;do{var nt=Y.lane&-536870913;if(nt!==Y.lane?(Ot&nt)===nt:(ls&nt)===nt){var $=Y.revertLane;if($===0)M!==null&&(M=M.next={lane:0,revertLane:0,gesture:null,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),nt===eo&&(J=!0);else if((ls&$)===$){Y=Y.next,$===eo&&(J=!0);continue}else nt={lane:0,revertLane:Y.revertLane,gesture:null,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},M===null?(w=M=nt,T=m):M=M.next=nt,Ct.lanes|=$,er|=$;nt=Y.action,aa&&o(m,nt),m=Y.hasEagerState?Y.eagerState:o(m,nt)}else $={lane:nt,revertLane:Y.revertLane,gesture:Y.gesture,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},M===null?(w=M=$,T=m):M=M.next=$,Ct.lanes|=nt,er|=nt;Y=Y.next}while(Y!==null&&Y!==r);if(M===null?T=m:M.next=w,!xn(m,i.memoizedState)&&(Ne=!0,J&&(o=no,o!==null)))throw o;i.memoizedState=m,i.baseState=T,i.baseQueue=M,u.lastRenderedState=m}return f===null&&(u.lanes=0),[i.memoizedState,u.dispatch]}function um(i){var r=be(),o=r.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=i;var u=o.dispatch,f=o.pending,m=r.memoizedState;if(f!==null){o.pending=null;var T=f=f.next;do m=i(m,T.action),T=T.next;while(T!==f);xn(m,r.memoizedState)||(Ne=!0),r.memoizedState=m,r.baseQueue===null&&(r.baseState=m),o.lastRenderedState=m}return[m,u]}function _0(i,r,o){var u=Ct,f=be(),m=Ut;if(m){if(o===void 0)throw Error(s(407));o=o()}else o=r();var T=!xn((Jt||f).memoizedState,o);if(T&&(f.memoizedState=o,Ne=!0),f=f.queue,fm(b0.bind(null,u,f,i),[i]),f.getSnapshot!==r||T||De!==null&&De.memoizedState.tag&1){if(u.flags|=2048,lo(9,{destroy:void 0},E0.bind(null,u,f,o,r),null),ne===null)throw Error(s(349));m||(ls&127)!==0||T0(u,r,o)}return o}function T0(i,r,o){i.flags|=16384,i={getSnapshot:r,value:o},r=Ct.updateQueue,r===null?(r=eh(),Ct.updateQueue=r,r.stores=[i]):(o=r.stores,o===null?r.stores=[i]:o.push(i))}function E0(i,r,o,u){r.value=o,r.getSnapshot=u,S0(r)&&w0(i)}function b0(i,r,o){return o(function(){S0(r)&&w0(i)})}function S0(i){var r=i.getSnapshot;i=i.value;try{var o=r();return!xn(i,o)}catch{return!0}}function w0(i){var r=Wr(i,2);r!==null&&En(r,i,2)}function cm(i){var r=fn();if(typeof i=="function"){var o=i;if(i=o(),aa){Pn(!0);try{o()}finally{Pn(!1)}}}return r.memoizedState=r.baseState=i,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:us,lastRenderedState:i},r}function A0(i,r,o,u){return i.baseState=o,lm(i,Jt,typeof u=="function"?u:us)}function uR(i,r,o,u,f){if(ah(i))throw Error(s(485));if(i=r.action,i!==null){var m={payload:f,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){m.listeners.push(T)}};Z.T!==null?o(!0):m.isTransition=!1,u(m),o=r.pending,o===null?(m.next=r.pending=m,x0(r,m)):(m.next=o.next,r.pending=o.next=m)}}function x0(i,r){var o=r.action,u=r.payload,f=i.state;if(r.isTransition){var m=Z.T,T={};Z.T=T;try{var w=o(f,u),M=Z.S;M!==null&&M(T,w),C0(i,r,w)}catch(Y){hm(i,r,Y)}finally{m!==null&&T.types!==null&&(m.types=T.types),Z.T=m}}else try{m=o(f,u),C0(i,r,m)}catch(Y){hm(i,r,Y)}}function C0(i,r,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){R0(i,r,u)},function(u){return hm(i,r,u)}):R0(i,r,o)}function R0(i,r,o){r.status="fulfilled",r.value=o,I0(r),i.state=o,r=i.pending,r!==null&&(o=r.next,o===r?i.pending=null:(o=o.next,r.next=o,x0(i,o)))}function hm(i,r,o){var u=i.pending;if(i.pending=null,u!==null){u=u.next;do r.status="rejected",r.reason=o,I0(r),r=r.next;while(r!==u)}i.action=null}function I0(i){i=i.listeners;for(var r=0;r<i.length;r++)(0,i[r])()}function D0(i,r){return r}function N0(i,r){if(Ut){var o=ne.formState;if(o!==null){t:{var u=Ct;if(Ut){if(re){e:{for(var f=re,m=qn;f.nodeType!==8;){if(!m){f=null;break e}if(f=Kn(f.nextSibling),f===null){f=null;break e}}m=f.data,f=m==="F!"||m==="F"?f:null}if(f){re=Kn(f.nextSibling),u=f.data==="F!";break t}}Ks(u)}u=!1}u&&(r=o[0])}}return o=fn(),o.memoizedState=o.baseState=r,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:D0,lastRenderedState:r},o.queue=u,o=X0.bind(null,Ct,u),u.dispatch=o,u=cm(!1),m=ym.bind(null,Ct,!1,u.queue),u=fn(),f={state:r,dispatch:null,action:i,pending:null},u.queue=f,o=uR.bind(null,Ct,f,m,o),f.dispatch=o,u.memoizedState=i,[r,o,!1]}function M0(i){var r=be();return V0(r,Jt,i)}function V0(i,r,o){if(r=lm(i,r,D0)[0],i=ih(us)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var u=ql(r)}catch(T){throw T===io?Yc:T}else u=r;r=be();var f=r.queue,m=f.dispatch;return o!==r.memoizedState&&(Ct.flags|=2048,lo(9,{destroy:void 0},cR.bind(null,f,o),null)),[u,m,i]}function cR(i,r){i.action=r}function O0(i){var r=be(),o=Jt;if(o!==null)return V0(r,o,i);be(),r=r.memoizedState,o=be();var u=o.queue.dispatch;return o.memoizedState=i,[r,u,!1]}function lo(i,r,o,u){return i={tag:i,create:o,deps:u,inst:r,next:null},r=Ct.updateQueue,r===null&&(r=eh(),Ct.updateQueue=r),o=r.lastEffect,o===null?r.lastEffect=i.next=i:(u=o.next,o.next=i,i.next=u,r.lastEffect=i),i}function P0(){return be().memoizedState}function sh(i,r,o,u){var f=fn();Ct.flags|=i,f.memoizedState=lo(1|r,{destroy:void 0},o,u===void 0?null:u)}function rh(i,r,o,u){var f=be();u=u===void 0?null:u;var m=f.memoizedState.inst;Jt!==null&&u!==null&&nm(u,Jt.memoizedState.deps)?f.memoizedState=lo(r,m,o,u):(Ct.flags|=i,f.memoizedState=lo(1|r,m,o,u))}function k0(i,r){sh(8390656,8,i,r)}function fm(i,r){rh(2048,8,i,r)}function hR(i){Ct.flags|=4;var r=Ct.updateQueue;if(r===null)r=eh(),Ct.updateQueue=r,r.events=[i];else{var o=r.events;o===null?r.events=[i]:o.push(i)}}function L0(i){var r=be().memoizedState;return hR({ref:r,nextImpl:i}),function(){if((Kt&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function j0(i,r){return rh(4,2,i,r)}function U0(i,r){return rh(4,4,i,r)}function z0(i,r){if(typeof r=="function"){i=i();var o=r(i);return function(){typeof o=="function"?o():r(null)}}if(r!=null)return i=i(),r.current=i,function(){r.current=null}}function B0(i,r,o){o=o!=null?o.concat([i]):null,rh(4,4,z0.bind(null,r,i),o)}function dm(){}function F0(i,r){var o=be();r=r===void 0?null:r;var u=o.memoizedState;return r!==null&&nm(r,u[1])?u[0]:(o.memoizedState=[i,r],i)}function H0(i,r){var o=be();r=r===void 0?null:r;var u=o.memoizedState;if(r!==null&&nm(r,u[1]))return u[0];if(u=i(),aa){Pn(!0);try{i()}finally{Pn(!1)}}return o.memoizedState=[u,r],u}function mm(i,r,o){return o===void 0||(ls&1073741824)!==0&&(Ot&261930)===0?i.memoizedState=r:(i.memoizedState=o,i=q_(),Ct.lanes|=i,er|=i,o)}function q0(i,r,o,u){return xn(o,r)?o:ro.current!==null?(i=mm(i,o,u),xn(i,r)||(Ne=!0),i):(ls&42)===0||(ls&1073741824)!==0&&(Ot&261930)===0?(Ne=!0,i.memoizedState=o):(i=q_(),Ct.lanes|=i,er|=i,r)}function G0(i,r,o,u,f){var m=ot.p;ot.p=m!==0&&8>m?m:8;var T=Z.T,w={};Z.T=w,ym(i,!1,r,o);try{var M=f(),Y=Z.S;if(Y!==null&&Y(w,M),M!==null&&typeof M=="object"&&typeof M.then=="function"){var J=aR(M,u);Gl(i,r,J,Mn(i))}else Gl(i,r,u,Mn(i))}catch(nt){Gl(i,r,{then:function(){},status:"rejected",reason:nt},Mn())}finally{ot.p=m,T!==null&&w.types!==null&&(T.types=w.types),Z.T=T}}function fR(){}function pm(i,r,o,u){if(i.tag!==5)throw Error(s(476));var f=K0(i).queue;G0(i,f,r,ft,o===null?fR:function(){return Y0(i),o(u)})}function K0(i){var r=i.memoizedState;if(r!==null)return r;r={memoizedState:ft,baseState:ft,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:us,lastRenderedState:ft},next:null};var o={};return r.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:us,lastRenderedState:o},next:null},i.memoizedState=r,i=i.alternate,i!==null&&(i.memoizedState=r),r}function Y0(i){var r=K0(i);r.next===null&&(r=i.alternate.memoizedState),Gl(i,r.next.queue,{},Mn())}function gm(){return Xe(lu)}function $0(){return be().memoizedState}function Q0(){return be().memoizedState}function dR(i){for(var r=i.return;r!==null;){switch(r.tag){case 24:case 3:var o=Mn();i=Qs(o);var u=Xs(r,i,o);u!==null&&(En(u,r,o),zl(u,r,o)),r={cache:Gd()},i.payload=r;return}r=r.return}}function mR(i,r,o){var u=Mn();o={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},ah(i)?W0(r,o):(o=Od(i,r,o,u),o!==null&&(En(o,i,u),J0(o,r,u)))}function X0(i,r,o){var u=Mn();Gl(i,r,o,u)}function Gl(i,r,o,u){var f={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(ah(i))W0(r,f);else{var m=i.alternate;if(i.lanes===0&&(m===null||m.lanes===0)&&(m=r.lastRenderedReducer,m!==null))try{var T=r.lastRenderedState,w=m(T,o);if(f.hasEagerState=!0,f.eagerState=w,xn(w,T))return zc(i,r,f,0),ne===null&&Uc(),!1}catch{}if(o=Od(i,r,f,u),o!==null)return En(o,i,u),J0(o,r,u),!0}return!1}function ym(i,r,o,u){if(u={lane:2,revertLane:Qm(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},ah(i)){if(r)throw Error(s(479))}else r=Od(i,o,u,2),r!==null&&En(r,i,2)}function ah(i){var r=i.alternate;return i===Ct||r!==null&&r===Ct}function W0(i,r){ao=Zc=!0;var o=i.pending;o===null?r.next=r:(r.next=o.next,o.next=r),i.pending=r}function J0(i,r,o){if((o&4194048)!==0){var u=r.lanes;u&=i.pendingLanes,o|=u,r.lanes=o,dl(i,o)}}var Kl={readContext:Xe,use:nh,useCallback:ge,useContext:ge,useEffect:ge,useImperativeHandle:ge,useLayoutEffect:ge,useInsertionEffect:ge,useMemo:ge,useReducer:ge,useRef:ge,useState:ge,useDebugValue:ge,useDeferredValue:ge,useTransition:ge,useSyncExternalStore:ge,useId:ge,useHostTransitionStatus:ge,useFormState:ge,useActionState:ge,useOptimistic:ge,useMemoCache:ge,useCacheRefresh:ge};Kl.useEffectEvent=ge;var Z0={readContext:Xe,use:nh,useCallback:function(i,r){return fn().memoizedState=[i,r===void 0?null:r],i},useContext:Xe,useEffect:k0,useImperativeHandle:function(i,r,o){o=o!=null?o.concat([i]):null,sh(4194308,4,z0.bind(null,r,i),o)},useLayoutEffect:function(i,r){return sh(4194308,4,i,r)},useInsertionEffect:function(i,r){sh(4,2,i,r)},useMemo:function(i,r){var o=fn();r=r===void 0?null:r;var u=i();if(aa){Pn(!0);try{i()}finally{Pn(!1)}}return o.memoizedState=[u,r],u},useReducer:function(i,r,o){var u=fn();if(o!==void 0){var f=o(r);if(aa){Pn(!0);try{o(r)}finally{Pn(!1)}}}else f=r;return u.memoizedState=u.baseState=f,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:f},u.queue=i,i=i.dispatch=mR.bind(null,Ct,i),[u.memoizedState,i]},useRef:function(i){var r=fn();return i={current:i},r.memoizedState=i},useState:function(i){i=cm(i);var r=i.queue,o=X0.bind(null,Ct,r);return r.dispatch=o,[i.memoizedState,o]},useDebugValue:dm,useDeferredValue:function(i,r){var o=fn();return mm(o,i,r)},useTransition:function(){var i=cm(!1);return i=G0.bind(null,Ct,i.queue,!0,!1),fn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,r,o){var u=Ct,f=fn();if(Ut){if(o===void 0)throw Error(s(407));o=o()}else{if(o=r(),ne===null)throw Error(s(349));(Ot&127)!==0||T0(u,r,o)}f.memoizedState=o;var m={value:o,getSnapshot:r};return f.queue=m,k0(b0.bind(null,u,m,i),[i]),u.flags|=2048,lo(9,{destroy:void 0},E0.bind(null,u,m,o,r),null),o},useId:function(){var i=fn(),r=ne.identifierPrefix;if(Ut){var o=Ui,u=ji;o=(u&~(1<<32-_e(u)-1)).toString(32)+o,r="_"+r+"R_"+o,o=th++,0<o&&(r+="H"+o.toString(32)),r+="_"}else o=oR++,r="_"+r+"r_"+o.toString(32)+"_";return i.memoizedState=r},useHostTransitionStatus:gm,useFormState:N0,useActionState:N0,useOptimistic:function(i){var r=fn();r.memoizedState=r.baseState=i;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=o,r=ym.bind(null,Ct,!0,o),o.dispatch=r,[i,r]},useMemoCache:om,useCacheRefresh:function(){return fn().memoizedState=dR.bind(null,Ct)},useEffectEvent:function(i){var r=fn(),o={impl:i};return r.memoizedState=o,function(){if((Kt&2)!==0)throw Error(s(440));return o.impl.apply(void 0,arguments)}}},vm={readContext:Xe,use:nh,useCallback:F0,useContext:Xe,useEffect:fm,useImperativeHandle:B0,useInsertionEffect:j0,useLayoutEffect:U0,useMemo:H0,useReducer:ih,useRef:P0,useState:function(){return ih(us)},useDebugValue:dm,useDeferredValue:function(i,r){var o=be();return q0(o,Jt.memoizedState,i,r)},useTransition:function(){var i=ih(us)[0],r=be().memoizedState;return[typeof i=="boolean"?i:ql(i),r]},useSyncExternalStore:_0,useId:$0,useHostTransitionStatus:gm,useFormState:M0,useActionState:M0,useOptimistic:function(i,r){var o=be();return A0(o,Jt,i,r)},useMemoCache:om,useCacheRefresh:Q0};vm.useEffectEvent=L0;var t_={readContext:Xe,use:nh,useCallback:F0,useContext:Xe,useEffect:fm,useImperativeHandle:B0,useInsertionEffect:j0,useLayoutEffect:U0,useMemo:H0,useReducer:um,useRef:P0,useState:function(){return um(us)},useDebugValue:dm,useDeferredValue:function(i,r){var o=be();return Jt===null?mm(o,i,r):q0(o,Jt.memoizedState,i,r)},useTransition:function(){var i=um(us)[0],r=be().memoizedState;return[typeof i=="boolean"?i:ql(i),r]},useSyncExternalStore:_0,useId:$0,useHostTransitionStatus:gm,useFormState:O0,useActionState:O0,useOptimistic:function(i,r){var o=be();return Jt!==null?A0(o,Jt,i,r):(o.baseState=i,[i,o.queue.dispatch])},useMemoCache:om,useCacheRefresh:Q0};t_.useEffectEvent=L0;function _m(i,r,o,u){r=i.memoizedState,o=o(u,r),o=o==null?r:_({},r,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var Tm={enqueueSetState:function(i,r,o){i=i._reactInternals;var u=Mn(),f=Qs(u);f.payload=r,o!=null&&(f.callback=o),r=Xs(i,f,u),r!==null&&(En(r,i,u),zl(r,i,u))},enqueueReplaceState:function(i,r,o){i=i._reactInternals;var u=Mn(),f=Qs(u);f.tag=1,f.payload=r,o!=null&&(f.callback=o),r=Xs(i,f,u),r!==null&&(En(r,i,u),zl(r,i,u))},enqueueForceUpdate:function(i,r){i=i._reactInternals;var o=Mn(),u=Qs(o);u.tag=2,r!=null&&(u.callback=r),r=Xs(i,u,o),r!==null&&(En(r,i,o),zl(r,i,o))}};function e_(i,r,o,u,f,m,T){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(u,m,T):r.prototype&&r.prototype.isPureReactComponent?!Ml(o,u)||!Ml(f,m):!0}function n_(i,r,o,u){i=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,u),r.state!==i&&Tm.enqueueReplaceState(r,r.state,null)}function oa(i,r){var o=r;if("ref"in r){o={};for(var u in r)u!=="ref"&&(o[u]=r[u])}if(i=i.defaultProps){o===r&&(o=_({},o));for(var f in i)o[f]===void 0&&(o[f]=i[f])}return o}function i_(i){jc(i)}function s_(i){console.error(i)}function r_(i){jc(i)}function oh(i,r){try{var o=i.onUncaughtError;o(r.value,{componentStack:r.stack})}catch(u){setTimeout(function(){throw u})}}function a_(i,r,o){try{var u=i.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Em(i,r,o){return o=Qs(o),o.tag=3,o.payload={element:null},o.callback=function(){oh(i,r)},o}function o_(i){return i=Qs(i),i.tag=3,i}function l_(i,r,o,u){var f=o.type.getDerivedStateFromError;if(typeof f=="function"){var m=u.value;i.payload=function(){return f(m)},i.callback=function(){a_(r,o,u)}}var T=o.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(i.callback=function(){a_(r,o,u),typeof f!="function"&&(nr===null?nr=new Set([this]):nr.add(this));var w=u.stack;this.componentDidCatch(u.value,{componentStack:w!==null?w:""})})}function pR(i,r,o,u,f){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(r=o.alternate,r!==null&&to(r,o,f,!0),o=Rn.current,o!==null){switch(o.tag){case 31:case 13:return Gn===null?_h():o.alternate===null&&ye===0&&(ye=3),o.flags&=-257,o.flags|=65536,o.lanes=f,u===$c?o.flags|=16384:(r=o.updateQueue,r===null?o.updateQueue=new Set([u]):r.add(u),Km(i,u,f)),!1;case 22:return o.flags|=65536,u===$c?o.flags|=16384:(r=o.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=r):(o=r.retryQueue,o===null?r.retryQueue=new Set([u]):o.add(u)),Km(i,u,f)),!1}throw Error(s(435,o.tag))}return Km(i,u,f),_h(),!1}if(Ut)return r=Rn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,u!==zd&&(i=Error(s(422),{cause:u}),Pl(Bn(i,o)))):(u!==zd&&(r=Error(s(423),{cause:u}),Pl(Bn(r,o))),i=i.current.alternate,i.flags|=65536,f&=-f,i.lanes|=f,u=Bn(u,o),f=Em(i.stateNode,u,f),Wd(i,f),ye!==4&&(ye=2)),!1;var m=Error(s(520),{cause:u});if(m=Bn(m,o),tu===null?tu=[m]:tu.push(m),ye!==4&&(ye=2),r===null)return!0;u=Bn(u,o),o=r;do{switch(o.tag){case 3:return o.flags|=65536,i=f&-f,o.lanes|=i,i=Em(o.stateNode,u,i),Wd(o,i),!1;case 1:if(r=o.type,m=o.stateNode,(o.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(nr===null||!nr.has(m))))return o.flags|=65536,f&=-f,o.lanes|=f,f=o_(f),l_(f,i,o,u),Wd(o,f),!1}o=o.return}while(o!==null);return!1}var bm=Error(s(461)),Ne=!1;function We(i,r,o,u){r.child=i===null?f0(r,null,o,u):ra(r,i.child,o,u)}function u_(i,r,o,u,f){o=o.render;var m=r.ref;if("ref"in u){var T={};for(var w in u)w!=="ref"&&(T[w]=u[w])}else T=u;return ea(r),u=im(i,r,o,T,m,f),w=sm(),i!==null&&!Ne?(rm(i,r,f),cs(i,r,f)):(Ut&&w&&jd(r),r.flags|=1,We(i,r,u,f),r.child)}function c_(i,r,o,u,f){if(i===null){var m=o.type;return typeof m=="function"&&!Pd(m)&&m.defaultProps===void 0&&o.compare===null?(r.tag=15,r.type=m,h_(i,r,m,u,f)):(i=Fc(o.type,null,u,r,r.mode,f),i.ref=r.ref,i.return=r,r.child=i)}if(m=i.child,!Dm(i,f)){var T=m.memoizedProps;if(o=o.compare,o=o!==null?o:Ml,o(T,u)&&i.ref===r.ref)return cs(i,r,f)}return r.flags|=1,i=ss(m,u),i.ref=r.ref,i.return=r,r.child=i}function h_(i,r,o,u,f){if(i!==null){var m=i.memoizedProps;if(Ml(m,u)&&i.ref===r.ref)if(Ne=!1,r.pendingProps=u=m,Dm(i,f))(i.flags&131072)!==0&&(Ne=!0);else return r.lanes=i.lanes,cs(i,r,f)}return Sm(i,r,o,u,f)}function f_(i,r,o,u){var f=u.children,m=i!==null?i.memoizedState:null;if(i===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((r.flags&128)!==0){if(m=m!==null?m.baseLanes|o:o,i!==null){for(u=r.child=i.child,f=0;u!==null;)f=f|u.lanes|u.childLanes,u=u.sibling;u=f&~m}else u=0,r.child=null;return d_(i,r,m,o,u)}if((o&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},i!==null&&Kc(r,m!==null?m.cachePool:null),m!==null?p0(r,m):Zd(),g0(r);else return u=r.lanes=536870912,d_(i,r,m!==null?m.baseLanes|o:o,o,u)}else m!==null?(Kc(r,m.cachePool),p0(r,m),Js(),r.memoizedState=null):(i!==null&&Kc(r,null),Zd(),Js());return We(i,r,f,o),r.child}function Yl(i,r){return i!==null&&i.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function d_(i,r,o,u,f){var m=Yd();return m=m===null?null:{parent:Ie._currentValue,pool:m},r.memoizedState={baseLanes:o,cachePool:m},i!==null&&Kc(r,null),Zd(),g0(r),i!==null&&to(i,r,u,!0),r.childLanes=f,null}function lh(i,r){return r=ch({mode:r.mode,children:r.children},i.mode),r.ref=i.ref,i.child=r,r.return=i,r}function m_(i,r,o){return ra(r,i.child,null,o),i=lh(r,r.pendingProps),i.flags|=2,In(r),r.memoizedState=null,i}function gR(i,r,o){var u=r.pendingProps,f=(r.flags&128)!==0;if(r.flags&=-129,i===null){if(Ut){if(u.mode==="hidden")return i=lh(r,u),r.lanes=536870912,Yl(null,i);if(em(r),(i=re)?(i=xT(i,qn),i=i!==null&&i.data==="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:qs!==null?{id:ji,overflow:Ui}:null,retryLane:536870912,hydrationErrors:null},o=Wv(i),o.return=r,r.child=o,Qe=r,re=null)):i=null,i===null)throw Ks(r);return r.lanes=536870912,null}return lh(r,u)}var m=i.memoizedState;if(m!==null){var T=m.dehydrated;if(em(r),f)if(r.flags&256)r.flags&=-257,r=m_(i,r,o);else if(r.memoizedState!==null)r.child=i.child,r.flags|=128,r=null;else throw Error(s(558));else if(Ne||to(i,r,o,!1),f=(o&i.childLanes)!==0,Ne||f){if(u=ne,u!==null&&(T=ml(u,o),T!==0&&T!==m.retryLane))throw m.retryLane=T,Wr(i,T),En(u,i,T),bm;_h(),r=m_(i,r,o)}else i=m.treeContext,re=Kn(T.nextSibling),Qe=r,Ut=!0,Gs=null,qn=!1,i!==null&&t0(r,i),r=lh(r,u),r.flags|=4096;return r}return i=ss(i.child,{mode:u.mode,children:u.children}),i.ref=r.ref,r.child=i,i.return=r,i}function uh(i,r){var o=r.ref;if(o===null)i!==null&&i.ref!==null&&(r.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(s(284));(i===null||i.ref!==o)&&(r.flags|=4194816)}}function Sm(i,r,o,u,f){return ea(r),o=im(i,r,o,u,void 0,f),u=sm(),i!==null&&!Ne?(rm(i,r,f),cs(i,r,f)):(Ut&&u&&jd(r),r.flags|=1,We(i,r,o,f),r.child)}function p_(i,r,o,u,f,m){return ea(r),r.updateQueue=null,o=v0(r,u,o,f),y0(i),u=sm(),i!==null&&!Ne?(rm(i,r,m),cs(i,r,m)):(Ut&&u&&jd(r),r.flags|=1,We(i,r,o,m),r.child)}function g_(i,r,o,u,f){if(ea(r),r.stateNode===null){var m=Xa,T=o.contextType;typeof T=="object"&&T!==null&&(m=Xe(T)),m=new o(u,m),r.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=Tm,r.stateNode=m,m._reactInternals=r,m=r.stateNode,m.props=u,m.state=r.memoizedState,m.refs={},Qd(r),T=o.contextType,m.context=typeof T=="object"&&T!==null?Xe(T):Xa,m.state=r.memoizedState,T=o.getDerivedStateFromProps,typeof T=="function"&&(_m(r,o,T,u),m.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(T=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),T!==m.state&&Tm.enqueueReplaceState(m,m.state,null),Fl(r,u,m,f),Bl(),m.state=r.memoizedState),typeof m.componentDidMount=="function"&&(r.flags|=4194308),u=!0}else if(i===null){m=r.stateNode;var w=r.memoizedProps,M=oa(o,w);m.props=M;var Y=m.context,J=o.contextType;T=Xa,typeof J=="object"&&J!==null&&(T=Xe(J));var nt=o.getDerivedStateFromProps;J=typeof nt=="function"||typeof m.getSnapshotBeforeUpdate=="function",w=r.pendingProps!==w,J||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(w||Y!==T)&&n_(r,m,u,T),$s=!1;var $=r.memoizedState;m.state=$,Fl(r,u,m,f),Bl(),Y=r.memoizedState,w||$!==Y||$s?(typeof nt=="function"&&(_m(r,o,nt,u),Y=r.memoizedState),(M=$s||e_(r,o,M,u,$,Y,T))?(J||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(r.flags|=4194308)):(typeof m.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=Y),m.props=u,m.state=Y,m.context=T,u=M):(typeof m.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{m=r.stateNode,Xd(i,r),T=r.memoizedProps,J=oa(o,T),m.props=J,nt=r.pendingProps,$=m.context,Y=o.contextType,M=Xa,typeof Y=="object"&&Y!==null&&(M=Xe(Y)),w=o.getDerivedStateFromProps,(Y=typeof w=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(T!==nt||$!==M)&&n_(r,m,u,M),$s=!1,$=r.memoizedState,m.state=$,Fl(r,u,m,f),Bl();var X=r.memoizedState;T!==nt||$!==X||$s||i!==null&&i.dependencies!==null&&qc(i.dependencies)?(typeof w=="function"&&(_m(r,o,w,u),X=r.memoizedState),(J=$s||e_(r,o,J,u,$,X,M)||i!==null&&i.dependencies!==null&&qc(i.dependencies))?(Y||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(u,X,M),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(u,X,M)),typeof m.componentDidUpdate=="function"&&(r.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof m.componentDidUpdate!="function"||T===i.memoizedProps&&$===i.memoizedState||(r.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||T===i.memoizedProps&&$===i.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=X),m.props=u,m.state=X,m.context=M,u=J):(typeof m.componentDidUpdate!="function"||T===i.memoizedProps&&$===i.memoizedState||(r.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||T===i.memoizedProps&&$===i.memoizedState||(r.flags|=1024),u=!1)}return m=u,uh(i,r),u=(r.flags&128)!==0,m||u?(m=r.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:m.render(),r.flags|=1,i!==null&&u?(r.child=ra(r,i.child,null,f),r.child=ra(r,null,o,f)):We(i,r,o,f),r.memoizedState=m.state,i=r.child):i=cs(i,r,f),i}function y_(i,r,o,u){return Zr(),r.flags|=256,We(i,r,o,u),r.child}var wm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Am(i){return{baseLanes:i,cachePool:a0()}}function xm(i,r,o){return i=i!==null?i.childLanes&~o:0,r&&(i|=Nn),i}function v_(i,r,o){var u=r.pendingProps,f=!1,m=(r.flags&128)!==0,T;if((T=m)||(T=i!==null&&i.memoizedState===null?!1:(Ee.current&2)!==0),T&&(f=!0,r.flags&=-129),T=(r.flags&32)!==0,r.flags&=-33,i===null){if(Ut){if(f?Ws(r):Js(),(i=re)?(i=xT(i,qn),i=i!==null&&i.data!=="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:qs!==null?{id:ji,overflow:Ui}:null,retryLane:536870912,hydrationErrors:null},o=Wv(i),o.return=r,r.child=o,Qe=r,re=null)):i=null,i===null)throw Ks(r);return lp(i)?r.lanes=32:r.lanes=536870912,null}var w=u.children;return u=u.fallback,f?(Js(),f=r.mode,w=ch({mode:"hidden",children:w},f),u=Jr(u,f,o,null),w.return=r,u.return=r,w.sibling=u,r.child=w,u=r.child,u.memoizedState=Am(o),u.childLanes=xm(i,T,o),r.memoizedState=wm,Yl(null,u)):(Ws(r),Cm(r,w))}var M=i.memoizedState;if(M!==null&&(w=M.dehydrated,w!==null)){if(m)r.flags&256?(Ws(r),r.flags&=-257,r=Rm(i,r,o)):r.memoizedState!==null?(Js(),r.child=i.child,r.flags|=128,r=null):(Js(),w=u.fallback,f=r.mode,u=ch({mode:"visible",children:u.children},f),w=Jr(w,f,o,null),w.flags|=2,u.return=r,w.return=r,u.sibling=w,r.child=u,ra(r,i.child,null,o),u=r.child,u.memoizedState=Am(o),u.childLanes=xm(i,T,o),r.memoizedState=wm,r=Yl(null,u));else if(Ws(r),lp(w)){if(T=w.nextSibling&&w.nextSibling.dataset,T)var Y=T.dgst;T=Y,u=Error(s(419)),u.stack="",u.digest=T,Pl({value:u,source:null,stack:null}),r=Rm(i,r,o)}else if(Ne||to(i,r,o,!1),T=(o&i.childLanes)!==0,Ne||T){if(T=ne,T!==null&&(u=ml(T,o),u!==0&&u!==M.retryLane))throw M.retryLane=u,Wr(i,u),En(T,i,u),bm;op(w)||_h(),r=Rm(i,r,o)}else op(w)?(r.flags|=192,r.child=i.child,r=null):(i=M.treeContext,re=Kn(w.nextSibling),Qe=r,Ut=!0,Gs=null,qn=!1,i!==null&&t0(r,i),r=Cm(r,u.children),r.flags|=4096);return r}return f?(Js(),w=u.fallback,f=r.mode,M=i.child,Y=M.sibling,u=ss(M,{mode:"hidden",children:u.children}),u.subtreeFlags=M.subtreeFlags&65011712,Y!==null?w=ss(Y,w):(w=Jr(w,f,o,null),w.flags|=2),w.return=r,u.return=r,u.sibling=w,r.child=u,Yl(null,u),u=r.child,w=i.child.memoizedState,w===null?w=Am(o):(f=w.cachePool,f!==null?(M=Ie._currentValue,f=f.parent!==M?{parent:M,pool:M}:f):f=a0(),w={baseLanes:w.baseLanes|o,cachePool:f}),u.memoizedState=w,u.childLanes=xm(i,T,o),r.memoizedState=wm,Yl(i.child,u)):(Ws(r),o=i.child,i=o.sibling,o=ss(o,{mode:"visible",children:u.children}),o.return=r,o.sibling=null,i!==null&&(T=r.deletions,T===null?(r.deletions=[i],r.flags|=16):T.push(i)),r.child=o,r.memoizedState=null,o)}function Cm(i,r){return r=ch({mode:"visible",children:r},i.mode),r.return=i,i.child=r}function ch(i,r){return i=Cn(22,i,null,r),i.lanes=0,i}function Rm(i,r,o){return ra(r,i.child,null,o),i=Cm(r,r.pendingProps.children),i.flags|=2,r.memoizedState=null,i}function __(i,r,o){i.lanes|=r;var u=i.alternate;u!==null&&(u.lanes|=r),Hd(i.return,r,o)}function Im(i,r,o,u,f,m){var T=i.memoizedState;T===null?i.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:f,treeForkCount:m}:(T.isBackwards=r,T.rendering=null,T.renderingStartTime=0,T.last=u,T.tail=o,T.tailMode=f,T.treeForkCount=m)}function T_(i,r,o){var u=r.pendingProps,f=u.revealOrder,m=u.tail;u=u.children;var T=Ee.current,w=(T&2)!==0;if(w?(T=T&1|2,r.flags|=128):T&=1,ut(Ee,T),We(i,r,u,o),u=Ut?Ol:0,!w&&i!==null&&(i.flags&128)!==0)t:for(i=r.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&__(i,o,r);else if(i.tag===19)__(i,o,r);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break t;for(;i.sibling===null;){if(i.return===null||i.return===r)break t;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(f){case"forwards":for(o=r.child,f=null;o!==null;)i=o.alternate,i!==null&&Jc(i)===null&&(f=o),o=o.sibling;o=f,o===null?(f=r.child,r.child=null):(f=o.sibling,o.sibling=null),Im(r,!1,f,o,m,u);break;case"backwards":case"unstable_legacy-backwards":for(o=null,f=r.child,r.child=null;f!==null;){if(i=f.alternate,i!==null&&Jc(i)===null){r.child=f;break}i=f.sibling,f.sibling=o,o=f,f=i}Im(r,!0,o,null,m,u);break;case"together":Im(r,!1,null,null,void 0,u);break;default:r.memoizedState=null}return r.child}function cs(i,r,o){if(i!==null&&(r.dependencies=i.dependencies),er|=r.lanes,(o&r.childLanes)===0)if(i!==null){if(to(i,r,o,!1),(o&r.childLanes)===0)return null}else return null;if(i!==null&&r.child!==i.child)throw Error(s(153));if(r.child!==null){for(i=r.child,o=ss(i,i.pendingProps),r.child=o,o.return=r;i.sibling!==null;)i=i.sibling,o=o.sibling=ss(i,i.pendingProps),o.return=r;o.sibling=null}return r.child}function Dm(i,r){return(i.lanes&r)!==0?!0:(i=i.dependencies,!!(i!==null&&qc(i)))}function yR(i,r,o){switch(r.tag){case 3:ke(r,r.stateNode.containerInfo),Ys(r,Ie,i.memoizedState.cache),Zr();break;case 27:case 5:Vr(r);break;case 4:ke(r,r.stateNode.containerInfo);break;case 10:Ys(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,em(r),null;break;case 13:var u=r.memoizedState;if(u!==null)return u.dehydrated!==null?(Ws(r),r.flags|=128,null):(o&r.child.childLanes)!==0?v_(i,r,o):(Ws(r),i=cs(i,r,o),i!==null?i.sibling:null);Ws(r);break;case 19:var f=(i.flags&128)!==0;if(u=(o&r.childLanes)!==0,u||(to(i,r,o,!1),u=(o&r.childLanes)!==0),f){if(u)return T_(i,r,o);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),ut(Ee,Ee.current),u)break;return null;case 22:return r.lanes=0,f_(i,r,o,r.pendingProps);case 24:Ys(r,Ie,i.memoizedState.cache)}return cs(i,r,o)}function E_(i,r,o){if(i!==null)if(i.memoizedProps!==r.pendingProps)Ne=!0;else{if(!Dm(i,o)&&(r.flags&128)===0)return Ne=!1,yR(i,r,o);Ne=(i.flags&131072)!==0}else Ne=!1,Ut&&(r.flags&1048576)!==0&&Zv(r,Ol,r.index);switch(r.lanes=0,r.tag){case 16:t:{var u=r.pendingProps;if(i=ia(r.elementType),r.type=i,typeof i=="function")Pd(i)?(u=oa(i,u),r.tag=1,r=g_(null,r,i,u,o)):(r.tag=0,r=Sm(null,r,i,u,o));else{if(i!=null){var f=i.$$typeof;if(f===W){r.tag=11,r=u_(null,r,i,u,o);break t}else if(f===R){r.tag=14,r=c_(null,r,i,u,o);break t}}throw r=ee(i)||i,Error(s(306,r,""))}}return r;case 0:return Sm(i,r,r.type,r.pendingProps,o);case 1:return u=r.type,f=oa(u,r.pendingProps),g_(i,r,u,f,o);case 3:t:{if(ke(r,r.stateNode.containerInfo),i===null)throw Error(s(387));u=r.pendingProps;var m=r.memoizedState;f=m.element,Xd(i,r),Fl(r,u,null,o);var T=r.memoizedState;if(u=T.cache,Ys(r,Ie,u),u!==m.cache&&qd(r,[Ie],o,!0),Bl(),u=T.element,m.isDehydrated)if(m={element:u,isDehydrated:!1,cache:T.cache},r.updateQueue.baseState=m,r.memoizedState=m,r.flags&256){r=y_(i,r,u,o);break t}else if(u!==f){f=Bn(Error(s(424)),r),Pl(f),r=y_(i,r,u,o);break t}else for(i=r.stateNode.containerInfo,i.nodeType===9?i=i.body:i=i.nodeName==="HTML"?i.ownerDocument.body:i,re=Kn(i.firstChild),Qe=r,Ut=!0,Gs=null,qn=!0,o=f0(r,null,u,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(Zr(),u===f){r=cs(i,r,o);break t}We(i,r,u,o)}r=r.child}return r;case 26:return uh(i,r),i===null?(o=MT(r.type,null,r.pendingProps,null))?r.memoizedState=o:Ut||(o=r.type,i=r.pendingProps,u=xh(It.current).createElement(o),u[xe]=r,u[Fe]=i,Je(u,o,i),Ce(u),r.stateNode=u):r.memoizedState=MT(r.type,i.memoizedProps,r.pendingProps,i.memoizedState),null;case 27:return Vr(r),i===null&&Ut&&(u=r.stateNode=IT(r.type,r.pendingProps,It.current),Qe=r,qn=!0,f=re,ar(r.type)?(up=f,re=Kn(u.firstChild)):re=f),We(i,r,r.pendingProps.children,o),uh(i,r),i===null&&(r.flags|=4194304),r.child;case 5:return i===null&&Ut&&((f=u=re)&&(u=YR(u,r.type,r.pendingProps,qn),u!==null?(r.stateNode=u,Qe=r,re=Kn(u.firstChild),qn=!1,f=!0):f=!1),f||Ks(r)),Vr(r),f=r.type,m=r.pendingProps,T=i!==null?i.memoizedProps:null,u=m.children,sp(f,m)?u=null:T!==null&&sp(f,T)&&(r.flags|=32),r.memoizedState!==null&&(f=im(i,r,lR,null,null,o),lu._currentValue=f),uh(i,r),We(i,r,u,o),r.child;case 6:return i===null&&Ut&&((i=o=re)&&(o=$R(o,r.pendingProps,qn),o!==null?(r.stateNode=o,Qe=r,re=null,i=!0):i=!1),i||Ks(r)),null;case 13:return v_(i,r,o);case 4:return ke(r,r.stateNode.containerInfo),u=r.pendingProps,i===null?r.child=ra(r,null,u,o):We(i,r,u,o),r.child;case 11:return u_(i,r,r.type,r.pendingProps,o);case 7:return We(i,r,r.pendingProps,o),r.child;case 8:return We(i,r,r.pendingProps.children,o),r.child;case 12:return We(i,r,r.pendingProps.children,o),r.child;case 10:return u=r.pendingProps,Ys(r,r.type,u.value),We(i,r,u.children,o),r.child;case 9:return f=r.type._context,u=r.pendingProps.children,ea(r),f=Xe(f),u=u(f),r.flags|=1,We(i,r,u,o),r.child;case 14:return c_(i,r,r.type,r.pendingProps,o);case 15:return h_(i,r,r.type,r.pendingProps,o);case 19:return T_(i,r,o);case 31:return gR(i,r,o);case 22:return f_(i,r,o,r.pendingProps);case 24:return ea(r),u=Xe(Ie),i===null?(f=Yd(),f===null&&(f=ne,m=Gd(),f.pooledCache=m,m.refCount++,m!==null&&(f.pooledCacheLanes|=o),f=m),r.memoizedState={parent:u,cache:f},Qd(r),Ys(r,Ie,f)):((i.lanes&o)!==0&&(Xd(i,r),Fl(r,null,null,o),Bl()),f=i.memoizedState,m=r.memoizedState,f.parent!==u?(f={parent:u,cache:u},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),Ys(r,Ie,u)):(u=m.cache,Ys(r,Ie,u),u!==f.cache&&qd(r,[Ie],o,!0))),We(i,r,r.pendingProps.children,o),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function hs(i){i.flags|=4}function Nm(i,r,o,u,f){if((r=(i.mode&32)!==0)&&(r=!1),r){if(i.flags|=16777216,(f&335544128)===f)if(i.stateNode.complete)i.flags|=8192;else if($_())i.flags|=8192;else throw sa=$c,$d}else i.flags&=-16777217}function b_(i,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!LT(r))if($_())i.flags|=8192;else throw sa=$c,$d}function hh(i,r){r!==null&&(i.flags|=4),i.flags&16384&&(r=i.tag!==22?yc():536870912,i.lanes|=r,fo|=r)}function $l(i,r){if(!Ut)switch(i.tailMode){case"hidden":r=i.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?r||i.tail===null?i.tail=null:i.tail.sibling=null:u.sibling=null}}function ae(i){var r=i.alternate!==null&&i.alternate.child===i.child,o=0,u=0;if(r)for(var f=i.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags&65011712,u|=f.flags&65011712,f.return=i,f=f.sibling;else for(f=i.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags,u|=f.flags,f.return=i,f=f.sibling;return i.subtreeFlags|=u,i.childLanes=o,r}function vR(i,r,o){var u=r.pendingProps;switch(Ud(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ae(r),null;case 1:return ae(r),null;case 3:return o=r.stateNode,u=null,i!==null&&(u=i.memoizedState.cache),r.memoizedState.cache!==u&&(r.flags|=2048),os(Ie),le(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(Za(r)?hs(r):i===null||i.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Bd())),ae(r),null;case 26:var f=r.type,m=r.memoizedState;return i===null?(hs(r),m!==null?(ae(r),b_(r,m)):(ae(r),Nm(r,f,null,u,o))):m?m!==i.memoizedState?(hs(r),ae(r),b_(r,m)):(ae(r),r.flags&=-16777217):(i=i.memoizedProps,i!==u&&hs(r),ae(r),Nm(r,f,i,u,o)),null;case 27:if(Na(r),o=It.current,f=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==u&&hs(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return ae(r),null}i=ht.current,Za(r)?e0(r):(i=IT(f,u,o),r.stateNode=i,hs(r))}return ae(r),null;case 5:if(Na(r),f=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==u&&hs(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return ae(r),null}if(m=ht.current,Za(r))e0(r);else{var T=xh(It.current);switch(m){case 1:m=T.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:m=T.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":m=T.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":m=T.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":m=T.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof u.is=="string"?T.createElement("select",{is:u.is}):T.createElement("select"),u.multiple?m.multiple=!0:u.size&&(m.size=u.size);break;default:m=typeof u.is=="string"?T.createElement(f,{is:u.is}):T.createElement(f)}}m[xe]=r,m[Fe]=u;t:for(T=r.child;T!==null;){if(T.tag===5||T.tag===6)m.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===r)break t;for(;T.sibling===null;){if(T.return===null||T.return===r)break t;T=T.return}T.sibling.return=T.return,T=T.sibling}r.stateNode=m;t:switch(Je(m,f,u),f){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break t;case"img":u=!0;break t;default:u=!1}u&&hs(r)}}return ae(r),Nm(r,r.type,i===null?null:i.memoizedProps,r.pendingProps,o),null;case 6:if(i&&r.stateNode!=null)i.memoizedProps!==u&&hs(r);else{if(typeof u!="string"&&r.stateNode===null)throw Error(s(166));if(i=It.current,Za(r)){if(i=r.stateNode,o=r.memoizedProps,u=null,f=Qe,f!==null)switch(f.tag){case 27:case 5:u=f.memoizedProps}i[xe]=r,i=!!(i.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||vT(i.nodeValue,o)),i||Ks(r,!0)}else i=xh(i).createTextNode(u),i[xe]=r,r.stateNode=i}return ae(r),null;case 31:if(o=r.memoizedState,i===null||i.memoizedState!==null){if(u=Za(r),o!==null){if(i===null){if(!u)throw Error(s(318));if(i=r.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(557));i[xe]=r}else Zr(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ae(r),i=!1}else o=Bd(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=o),i=!0;if(!i)return r.flags&256?(In(r),r):(In(r),null);if((r.flags&128)!==0)throw Error(s(558))}return ae(r),null;case 13:if(u=r.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(f=Za(r),u!==null&&u.dehydrated!==null){if(i===null){if(!f)throw Error(s(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[xe]=r}else Zr(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ae(r),f=!1}else f=Bd(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=f),f=!0;if(!f)return r.flags&256?(In(r),r):(In(r),null)}return In(r),(r.flags&128)!==0?(r.lanes=o,r):(o=u!==null,i=i!==null&&i.memoizedState!==null,o&&(u=r.child,f=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(f=u.alternate.memoizedState.cachePool.pool),m=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(m=u.memoizedState.cachePool.pool),m!==f&&(u.flags|=2048)),o!==i&&o&&(r.child.flags|=8192),hh(r,r.updateQueue),ae(r),null);case 4:return le(),i===null&&Zm(r.stateNode.containerInfo),ae(r),null;case 10:return os(r.type),ae(r),null;case 19:if(it(Ee),u=r.memoizedState,u===null)return ae(r),null;if(f=(r.flags&128)!==0,m=u.rendering,m===null)if(f)$l(u,!1);else{if(ye!==0||i!==null&&(i.flags&128)!==0)for(i=r.child;i!==null;){if(m=Jc(i),m!==null){for(r.flags|=128,$l(u,!1),i=m.updateQueue,r.updateQueue=i,hh(r,i),r.subtreeFlags=0,i=o,o=r.child;o!==null;)Xv(o,i),o=o.sibling;return ut(Ee,Ee.current&1|2),Ut&&rs(r,u.treeForkCount),r.child}i=i.sibling}u.tail!==null&&cn()>gh&&(r.flags|=128,f=!0,$l(u,!1),r.lanes=4194304)}else{if(!f)if(i=Jc(m),i!==null){if(r.flags|=128,f=!0,i=i.updateQueue,r.updateQueue=i,hh(r,i),$l(u,!0),u.tail===null&&u.tailMode==="hidden"&&!m.alternate&&!Ut)return ae(r),null}else 2*cn()-u.renderingStartTime>gh&&o!==536870912&&(r.flags|=128,f=!0,$l(u,!1),r.lanes=4194304);u.isBackwards?(m.sibling=r.child,r.child=m):(i=u.last,i!==null?i.sibling=m:r.child=m,u.last=m)}return u.tail!==null?(i=u.tail,u.rendering=i,u.tail=i.sibling,u.renderingStartTime=cn(),i.sibling=null,o=Ee.current,ut(Ee,f?o&1|2:o&1),Ut&&rs(r,u.treeForkCount),i):(ae(r),null);case 22:case 23:return In(r),tm(),u=r.memoizedState!==null,i!==null?i.memoizedState!==null!==u&&(r.flags|=8192):u&&(r.flags|=8192),u?(o&536870912)!==0&&(r.flags&128)===0&&(ae(r),r.subtreeFlags&6&&(r.flags|=8192)):ae(r),o=r.updateQueue,o!==null&&hh(r,o.retryQueue),o=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),u=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),u!==o&&(r.flags|=2048),i!==null&&it(na),null;case 24:return o=null,i!==null&&(o=i.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),os(Ie),ae(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function _R(i,r){switch(Ud(r),r.tag){case 1:return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 3:return os(Ie),le(),i=r.flags,(i&65536)!==0&&(i&128)===0?(r.flags=i&-65537|128,r):null;case 26:case 27:case 5:return Na(r),null;case 31:if(r.memoizedState!==null){if(In(r),r.alternate===null)throw Error(s(340));Zr()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 13:if(In(r),i=r.memoizedState,i!==null&&i.dehydrated!==null){if(r.alternate===null)throw Error(s(340));Zr()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 19:return it(Ee),null;case 4:return le(),null;case 10:return os(r.type),null;case 22:case 23:return In(r),tm(),i!==null&&it(na),i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 24:return os(Ie),null;case 25:return null;default:return null}}function S_(i,r){switch(Ud(r),r.tag){case 3:os(Ie),le();break;case 26:case 27:case 5:Na(r);break;case 4:le();break;case 31:r.memoizedState!==null&&In(r);break;case 13:In(r);break;case 19:it(Ee);break;case 10:os(r.type);break;case 22:case 23:In(r),tm(),i!==null&&it(na);break;case 24:os(Ie)}}function Ql(i,r){try{var o=r.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var f=u.next;o=f;do{if((o.tag&i)===i){u=void 0;var m=o.create,T=o.inst;u=m(),T.destroy=u}o=o.next}while(o!==f)}}catch(w){Xt(r,r.return,w)}}function Zs(i,r,o){try{var u=r.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var m=f.next;u=m;do{if((u.tag&i)===i){var T=u.inst,w=T.destroy;if(w!==void 0){T.destroy=void 0,f=r;var M=o,Y=w;try{Y()}catch(J){Xt(f,M,J)}}}u=u.next}while(u!==m)}}catch(J){Xt(r,r.return,J)}}function w_(i){var r=i.updateQueue;if(r!==null){var o=i.stateNode;try{m0(r,o)}catch(u){Xt(i,i.return,u)}}}function A_(i,r,o){o.props=oa(i.type,i.memoizedProps),o.state=i.memoizedState;try{o.componentWillUnmount()}catch(u){Xt(i,r,u)}}function Xl(i,r){try{var o=i.ref;if(o!==null){switch(i.tag){case 26:case 27:case 5:var u=i.stateNode;break;case 30:u=i.stateNode;break;default:u=i.stateNode}typeof o=="function"?i.refCleanup=o(u):o.current=u}}catch(f){Xt(i,r,f)}}function zi(i,r){var o=i.ref,u=i.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(f){Xt(i,r,f)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(f){Xt(i,r,f)}else o.current=null}function x_(i){var r=i.type,o=i.memoizedProps,u=i.stateNode;try{t:switch(r){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break t;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(f){Xt(i,i.return,f)}}function Mm(i,r,o){try{var u=i.stateNode;BR(u,i.type,o,r),u[Fe]=r}catch(f){Xt(i,i.return,f)}}function C_(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&ar(i.type)||i.tag===4}function Vm(i){t:for(;;){for(;i.sibling===null;){if(i.return===null||C_(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&ar(i.type)||i.flags&2||i.child===null||i.tag===4)continue t;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Om(i,r,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,r?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(i,r):(r=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,r.appendChild(i),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=ii));else if(u!==4&&(u===27&&ar(i.type)&&(o=i.stateNode,r=null),i=i.child,i!==null))for(Om(i,r,o),i=i.sibling;i!==null;)Om(i,r,o),i=i.sibling}function fh(i,r,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,r?o.insertBefore(i,r):o.appendChild(i);else if(u!==4&&(u===27&&ar(i.type)&&(o=i.stateNode),i=i.child,i!==null))for(fh(i,r,o),i=i.sibling;i!==null;)fh(i,r,o),i=i.sibling}function R_(i){var r=i.stateNode,o=i.memoizedProps;try{for(var u=i.type,f=r.attributes;f.length;)r.removeAttributeNode(f[0]);Je(r,u,o),r[xe]=i,r[Fe]=o}catch(m){Xt(i,i.return,m)}}var fs=!1,Me=!1,Pm=!1,I_=typeof WeakSet=="function"?WeakSet:Set,qe=null;function TR(i,r){if(i=i.containerInfo,np=Vh,i=Bv(i),Rd(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else t:{o=(o=i.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var f=u.anchorOffset,m=u.focusNode;u=u.focusOffset;try{o.nodeType,m.nodeType}catch{o=null;break t}var T=0,w=-1,M=-1,Y=0,J=0,nt=i,$=null;e:for(;;){for(var X;nt!==o||f!==0&&nt.nodeType!==3||(w=T+f),nt!==m||u!==0&&nt.nodeType!==3||(M=T+u),nt.nodeType===3&&(T+=nt.nodeValue.length),(X=nt.firstChild)!==null;)$=nt,nt=X;for(;;){if(nt===i)break e;if($===o&&++Y===f&&(w=T),$===m&&++J===u&&(M=T),(X=nt.nextSibling)!==null)break;nt=$,$=nt.parentNode}nt=X}o=w===-1||M===-1?null:{start:w,end:M}}else o=null}o=o||{start:0,end:0}}else o=null;for(ip={focusedElem:i,selectionRange:o},Vh=!1,qe=r;qe!==null;)if(r=qe,i=r.child,(r.subtreeFlags&1028)!==0&&i!==null)i.return=r,qe=i;else for(;qe!==null;){switch(r=qe,m=r.alternate,i=r.flags,r.tag){case 0:if((i&4)!==0&&(i=r.updateQueue,i=i!==null?i.events:null,i!==null))for(o=0;o<i.length;o++)f=i[o],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&m!==null){i=void 0,o=r,f=m.memoizedProps,m=m.memoizedState,u=o.stateNode;try{var dt=oa(o.type,f);i=u.getSnapshotBeforeUpdate(dt,m),u.__reactInternalSnapshotBeforeUpdate=i}catch(_t){Xt(o,o.return,_t)}}break;case 3:if((i&1024)!==0){if(i=r.stateNode.containerInfo,o=i.nodeType,o===9)ap(i);else if(o===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":ap(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(s(163))}if(i=r.sibling,i!==null){i.return=r.return,qe=i;break}qe=r.return}}function D_(i,r,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:ms(i,o),u&4&&Ql(5,o);break;case 1:if(ms(i,o),u&4)if(i=o.stateNode,r===null)try{i.componentDidMount()}catch(T){Xt(o,o.return,T)}else{var f=oa(o.type,r.memoizedProps);r=r.memoizedState;try{i.componentDidUpdate(f,r,i.__reactInternalSnapshotBeforeUpdate)}catch(T){Xt(o,o.return,T)}}u&64&&w_(o),u&512&&Xl(o,o.return);break;case 3:if(ms(i,o),u&64&&(i=o.updateQueue,i!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{m0(i,r)}catch(T){Xt(o,o.return,T)}}break;case 27:r===null&&u&4&&R_(o);case 26:case 5:ms(i,o),r===null&&u&4&&x_(o),u&512&&Xl(o,o.return);break;case 12:ms(i,o);break;case 31:ms(i,o),u&4&&V_(i,o);break;case 13:ms(i,o),u&4&&O_(i,o),u&64&&(i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(o=IR.bind(null,o),QR(i,o))));break;case 22:if(u=o.memoizedState!==null||fs,!u){r=r!==null&&r.memoizedState!==null||Me,f=fs;var m=Me;fs=u,(Me=r)&&!m?ps(i,o,(o.subtreeFlags&8772)!==0):ms(i,o),fs=f,Me=m}break;case 30:break;default:ms(i,o)}}function N_(i){var r=i.alternate;r!==null&&(i.alternate=null,N_(r)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(r=i.stateNode,r!==null&&ka(r)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var ce=null,yn=!1;function ds(i,r,o){for(o=o.child;o!==null;)M_(i,r,o),o=o.sibling}function M_(i,r,o){if(Ye&&typeof Ye.onCommitFiberUnmount=="function")try{Ye.onCommitFiberUnmount(Zn,o)}catch{}switch(o.tag){case 26:Me||zi(o,r),ds(i,r,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Me||zi(o,r);var u=ce,f=yn;ar(o.type)&&(ce=o.stateNode,yn=!1),ds(i,r,o),ru(o.stateNode),ce=u,yn=f;break;case 5:Me||zi(o,r);case 6:if(u=ce,f=yn,ce=null,ds(i,r,o),ce=u,yn=f,ce!==null)if(yn)try{(ce.nodeType===9?ce.body:ce.nodeName==="HTML"?ce.ownerDocument.body:ce).removeChild(o.stateNode)}catch(m){Xt(o,r,m)}else try{ce.removeChild(o.stateNode)}catch(m){Xt(o,r,m)}break;case 18:ce!==null&&(yn?(i=ce,wT(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,o.stateNode),Eo(i)):wT(ce,o.stateNode));break;case 4:u=ce,f=yn,ce=o.stateNode.containerInfo,yn=!0,ds(i,r,o),ce=u,yn=f;break;case 0:case 11:case 14:case 15:Zs(2,o,r),Me||Zs(4,o,r),ds(i,r,o);break;case 1:Me||(zi(o,r),u=o.stateNode,typeof u.componentWillUnmount=="function"&&A_(o,r,u)),ds(i,r,o);break;case 21:ds(i,r,o);break;case 22:Me=(u=Me)||o.memoizedState!==null,ds(i,r,o),Me=u;break;default:ds(i,r,o)}}function V_(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{Eo(i)}catch(o){Xt(r,r.return,o)}}}function O_(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Eo(i)}catch(o){Xt(r,r.return,o)}}function ER(i){switch(i.tag){case 31:case 13:case 19:var r=i.stateNode;return r===null&&(r=i.stateNode=new I_),r;case 22:return i=i.stateNode,r=i._retryCache,r===null&&(r=i._retryCache=new I_),r;default:throw Error(s(435,i.tag))}}function dh(i,r){var o=ER(i);r.forEach(function(u){if(!o.has(u)){o.add(u);var f=DR.bind(null,i,u);u.then(f,f)}})}function vn(i,r){var o=r.deletions;if(o!==null)for(var u=0;u<o.length;u++){var f=o[u],m=i,T=r,w=T;t:for(;w!==null;){switch(w.tag){case 27:if(ar(w.type)){ce=w.stateNode,yn=!1;break t}break;case 5:ce=w.stateNode,yn=!1;break t;case 3:case 4:ce=w.stateNode.containerInfo,yn=!0;break t}w=w.return}if(ce===null)throw Error(s(160));M_(m,T,f),ce=null,yn=!1,m=f.alternate,m!==null&&(m.return=null),f.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)P_(r,i),r=r.sibling}var ui=null;function P_(i,r){var o=i.alternate,u=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:vn(r,i),_n(i),u&4&&(Zs(3,i,i.return),Ql(3,i),Zs(5,i,i.return));break;case 1:vn(r,i),_n(i),u&512&&(Me||o===null||zi(o,o.return)),u&64&&fs&&(i=i.updateQueue,i!==null&&(u=i.callbacks,u!==null&&(o=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var f=ui;if(vn(r,i),_n(i),u&512&&(Me||o===null||zi(o,o.return)),u&4){var m=o!==null?o.memoizedState:null;if(u=i.memoizedState,o===null)if(u===null)if(i.stateNode===null){t:{u=i.type,o=i.memoizedProps,f=f.ownerDocument||f;e:switch(u){case"title":m=f.getElementsByTagName("title")[0],(!m||m[xi]||m[xe]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=f.createElement(u),f.head.insertBefore(m,f.querySelector("head > title"))),Je(m,u,o),m[xe]=i,Ce(m),u=m;break t;case"link":var T=PT("link","href",f).get(u+(o.href||""));if(T){for(var w=0;w<T.length;w++)if(m=T[w],m.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&m.getAttribute("rel")===(o.rel==null?null:o.rel)&&m.getAttribute("title")===(o.title==null?null:o.title)&&m.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){T.splice(w,1);break e}}m=f.createElement(u),Je(m,u,o),f.head.appendChild(m);break;case"meta":if(T=PT("meta","content",f).get(u+(o.content||""))){for(w=0;w<T.length;w++)if(m=T[w],m.getAttribute("content")===(o.content==null?null:""+o.content)&&m.getAttribute("name")===(o.name==null?null:o.name)&&m.getAttribute("property")===(o.property==null?null:o.property)&&m.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&m.getAttribute("charset")===(o.charSet==null?null:o.charSet)){T.splice(w,1);break e}}m=f.createElement(u),Je(m,u,o),f.head.appendChild(m);break;default:throw Error(s(468,u))}m[xe]=i,Ce(m),u=m}i.stateNode=u}else kT(f,i.type,i.stateNode);else i.stateNode=OT(f,u,i.memoizedProps);else m!==u?(m===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):m.count--,u===null?kT(f,i.type,i.stateNode):OT(f,u,i.memoizedProps)):u===null&&i.stateNode!==null&&Mm(i,i.memoizedProps,o.memoizedProps)}break;case 27:vn(r,i),_n(i),u&512&&(Me||o===null||zi(o,o.return)),o!==null&&u&4&&Mm(i,i.memoizedProps,o.memoizedProps);break;case 5:if(vn(r,i),_n(i),u&512&&(Me||o===null||zi(o,o.return)),i.flags&32){f=i.stateNode;try{gn(f,"")}catch(dt){Xt(i,i.return,dt)}}u&4&&i.stateNode!=null&&(f=i.memoizedProps,Mm(i,f,o!==null?o.memoizedProps:f)),u&1024&&(Pm=!0);break;case 6:if(vn(r,i),_n(i),u&4){if(i.stateNode===null)throw Error(s(162));u=i.memoizedProps,o=i.stateNode;try{o.nodeValue=u}catch(dt){Xt(i,i.return,dt)}}break;case 3:if(Ih=null,f=ui,ui=Ch(r.containerInfo),vn(r,i),ui=f,_n(i),u&4&&o!==null&&o.memoizedState.isDehydrated)try{Eo(r.containerInfo)}catch(dt){Xt(i,i.return,dt)}Pm&&(Pm=!1,k_(i));break;case 4:u=ui,ui=Ch(i.stateNode.containerInfo),vn(r,i),_n(i),ui=u;break;case 12:vn(r,i),_n(i);break;case 31:vn(r,i),_n(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,dh(i,u)));break;case 13:vn(r,i),_n(i),i.child.flags&8192&&i.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(ph=cn()),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,dh(i,u)));break;case 22:f=i.memoizedState!==null;var M=o!==null&&o.memoizedState!==null,Y=fs,J=Me;if(fs=Y||f,Me=J||M,vn(r,i),Me=J,fs=Y,_n(i),u&8192)t:for(r=i.stateNode,r._visibility=f?r._visibility&-2:r._visibility|1,f&&(o===null||M||fs||Me||la(i)),o=null,r=i;;){if(r.tag===5||r.tag===26){if(o===null){M=o=r;try{if(m=M.stateNode,f)T=m.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{w=M.stateNode;var nt=M.memoizedProps.style,$=nt!=null&&nt.hasOwnProperty("display")?nt.display:null;w.style.display=$==null||typeof $=="boolean"?"":(""+$).trim()}}catch(dt){Xt(M,M.return,dt)}}}else if(r.tag===6){if(o===null){M=r;try{M.stateNode.nodeValue=f?"":M.memoizedProps}catch(dt){Xt(M,M.return,dt)}}}else if(r.tag===18){if(o===null){M=r;try{var X=M.stateNode;f?AT(X,!0):AT(M.stateNode,!1)}catch(dt){Xt(M,M.return,dt)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===i)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break t;for(;r.sibling===null;){if(r.return===null||r.return===i)break t;o===r&&(o=null),r=r.return}o===r&&(o=null),r.sibling.return=r.return,r=r.sibling}u&4&&(u=i.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,dh(i,o))));break;case 19:vn(r,i),_n(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,dh(i,u)));break;case 30:break;case 21:break;default:vn(r,i),_n(i)}}function _n(i){var r=i.flags;if(r&2){try{for(var o,u=i.return;u!==null;){if(C_(u)){o=u;break}u=u.return}if(o==null)throw Error(s(160));switch(o.tag){case 27:var f=o.stateNode,m=Vm(i);fh(i,m,f);break;case 5:var T=o.stateNode;o.flags&32&&(gn(T,""),o.flags&=-33);var w=Vm(i);fh(i,w,T);break;case 3:case 4:var M=o.stateNode.containerInfo,Y=Vm(i);Om(i,Y,M);break;default:throw Error(s(161))}}catch(J){Xt(i,i.return,J)}i.flags&=-3}r&4096&&(i.flags&=-4097)}function k_(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var r=i;k_(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),i=i.sibling}}function ms(i,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)D_(i,r.alternate,r),r=r.sibling}function la(i){for(i=i.child;i!==null;){var r=i;switch(r.tag){case 0:case 11:case 14:case 15:Zs(4,r,r.return),la(r);break;case 1:zi(r,r.return);var o=r.stateNode;typeof o.componentWillUnmount=="function"&&A_(r,r.return,o),la(r);break;case 27:ru(r.stateNode);case 26:case 5:zi(r,r.return),la(r);break;case 22:r.memoizedState===null&&la(r);break;case 30:la(r);break;default:la(r)}i=i.sibling}}function ps(i,r,o){for(o=o&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var u=r.alternate,f=i,m=r,T=m.flags;switch(m.tag){case 0:case 11:case 15:ps(f,m,o),Ql(4,m);break;case 1:if(ps(f,m,o),u=m,f=u.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(Y){Xt(u,u.return,Y)}if(u=m,f=u.updateQueue,f!==null){var w=u.stateNode;try{var M=f.shared.hiddenCallbacks;if(M!==null)for(f.shared.hiddenCallbacks=null,f=0;f<M.length;f++)d0(M[f],w)}catch(Y){Xt(u,u.return,Y)}}o&&T&64&&w_(m),Xl(m,m.return);break;case 27:R_(m);case 26:case 5:ps(f,m,o),o&&u===null&&T&4&&x_(m),Xl(m,m.return);break;case 12:ps(f,m,o);break;case 31:ps(f,m,o),o&&T&4&&V_(f,m);break;case 13:ps(f,m,o),o&&T&4&&O_(f,m);break;case 22:m.memoizedState===null&&ps(f,m,o),Xl(m,m.return);break;case 30:break;default:ps(f,m,o)}r=r.sibling}}function km(i,r){var o=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),i=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(i=r.memoizedState.cachePool.pool),i!==o&&(i!=null&&i.refCount++,o!=null&&kl(o))}function Lm(i,r){i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&kl(i))}function ci(i,r,o,u){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)L_(i,r,o,u),r=r.sibling}function L_(i,r,o,u){var f=r.flags;switch(r.tag){case 0:case 11:case 15:ci(i,r,o,u),f&2048&&Ql(9,r);break;case 1:ci(i,r,o,u);break;case 3:ci(i,r,o,u),f&2048&&(i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&kl(i)));break;case 12:if(f&2048){ci(i,r,o,u),i=r.stateNode;try{var m=r.memoizedProps,T=m.id,w=m.onPostCommit;typeof w=="function"&&w(T,r.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(M){Xt(r,r.return,M)}}else ci(i,r,o,u);break;case 31:ci(i,r,o,u);break;case 13:ci(i,r,o,u);break;case 23:break;case 22:m=r.stateNode,T=r.alternate,r.memoizedState!==null?m._visibility&2?ci(i,r,o,u):Wl(i,r):m._visibility&2?ci(i,r,o,u):(m._visibility|=2,uo(i,r,o,u,(r.subtreeFlags&10256)!==0||!1)),f&2048&&km(T,r);break;case 24:ci(i,r,o,u),f&2048&&Lm(r.alternate,r);break;default:ci(i,r,o,u)}}function uo(i,r,o,u,f){for(f=f&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var m=i,T=r,w=o,M=u,Y=T.flags;switch(T.tag){case 0:case 11:case 15:uo(m,T,w,M,f),Ql(8,T);break;case 23:break;case 22:var J=T.stateNode;T.memoizedState!==null?J._visibility&2?uo(m,T,w,M,f):Wl(m,T):(J._visibility|=2,uo(m,T,w,M,f)),f&&Y&2048&&km(T.alternate,T);break;case 24:uo(m,T,w,M,f),f&&Y&2048&&Lm(T.alternate,T);break;default:uo(m,T,w,M,f)}r=r.sibling}}function Wl(i,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var o=i,u=r,f=u.flags;switch(u.tag){case 22:Wl(o,u),f&2048&&km(u.alternate,u);break;case 24:Wl(o,u),f&2048&&Lm(u.alternate,u);break;default:Wl(o,u)}r=r.sibling}}var Jl=8192;function co(i,r,o){if(i.subtreeFlags&Jl)for(i=i.child;i!==null;)j_(i,r,o),i=i.sibling}function j_(i,r,o){switch(i.tag){case 26:co(i,r,o),i.flags&Jl&&i.memoizedState!==null&&o2(o,ui,i.memoizedState,i.memoizedProps);break;case 5:co(i,r,o);break;case 3:case 4:var u=ui;ui=Ch(i.stateNode.containerInfo),co(i,r,o),ui=u;break;case 22:i.memoizedState===null&&(u=i.alternate,u!==null&&u.memoizedState!==null?(u=Jl,Jl=16777216,co(i,r,o),Jl=u):co(i,r,o));break;default:co(i,r,o)}}function U_(i){var r=i.alternate;if(r!==null&&(i=r.child,i!==null)){r.child=null;do r=i.sibling,i.sibling=null,i=r;while(i!==null)}}function Zl(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];qe=u,B_(u,i)}U_(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)z_(i),i=i.sibling}function z_(i){switch(i.tag){case 0:case 11:case 15:Zl(i),i.flags&2048&&Zs(9,i,i.return);break;case 3:Zl(i);break;case 12:Zl(i);break;case 22:var r=i.stateNode;i.memoizedState!==null&&r._visibility&2&&(i.return===null||i.return.tag!==13)?(r._visibility&=-3,mh(i)):Zl(i);break;default:Zl(i)}}function mh(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];qe=u,B_(u,i)}U_(i)}for(i=i.child;i!==null;){switch(r=i,r.tag){case 0:case 11:case 15:Zs(8,r,r.return),mh(r);break;case 22:o=r.stateNode,o._visibility&2&&(o._visibility&=-3,mh(r));break;default:mh(r)}i=i.sibling}}function B_(i,r){for(;qe!==null;){var o=qe;switch(o.tag){case 0:case 11:case 15:Zs(8,o,r);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:kl(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,qe=u;else t:for(o=i;qe!==null;){u=qe;var f=u.sibling,m=u.return;if(N_(u),u===o){qe=null;break t}if(f!==null){f.return=m,qe=f;break t}qe=m}}}var bR={getCacheForType:function(i){var r=Xe(Ie),o=r.data.get(i);return o===void 0&&(o=i(),r.data.set(i,o)),o},cacheSignal:function(){return Xe(Ie).controller.signal}},SR=typeof WeakMap=="function"?WeakMap:Map,Kt=0,ne=null,Nt=null,Ot=0,Qt=0,Dn=null,tr=!1,ho=!1,jm=!1,gs=0,ye=0,er=0,ua=0,Um=0,Nn=0,fo=0,tu=null,Tn=null,zm=!1,ph=0,F_=0,gh=1/0,yh=null,nr=null,je=0,ir=null,mo=null,ys=0,Bm=0,Fm=null,H_=null,eu=0,Hm=null;function Mn(){return(Kt&2)!==0&&Ot!==0?Ot&-Ot:Z.T!==null?Qm():vc()}function q_(){if(Nn===0)if((Ot&536870912)===0||Ut){var i=kr;kr<<=1,(kr&3932160)===0&&(kr=262144),Nn=i}else Nn=536870912;return i=Rn.current,i!==null&&(i.flags|=32),Nn}function En(i,r,o){(i===ne&&(Qt===2||Qt===9)||i.cancelPendingCommit!==null)&&(po(i,0),sr(i,Ot,Nn,!1)),Lr(i,o),((Kt&2)===0||i!==ne)&&(i===ne&&((Kt&2)===0&&(ua|=o),ye===4&&sr(i,Ot,Nn,!1)),Bi(i))}function G_(i,r,o){if((Kt&6)!==0)throw Error(s(327));var u=!o&&(r&127)===0&&(r&i.expiredLanes)===0||ti(i,r),f=u?xR(i,r):Gm(i,r,!0),m=u;do{if(f===0){ho&&!u&&sr(i,r,0,!1);break}else{if(o=i.current.alternate,m&&!wR(o)){f=Gm(i,r,!1),m=!1;continue}if(f===2){if(m=r,i.errorRecoveryDisabledLanes&m)var T=0;else T=i.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){r=T;t:{var w=i;f=tu;var M=w.current.memoizedState.isDehydrated;if(M&&(po(w,T).flags|=256),T=Gm(w,T,!1),T!==2){if(jm&&!M){w.errorRecoveryDisabledLanes|=m,ua|=m,f=4;break t}m=Tn,Tn=f,m!==null&&(Tn===null?Tn=m:Tn.push.apply(Tn,m))}f=T}if(m=!1,f!==2)continue}}if(f===1){po(i,0),sr(i,r,0,!0);break}t:{switch(u=i,m=f,m){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:sr(u,r,Nn,!tr);break t;case 2:Tn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(f=ph+300-cn(),10<f)){if(sr(u,r,Nn,!tr),Si(u,0,!0)!==0)break t;ys=r,u.timeoutHandle=bT(K_.bind(null,u,o,Tn,yh,zm,r,Nn,ua,fo,tr,m,"Throttled",-0,0),f);break t}K_(u,o,Tn,yh,zm,r,Nn,ua,fo,tr,m,null,-0,0)}}break}while(!0);Bi(i)}function K_(i,r,o,u,f,m,T,w,M,Y,J,nt,$,X){if(i.timeoutHandle=-1,nt=r.subtreeFlags,nt&8192||(nt&16785408)===16785408){nt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ii},j_(r,m,nt);var dt=(m&62914560)===m?ph-cn():(m&4194048)===m?F_-cn():0;if(dt=l2(nt,dt),dt!==null){ys=m,i.cancelPendingCommit=dt(tT.bind(null,i,r,m,o,u,f,T,w,M,J,nt,null,$,X)),sr(i,m,T,!Y);return}}tT(i,r,m,o,u,f,T,w,M)}function wR(i){for(var r=i;;){var o=r.tag;if((o===0||o===11||o===15)&&r.flags&16384&&(o=r.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var f=o[u],m=f.getSnapshot;f=f.value;try{if(!xn(m(),f))return!1}catch{return!1}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function sr(i,r,o,u){r&=~Um,r&=~ua,i.suspendedLanes|=r,i.pingedLanes&=~r,u&&(i.warmLanes|=r),u=i.expirationTimes;for(var f=r;0<f;){var m=31-_e(f),T=1<<m;u[m]=-1,f&=~T}o!==0&&jr(i,o,r)}function vh(){return(Kt&6)===0?(nu(0),!1):!0}function qm(){if(Nt!==null){if(Qt===0)var i=Nt.return;else i=Nt,as=ta=null,am(i),so=null,jl=0,i=Nt;for(;i!==null;)S_(i.alternate,i),i=i.return;Nt=null}}function po(i,r){var o=i.timeoutHandle;o!==-1&&(i.timeoutHandle=-1,qR(o)),o=i.cancelPendingCommit,o!==null&&(i.cancelPendingCommit=null,o()),ys=0,qm(),ne=i,Nt=o=ss(i.current,null),Ot=r,Qt=0,Dn=null,tr=!1,ho=ti(i,r),jm=!1,fo=Nn=Um=ua=er=ye=0,Tn=tu=null,zm=!1,(r&8)!==0&&(r|=r&32);var u=i.entangledLanes;if(u!==0)for(i=i.entanglements,u&=r;0<u;){var f=31-_e(u),m=1<<f;r|=i[f],u&=~m}return gs=r,Uc(),o}function Y_(i,r){Ct=null,Z.H=Kl,r===io||r===Yc?(r=u0(),Qt=3):r===$d?(r=u0(),Qt=4):Qt=r===bm?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Dn=r,Nt===null&&(ye=1,oh(i,Bn(r,i.current)))}function $_(){var i=Rn.current;return i===null?!0:(Ot&4194048)===Ot?Gn===null:(Ot&62914560)===Ot||(Ot&536870912)!==0?i===Gn:!1}function Q_(){var i=Z.H;return Z.H=Kl,i===null?Kl:i}function X_(){var i=Z.A;return Z.A=bR,i}function _h(){ye=4,tr||(Ot&4194048)!==Ot&&Rn.current!==null||(ho=!0),(er&134217727)===0&&(ua&134217727)===0||ne===null||sr(ne,Ot,Nn,!1)}function Gm(i,r,o){var u=Kt;Kt|=2;var f=Q_(),m=X_();(ne!==i||Ot!==r)&&(yh=null,po(i,r)),r=!1;var T=ye;t:do try{if(Qt!==0&&Nt!==null){var w=Nt,M=Dn;switch(Qt){case 8:qm(),T=6;break t;case 3:case 2:case 9:case 6:Rn.current===null&&(r=!0);var Y=Qt;if(Qt=0,Dn=null,go(i,w,M,Y),o&&ho){T=0;break t}break;default:Y=Qt,Qt=0,Dn=null,go(i,w,M,Y)}}AR(),T=ye;break}catch(J){Y_(i,J)}while(!0);return r&&i.shellSuspendCounter++,as=ta=null,Kt=u,Z.H=f,Z.A=m,Nt===null&&(ne=null,Ot=0,Uc()),T}function AR(){for(;Nt!==null;)W_(Nt)}function xR(i,r){var o=Kt;Kt|=2;var u=Q_(),f=X_();ne!==i||Ot!==r?(yh=null,gh=cn()+500,po(i,r)):ho=ti(i,r);t:do try{if(Qt!==0&&Nt!==null){r=Nt;var m=Dn;e:switch(Qt){case 1:Qt=0,Dn=null,go(i,r,m,1);break;case 2:case 9:if(o0(m)){Qt=0,Dn=null,J_(r);break}r=function(){Qt!==2&&Qt!==9||ne!==i||(Qt=7),Bi(i)},m.then(r,r);break t;case 3:Qt=7;break t;case 4:Qt=5;break t;case 7:o0(m)?(Qt=0,Dn=null,J_(r)):(Qt=0,Dn=null,go(i,r,m,7));break;case 5:var T=null;switch(Nt.tag){case 26:T=Nt.memoizedState;case 5:case 27:var w=Nt;if(T?LT(T):w.stateNode.complete){Qt=0,Dn=null;var M=w.sibling;if(M!==null)Nt=M;else{var Y=w.return;Y!==null?(Nt=Y,Th(Y)):Nt=null}break e}}Qt=0,Dn=null,go(i,r,m,5);break;case 6:Qt=0,Dn=null,go(i,r,m,6);break;case 8:qm(),ye=6;break t;default:throw Error(s(462))}}CR();break}catch(J){Y_(i,J)}while(!0);return as=ta=null,Z.H=u,Z.A=f,Kt=o,Nt!==null?0:(ne=null,Ot=0,Uc(),ye)}function CR(){for(;Nt!==null&&!Ed();)W_(Nt)}function W_(i){var r=E_(i.alternate,i,gs);i.memoizedProps=i.pendingProps,r===null?Th(i):Nt=r}function J_(i){var r=i,o=r.alternate;switch(r.tag){case 15:case 0:r=p_(o,r,r.pendingProps,r.type,void 0,Ot);break;case 11:r=p_(o,r,r.pendingProps,r.type.render,r.ref,Ot);break;case 5:am(r);default:S_(o,r),r=Nt=Xv(r,gs),r=E_(o,r,gs)}i.memoizedProps=i.pendingProps,r===null?Th(i):Nt=r}function go(i,r,o,u){as=ta=null,am(r),so=null,jl=0;var f=r.return;try{if(pR(i,f,r,o,Ot)){ye=1,oh(i,Bn(o,i.current)),Nt=null;return}}catch(m){if(f!==null)throw Nt=f,m;ye=1,oh(i,Bn(o,i.current)),Nt=null;return}r.flags&32768?(Ut||u===1?i=!0:ho||(Ot&536870912)!==0?i=!1:(tr=i=!0,(u===2||u===9||u===3||u===6)&&(u=Rn.current,u!==null&&u.tag===13&&(u.flags|=16384))),Z_(r,i)):Th(r)}function Th(i){var r=i;do{if((r.flags&32768)!==0){Z_(r,tr);return}i=r.return;var o=vR(r.alternate,r,gs);if(o!==null){Nt=o;return}if(r=r.sibling,r!==null){Nt=r;return}Nt=r=i}while(r!==null);ye===0&&(ye=5)}function Z_(i,r){do{var o=_R(i.alternate,i);if(o!==null){o.flags&=32767,Nt=o;return}if(o=i.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!r&&(i=i.sibling,i!==null)){Nt=i;return}Nt=i=o}while(i!==null);ye=6,Nt=null}function tT(i,r,o,u,f,m,T,w,M){i.cancelPendingCommit=null;do Eh();while(je!==0);if((Kt&6)!==0)throw Error(s(327));if(r!==null){if(r===i.current)throw Error(s(177));if(m=r.lanes|r.childLanes,m|=Vd,wd(i,o,m,T,w,M),i===ne&&(Nt=ne=null,Ot=0),mo=r,ir=i,ys=o,Bm=m,Fm=f,H_=u,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,NR(Os,function(){return rT(),null})):(i.callbackNode=null,i.callbackPriority=0),u=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||u){u=Z.T,Z.T=null,f=ot.p,ot.p=2,T=Kt,Kt|=4;try{TR(i,r,o)}finally{Kt=T,ot.p=f,Z.T=u}}je=1,eT(),nT(),iT()}}function eT(){if(je===1){je=0;var i=ir,r=mo,o=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||o){o=Z.T,Z.T=null;var u=ot.p;ot.p=2;var f=Kt;Kt|=4;try{P_(r,i);var m=ip,T=Bv(i.containerInfo),w=m.focusedElem,M=m.selectionRange;if(T!==w&&w&&w.ownerDocument&&zv(w.ownerDocument.documentElement,w)){if(M!==null&&Rd(w)){var Y=M.start,J=M.end;if(J===void 0&&(J=Y),"selectionStart"in w)w.selectionStart=Y,w.selectionEnd=Math.min(J,w.value.length);else{var nt=w.ownerDocument||document,$=nt&&nt.defaultView||window;if($.getSelection){var X=$.getSelection(),dt=w.textContent.length,_t=Math.min(M.start,dt),te=M.end===void 0?_t:Math.min(M.end,dt);!X.extend&&_t>te&&(T=te,te=_t,_t=T);var B=Uv(w,_t),j=Uv(w,te);if(B&&j&&(X.rangeCount!==1||X.anchorNode!==B.node||X.anchorOffset!==B.offset||X.focusNode!==j.node||X.focusOffset!==j.offset)){var K=nt.createRange();K.setStart(B.node,B.offset),X.removeAllRanges(),_t>te?(X.addRange(K),X.extend(j.node,j.offset)):(K.setEnd(j.node,j.offset),X.addRange(K))}}}}for(nt=[],X=w;X=X.parentNode;)X.nodeType===1&&nt.push({element:X,left:X.scrollLeft,top:X.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<nt.length;w++){var et=nt[w];et.element.scrollLeft=et.left,et.element.scrollTop=et.top}}Vh=!!np,ip=np=null}finally{Kt=f,ot.p=u,Z.T=o}}i.current=r,je=2}}function nT(){if(je===2){je=0;var i=ir,r=mo,o=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||o){o=Z.T,Z.T=null;var u=ot.p;ot.p=2;var f=Kt;Kt|=4;try{D_(i,r.alternate,r)}finally{Kt=f,ot.p=u,Z.T=o}}je=3}}function iT(){if(je===4||je===3){je=0,hc();var i=ir,r=mo,o=ys,u=H_;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?je=5:(je=0,mo=ir=null,sT(i,i.pendingLanes));var f=i.pendingLanes;if(f===0&&(nr=null),ts(o),r=r.stateNode,Ye&&typeof Ye.onCommitFiberRoot=="function")try{Ye.onCommitFiberRoot(Zn,r,void 0,(r.current.flags&128)===128)}catch{}if(u!==null){r=Z.T,f=ot.p,ot.p=2,Z.T=null;try{for(var m=i.onRecoverableError,T=0;T<u.length;T++){var w=u[T];m(w.value,{componentStack:w.stack})}}finally{Z.T=r,ot.p=f}}(ys&3)!==0&&Eh(),Bi(i),f=i.pendingLanes,(o&261930)!==0&&(f&42)!==0?i===Hm?eu++:(eu=0,Hm=i):eu=0,nu(0)}}function sT(i,r){(i.pooledCacheLanes&=r)===0&&(r=i.pooledCache,r!=null&&(i.pooledCache=null,kl(r)))}function Eh(){return eT(),nT(),iT(),rT()}function rT(){if(je!==5)return!1;var i=ir,r=Bm;Bm=0;var o=ts(ys),u=Z.T,f=ot.p;try{ot.p=32>o?32:o,Z.T=null,o=Fm,Fm=null;var m=ir,T=ys;if(je=0,mo=ir=null,ys=0,(Kt&6)!==0)throw Error(s(331));var w=Kt;if(Kt|=4,z_(m.current),L_(m,m.current,T,o),Kt=w,nu(0,!1),Ye&&typeof Ye.onPostCommitFiberRoot=="function")try{Ye.onPostCommitFiberRoot(Zn,m)}catch{}return!0}finally{ot.p=f,Z.T=u,sT(i,r)}}function aT(i,r,o){r=Bn(o,r),r=Em(i.stateNode,r,2),i=Xs(i,r,2),i!==null&&(Lr(i,2),Bi(i))}function Xt(i,r,o){if(i.tag===3)aT(i,i,o);else for(;r!==null;){if(r.tag===3){aT(r,i,o);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(nr===null||!nr.has(u))){i=Bn(o,i),o=o_(2),u=Xs(r,o,2),u!==null&&(l_(o,u,r,i),Lr(u,2),Bi(u));break}}r=r.return}}function Km(i,r,o){var u=i.pingCache;if(u===null){u=i.pingCache=new SR;var f=new Set;u.set(r,f)}else f=u.get(r),f===void 0&&(f=new Set,u.set(r,f));f.has(o)||(jm=!0,f.add(o),i=RR.bind(null,i,r,o),r.then(i,i))}function RR(i,r,o){var u=i.pingCache;u!==null&&u.delete(r),i.pingedLanes|=i.suspendedLanes&o,i.warmLanes&=~o,ne===i&&(Ot&o)===o&&(ye===4||ye===3&&(Ot&62914560)===Ot&&300>cn()-ph?(Kt&2)===0&&po(i,0):Um|=o,fo===Ot&&(fo=0)),Bi(i)}function oT(i,r){r===0&&(r=yc()),i=Wr(i,r),i!==null&&(Lr(i,r),Bi(i))}function IR(i){var r=i.memoizedState,o=0;r!==null&&(o=r.retryLane),oT(i,o)}function DR(i,r){var o=0;switch(i.tag){case 31:case 13:var u=i.stateNode,f=i.memoizedState;f!==null&&(o=f.retryLane);break;case 19:u=i.stateNode;break;case 22:u=i.stateNode._retryCache;break;default:throw Error(s(314))}u!==null&&u.delete(r),oT(i,o)}function NR(i,r){return Le(i,r)}var bh=null,yo=null,Ym=!1,Sh=!1,$m=!1,rr=0;function Bi(i){i!==yo&&i.next===null&&(yo===null?bh=yo=i:yo=yo.next=i),Sh=!0,Ym||(Ym=!0,VR())}function nu(i,r){if(!$m&&Sh){$m=!0;do for(var o=!1,u=bh;u!==null;){if(i!==0){var f=u.pendingLanes;if(f===0)var m=0;else{var T=u.suspendedLanes,w=u.pingedLanes;m=(1<<31-_e(42|i)+1)-1,m&=f&~(T&~w),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(o=!0,hT(u,m))}else m=Ot,m=Si(u,u===ne?m:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(m&3)===0||ti(u,m)||(o=!0,hT(u,m));u=u.next}while(o);$m=!1}}function MR(){lT()}function lT(){Sh=Ym=!1;var i=0;rr!==0&&HR()&&(i=rr);for(var r=cn(),o=null,u=bh;u!==null;){var f=u.next,m=uT(u,r);m===0?(u.next=null,o===null?bh=f:o.next=f,f===null&&(yo=o)):(o=u,(i!==0||(m&3)!==0)&&(Sh=!0)),u=f}je!==0&&je!==5||nu(i),rr!==0&&(rr=0)}function uT(i,r){for(var o=i.suspendedLanes,u=i.pingedLanes,f=i.expirationTimes,m=i.pendingLanes&-62914561;0<m;){var T=31-_e(m),w=1<<T,M=f[T];M===-1?((w&o)===0||(w&u)!==0)&&(f[T]=Sd(w,r)):M<=r&&(i.expiredLanes|=w),m&=~w}if(r=ne,o=Ot,o=Si(i,i===r?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u=i.callbackNode,o===0||i===r&&(Qt===2||Qt===9)||i.cancelPendingCommit!==null)return u!==null&&u!==null&&Vs(u),i.callbackNode=null,i.callbackPriority=0;if((o&3)===0||ti(i,o)){if(r=o&-o,r===i.callbackPriority)return r;switch(u!==null&&Vs(u),ts(o)){case 2:case 8:o=fl;break;case 32:o=Os;break;case 268435456:o=fc;break;default:o=Os}return u=cT.bind(null,i),o=Le(o,u),i.callbackPriority=r,i.callbackNode=o,r}return u!==null&&u!==null&&Vs(u),i.callbackPriority=2,i.callbackNode=null,2}function cT(i,r){if(je!==0&&je!==5)return i.callbackNode=null,i.callbackPriority=0,null;var o=i.callbackNode;if(Eh()&&i.callbackNode!==o)return null;var u=Ot;return u=Si(i,i===ne?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u===0?null:(G_(i,u,r),uT(i,cn()),i.callbackNode!=null&&i.callbackNode===o?cT.bind(null,i):null)}function hT(i,r){if(Eh())return null;G_(i,r,!0)}function VR(){GR(function(){(Kt&6)!==0?Le(hl,MR):lT()})}function Qm(){if(rr===0){var i=eo;i===0&&(i=Ei,Ei<<=1,(Ei&261888)===0&&(Ei=256)),rr=i}return rr}function fT(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:za(""+i)}function dT(i,r){var o=r.ownerDocument.createElement("input");return o.name=r.name,o.value=r.value,i.id&&o.setAttribute("form",i.id),r.parentNode.insertBefore(o,r),i=new FormData(i),o.parentNode.removeChild(o),i}function OR(i,r,o,u,f){if(r==="submit"&&o&&o.stateNode===f){var m=fT((f[Fe]||null).action),T=u.submitter;T&&(r=(r=T[Fe]||null)?fT(r.formAction):T.getAttribute("formAction"),r!==null&&(m=r,T=null));var w=new Oi("action","action",null,u,f);i.push({event:w,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(rr!==0){var M=T?dT(f,T):new FormData(f);pm(o,{pending:!0,data:M,method:f.method,action:m},null,M)}}else typeof m=="function"&&(w.preventDefault(),M=T?dT(f,T):new FormData(f),pm(o,{pending:!0,data:M,method:f.method,action:m},m,M))},currentTarget:f}]})}}for(var Xm=0;Xm<Md.length;Xm++){var Wm=Md[Xm],PR=Wm.toLowerCase(),kR=Wm[0].toUpperCase()+Wm.slice(1);li(PR,"on"+kR)}li(qv,"onAnimationEnd"),li(Gv,"onAnimationIteration"),li(Kv,"onAnimationStart"),li("dblclick","onDoubleClick"),li("focusin","onFocus"),li("focusout","onBlur"),li(JC,"onTransitionRun"),li(ZC,"onTransitionStart"),li(tR,"onTransitionCancel"),li(Yv,"onTransitionEnd"),Di("onMouseEnter",["mouseout","mouseover"]),Di("onMouseLeave",["mouseout","mouseover"]),Di("onPointerEnter",["pointerout","pointerover"]),Di("onPointerLeave",["pointerout","pointerover"]),Ii("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ii("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ii("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ii("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ii("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ii("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var iu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),LR=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(iu));function mT(i,r){r=(r&4)!==0;for(var o=0;o<i.length;o++){var u=i[o],f=u.event;u=u.listeners;t:{var m=void 0;if(r)for(var T=u.length-1;0<=T;T--){var w=u[T],M=w.instance,Y=w.currentTarget;if(w=w.listener,M!==m&&f.isPropagationStopped())break t;m=w,f.currentTarget=Y;try{m(f)}catch(J){jc(J)}f.currentTarget=null,m=M}else for(T=0;T<u.length;T++){if(w=u[T],M=w.instance,Y=w.currentTarget,w=w.listener,M!==m&&f.isPropagationStopped())break t;m=w,f.currentTarget=Y;try{m(f)}catch(J){jc(J)}f.currentTarget=null,m=M}}}}function Mt(i,r){var o=r[Pa];o===void 0&&(o=r[Pa]=new Set);var u=i+"__bubble";o.has(u)||(pT(r,i,2,!1),o.add(u))}function Jm(i,r,o){var u=0;r&&(u|=4),pT(o,i,u,r)}var wh="_reactListening"+Math.random().toString(36).slice(2);function Zm(i){if(!i[wh]){i[wh]=!0,pl.forEach(function(o){o!=="selectionchange"&&(LR.has(o)||Jm(o,!1,i),Jm(o,!0,i))});var r=i.nodeType===9?i:i.ownerDocument;r===null||r[wh]||(r[wh]=!0,Jm("selectionchange",!1,r))}}function pT(i,r,o,u){switch(qT(r)){case 2:var f=h2;break;case 8:f=f2;break;default:f=mp}o=f.bind(null,r,o,i),f=void 0,!Hr||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),u?f!==void 0?i.addEventListener(r,o,{capture:!0,passive:f}):i.addEventListener(r,o,!0):f!==void 0?i.addEventListener(r,o,{passive:f}):i.addEventListener(r,o,!1)}function tp(i,r,o,u,f){var m=u;if((r&1)===0&&(r&2)===0&&u!==null)t:for(;;){if(u===null)return;var T=u.tag;if(T===3||T===4){var w=u.stateNode.containerInfo;if(w===f)break;if(T===4)for(T=u.return;T!==null;){var M=T.tag;if((M===3||M===4)&&T.stateNode.containerInfo===f)return;T=T.return}for(;w!==null;){if(T=Ci(w),T===null)return;if(M=T.tag,M===5||M===6||M===26||M===27){u=m=T;continue t}w=w.parentNode}}u=u.return}zs(function(){var Y=m,J=Ln(o),nt=[];t:{var $=$v.get(i);if($!==void 0){var X=Oi,dt=i;switch(i){case"keypress":if(Gr(o)===0)break t;case"keydown":case"keyup":X=Pc;break;case"focusin":dt="focus",X=Yr;break;case"focusout":dt="blur",X=Yr;break;case"beforeblur":case"afterblur":X=Yr;break;case"click":if(o.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=Rl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=xc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=v;break;case qv:case Gv:case Kv:X=Rc;break;case Yv:X=x;break;case"scroll":case"scrollend":X=Cl;break;case"wheel":X=Q;break;case"copy":case"cut":case"paste":X=Ic;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=is;break;case"toggle":case"beforetoggle":X=xt}var _t=(r&4)!==0,te=!_t&&(i==="scroll"||i==="scrollend"),B=_t?$!==null?$+"Capture":null:$;_t=[];for(var j=Y,K;j!==null;){var et=j;if(K=et.stateNode,et=et.tag,et!==5&&et!==26&&et!==27||K===null||B===null||(et=si(j,B),et!=null&&_t.push(su(j,et,K))),te)break;j=j.return}0<_t.length&&($=new X($,dt,null,o,J),nt.push({event:$,listeners:_t}))}}if((r&7)===0){t:{if($=i==="mouseover"||i==="pointerover",X=i==="mouseout"||i==="pointerout",$&&o!==wl&&(dt=o.relatedTarget||o.fromElement)&&(Ci(dt)||dt[Ai]))break t;if((X||$)&&($=J.window===J?J:($=J.ownerDocument)?$.defaultView||$.parentWindow:window,X?(dt=o.relatedTarget||o.toElement,X=Y,dt=dt?Ci(dt):null,dt!==null&&(te=l(dt),_t=dt.tag,dt!==te||_t!==5&&_t!==27&&_t!==6)&&(dt=null)):(X=null,dt=Y),X!==dt)){if(_t=Rl,et="onMouseLeave",B="onMouseEnter",j="mouse",(i==="pointerout"||i==="pointerover")&&(_t=is,et="onPointerLeave",B="onPointerEnter",j="pointer"),te=X==null?$:wn(X),K=dt==null?$:wn(dt),$=new _t(et,j+"leave",X,o,J),$.target=te,$.relatedTarget=K,et=null,Ci(J)===Y&&(_t=new _t(B,j+"enter",dt,o,J),_t.target=K,_t.relatedTarget=te,et=_t),te=et,X&&dt)e:{for(_t=jR,B=X,j=dt,K=0,et=B;et;et=_t(et))K++;et=0;for(var yt=j;yt;yt=_t(yt))et++;for(;0<K-et;)B=_t(B),K--;for(;0<et-K;)j=_t(j),et--;for(;K--;){if(B===j||j!==null&&B===j.alternate){_t=B;break e}B=_t(B),j=_t(j)}_t=null}else _t=null;X!==null&&gT(nt,$,X,_t,!1),dt!==null&&te!==null&&gT(nt,te,dt,_t,!0)}}t:{if($=Y?wn(Y):window,X=$.nodeName&&$.nodeName.toLowerCase(),X==="select"||X==="input"&&$.type==="file")var Ft=Vv;else if(Nv($))if(Ov)Ft=QC;else{Ft=YC;var pt=KC}else X=$.nodeName,!X||X.toLowerCase()!=="input"||$.type!=="checkbox"&&$.type!=="radio"?Y&&Ua(Y.elementType)&&(Ft=Vv):Ft=$C;if(Ft&&(Ft=Ft(i,Y))){Mv(nt,Ft,o,J);break t}pt&&pt(i,$,Y),i==="focusout"&&Y&&$.type==="number"&&Y.memoizedProps.value!=null&&El($,"number",$.value)}switch(pt=Y?wn(Y):window,i){case"focusin":(Nv(pt)||pt.contentEditable==="true")&&(Ya=pt,Id=Y,Vl=null);break;case"focusout":Vl=Id=Ya=null;break;case"mousedown":Dd=!0;break;case"contextmenu":case"mouseup":case"dragend":Dd=!1,Fv(nt,o,J);break;case"selectionchange":if(WC)break;case"keydown":case"keyup":Fv(nt,o,J)}var Dt;if(Gt)t:{switch(i){case"compositionstart":var Pt="onCompositionStart";break t;case"compositionend":Pt="onCompositionEnd";break t;case"compositionupdate":Pt="onCompositionUpdate";break t}Pt=void 0}else Ka?$r(i,o)&&(Pt="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(Pt="onCompositionStart");Pt&&(Li&&o.locale!=="ko"&&(Ka||Pt!=="onCompositionStart"?Pt==="onCompositionEnd"&&Ka&&(Dt=xl()):(Vi=J,Al="value"in Vi?Vi.value:Vi.textContent,Ka=!0)),pt=Ah(Y,Pt),0<pt.length&&(Pt=new ki(Pt,i,null,o,J),nt.push({event:Pt,listeners:pt}),Dt?Pt.data=Dt:(Dt=Ga(o),Dt!==null&&(Pt.data=Dt)))),(Dt=Un?FC(i,o):HC(i,o))&&(Pt=Ah(Y,"onBeforeInput"),0<Pt.length&&(pt=new ki("onBeforeInput","beforeinput",null,o,J),nt.push({event:pt,listeners:Pt}),pt.data=Dt)),OR(nt,i,Y,o,J)}mT(nt,r)})}function su(i,r,o){return{instance:i,listener:r,currentTarget:o}}function Ah(i,r){for(var o=r+"Capture",u=[];i!==null;){var f=i,m=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||m===null||(f=si(i,o),f!=null&&u.unshift(su(i,f,m)),f=si(i,r),f!=null&&u.push(su(i,f,m))),i.tag===3)return u;i=i.return}return[]}function jR(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function gT(i,r,o,u,f){for(var m=r._reactName,T=[];o!==null&&o!==u;){var w=o,M=w.alternate,Y=w.stateNode;if(w=w.tag,M!==null&&M===u)break;w!==5&&w!==26&&w!==27||Y===null||(M=Y,f?(Y=si(o,m),Y!=null&&T.unshift(su(o,Y,M))):f||(Y=si(o,m),Y!=null&&T.push(su(o,Y,M)))),o=o.return}T.length!==0&&i.push({event:r,listeners:T})}var UR=/\r\n?/g,zR=/\u0000|\uFFFD/g;function yT(i){return(typeof i=="string"?i:""+i).replace(UR,`
`).replace(zR,"")}function vT(i,r){return r=yT(r),yT(i)===r}function Zt(i,r,o,u,f,m){switch(o){case"children":typeof u=="string"?r==="body"||r==="textarea"&&u===""||gn(i,u):(typeof u=="number"||typeof u=="bigint")&&r!=="body"&&gn(i,""+u);break;case"className":An(i,"class",u);break;case"tabIndex":An(i,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":An(i,o,u);break;case"style":Sl(i,u,m);break;case"data":if(r!=="object"){An(i,"data",u);break}case"src":case"href":if(u===""&&(r!=="a"||o!=="href")){i.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=za(""+u),i.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){i.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(o==="formAction"?(r!=="input"&&Zt(i,r,"name",f.name,f,null),Zt(i,r,"formEncType",f.formEncType,f,null),Zt(i,r,"formMethod",f.formMethod,f,null),Zt(i,r,"formTarget",f.formTarget,f,null)):(Zt(i,r,"encType",f.encType,f,null),Zt(i,r,"method",f.method,f,null),Zt(i,r,"target",f.target,f,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=za(""+u),i.setAttribute(o,u);break;case"onClick":u!=null&&(i.onclick=ii);break;case"onScroll":u!=null&&Mt("scroll",i);break;case"onScrollEnd":u!=null&&Mt("scrollend",i);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"multiple":i.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":i.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){i.removeAttribute("xlink:href");break}o=za(""+u),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""+u):i.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""):i.removeAttribute(o);break;case"capture":case"download":u===!0?i.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,u):i.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?i.setAttribute(o,u):i.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?i.removeAttribute(o):i.setAttribute(o,u);break;case"popover":Mt("beforetoggle",i),Mt("toggle",i),La(i,"popover",u);break;case"xlinkActuate":Re(i,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Re(i,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Re(i,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Re(i,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Re(i,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Re(i,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Re(i,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Re(i,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Re(i,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":La(i,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Ac.get(o)||o,La(i,o,u))}}function ep(i,r,o,u,f,m){switch(o){case"style":Sl(i,u,m);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"children":typeof u=="string"?gn(i,u):(typeof u=="number"||typeof u=="bigint")&&gn(i,""+u);break;case"onScroll":u!=null&&Mt("scroll",i);break;case"onScrollEnd":u!=null&&Mt("scrollend",i);break;case"onClick":u!=null&&(i.onclick=ii);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!gl.hasOwnProperty(o))t:{if(o[0]==="o"&&o[1]==="n"&&(f=o.endsWith("Capture"),r=o.slice(2,f?o.length-7:void 0),m=i[Fe]||null,m=m!=null?m[o]:null,typeof m=="function"&&i.removeEventListener(r,m,f),typeof u=="function")){typeof m!="function"&&m!==null&&(o in i?i[o]=null:i.hasAttribute(o)&&i.removeAttribute(o)),i.addEventListener(r,u,f);break t}o in i?i[o]=u:u===!0?i.setAttribute(o,""):La(i,o,u)}}}function Je(i,r,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Mt("error",i),Mt("load",i);var u=!1,f=!1,m;for(m in o)if(o.hasOwnProperty(m)){var T=o[m];if(T!=null)switch(m){case"src":u=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Zt(i,r,m,T,o,null)}}f&&Zt(i,r,"srcSet",o.srcSet,o,null),u&&Zt(i,r,"src",o.src,o,null);return;case"input":Mt("invalid",i);var w=m=T=f=null,M=null,Y=null;for(u in o)if(o.hasOwnProperty(u)){var J=o[u];if(J!=null)switch(u){case"name":f=J;break;case"type":T=J;break;case"checked":M=J;break;case"defaultChecked":Y=J;break;case"value":m=J;break;case"defaultValue":w=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(s(137,r));break;default:Zt(i,r,u,J,o,null)}}bc(i,m,w,M,Y,T,f,!1);return;case"select":Mt("invalid",i),u=T=m=null;for(f in o)if(o.hasOwnProperty(f)&&(w=o[f],w!=null))switch(f){case"value":m=w;break;case"defaultValue":T=w;break;case"multiple":u=w;default:Zt(i,r,f,w,o,null)}r=m,o=T,i.multiple=!!u,r!=null?ks(i,!!u,r,!1):o!=null&&ks(i,!!u,o,!0);return;case"textarea":Mt("invalid",i),m=f=u=null;for(T in o)if(o.hasOwnProperty(T)&&(w=o[T],w!=null))switch(T){case"value":u=w;break;case"defaultValue":f=w;break;case"children":m=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(s(91));break;default:Zt(i,r,T,w,o,null)}Ls(i,u,f,m);return;case"option":for(M in o)o.hasOwnProperty(M)&&(u=o[M],u!=null)&&(M==="selected"?i.selected=u&&typeof u!="function"&&typeof u!="symbol":Zt(i,r,M,u,o,null));return;case"dialog":Mt("beforetoggle",i),Mt("toggle",i),Mt("cancel",i),Mt("close",i);break;case"iframe":case"object":Mt("load",i);break;case"video":case"audio":for(u=0;u<iu.length;u++)Mt(iu[u],i);break;case"image":Mt("error",i),Mt("load",i);break;case"details":Mt("toggle",i);break;case"embed":case"source":case"link":Mt("error",i),Mt("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Y in o)if(o.hasOwnProperty(Y)&&(u=o[Y],u!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Zt(i,r,Y,u,o,null)}return;default:if(Ua(r)){for(J in o)o.hasOwnProperty(J)&&(u=o[J],u!==void 0&&ep(i,r,J,u,o,void 0));return}}for(w in o)o.hasOwnProperty(w)&&(u=o[w],u!=null&&Zt(i,r,w,u,o,null))}function BR(i,r,o,u){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,m=null,T=null,w=null,M=null,Y=null,J=null;for(X in o){var nt=o[X];if(o.hasOwnProperty(X)&&nt!=null)switch(X){case"checked":break;case"value":break;case"defaultValue":M=nt;default:u.hasOwnProperty(X)||Zt(i,r,X,null,u,nt)}}for(var $ in u){var X=u[$];if(nt=o[$],u.hasOwnProperty($)&&(X!=null||nt!=null))switch($){case"type":m=X;break;case"name":f=X;break;case"checked":Y=X;break;case"defaultChecked":J=X;break;case"value":T=X;break;case"defaultValue":w=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,r));break;default:X!==nt&&Zt(i,r,$,X,u,nt)}}ja(i,T,w,M,Y,J,m,f);return;case"select":X=T=w=$=null;for(m in o)if(M=o[m],o.hasOwnProperty(m)&&M!=null)switch(m){case"value":break;case"multiple":X=M;default:u.hasOwnProperty(m)||Zt(i,r,m,null,u,M)}for(f in u)if(m=u[f],M=o[f],u.hasOwnProperty(f)&&(m!=null||M!=null))switch(f){case"value":$=m;break;case"defaultValue":w=m;break;case"multiple":T=m;default:m!==M&&Zt(i,r,f,m,u,M)}r=w,o=T,u=X,$!=null?ks(i,!!o,$,!1):!!u!=!!o&&(r!=null?ks(i,!!o,r,!0):ks(i,!!o,o?[]:"",!1));return;case"textarea":X=$=null;for(w in o)if(f=o[w],o.hasOwnProperty(w)&&f!=null&&!u.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:Zt(i,r,w,null,u,f)}for(T in u)if(f=u[T],m=o[T],u.hasOwnProperty(T)&&(f!=null||m!=null))switch(T){case"value":$=f;break;case"defaultValue":X=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==m&&Zt(i,r,T,f,u,m)}Sc(i,$,X);return;case"option":for(var dt in o)$=o[dt],o.hasOwnProperty(dt)&&$!=null&&!u.hasOwnProperty(dt)&&(dt==="selected"?i.selected=!1:Zt(i,r,dt,null,u,$));for(M in u)$=u[M],X=o[M],u.hasOwnProperty(M)&&$!==X&&($!=null||X!=null)&&(M==="selected"?i.selected=$&&typeof $!="function"&&typeof $!="symbol":Zt(i,r,M,$,u,X));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _t in o)$=o[_t],o.hasOwnProperty(_t)&&$!=null&&!u.hasOwnProperty(_t)&&Zt(i,r,_t,null,u,$);for(Y in u)if($=u[Y],X=o[Y],u.hasOwnProperty(Y)&&$!==X&&($!=null||X!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(s(137,r));break;default:Zt(i,r,Y,$,u,X)}return;default:if(Ua(r)){for(var te in o)$=o[te],o.hasOwnProperty(te)&&$!==void 0&&!u.hasOwnProperty(te)&&ep(i,r,te,void 0,u,$);for(J in u)$=u[J],X=o[J],!u.hasOwnProperty(J)||$===X||$===void 0&&X===void 0||ep(i,r,J,$,u,X);return}}for(var B in o)$=o[B],o.hasOwnProperty(B)&&$!=null&&!u.hasOwnProperty(B)&&Zt(i,r,B,null,u,$);for(nt in u)$=u[nt],X=o[nt],!u.hasOwnProperty(nt)||$===X||$==null&&X==null||Zt(i,r,nt,$,u,X)}function _T(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function FR(){if(typeof performance.getEntriesByType=="function"){for(var i=0,r=0,o=performance.getEntriesByType("resource"),u=0;u<o.length;u++){var f=o[u],m=f.transferSize,T=f.initiatorType,w=f.duration;if(m&&w&&_T(T)){for(T=0,w=f.responseEnd,u+=1;u<o.length;u++){var M=o[u],Y=M.startTime;if(Y>w)break;var J=M.transferSize,nt=M.initiatorType;J&&_T(nt)&&(M=M.responseEnd,T+=J*(M<w?1:(w-Y)/(M-Y)))}if(--u,r+=8*(m+T)/(f.duration/1e3),i++,10<i)break}}if(0<i)return r/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var np=null,ip=null;function xh(i){return i.nodeType===9?i:i.ownerDocument}function TT(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ET(i,r){if(i===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&r==="foreignObject"?0:i}function sp(i,r){return i==="textarea"||i==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var rp=null;function HR(){var i=window.event;return i&&i.type==="popstate"?i===rp?!1:(rp=i,!0):(rp=null,!1)}var bT=typeof setTimeout=="function"?setTimeout:void 0,qR=typeof clearTimeout=="function"?clearTimeout:void 0,ST=typeof Promise=="function"?Promise:void 0,GR=typeof queueMicrotask=="function"?queueMicrotask:typeof ST<"u"?function(i){return ST.resolve(null).then(i).catch(KR)}:bT;function KR(i){setTimeout(function(){throw i})}function ar(i){return i==="head"}function wT(i,r){var o=r,u=0;do{var f=o.nextSibling;if(i.removeChild(o),f&&f.nodeType===8)if(o=f.data,o==="/$"||o==="/&"){if(u===0){i.removeChild(f),Eo(r);return}u--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")u++;else if(o==="html")ru(i.ownerDocument.documentElement);else if(o==="head"){o=i.ownerDocument.head,ru(o);for(var m=o.firstChild;m;){var T=m.nextSibling,w=m.nodeName;m[xi]||w==="SCRIPT"||w==="STYLE"||w==="LINK"&&m.rel.toLowerCase()==="stylesheet"||o.removeChild(m),m=T}}else o==="body"&&ru(i.ownerDocument.body);o=f}while(o);Eo(r)}function AT(i,r){var o=i;i=0;do{var u=o.nextSibling;if(o.nodeType===1?r?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(r?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),u&&u.nodeType===8)if(o=u.data,o==="/$"){if(i===0)break;i--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||i++;o=u}while(o)}function ap(i){var r=i.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var o=r;switch(r=r.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":ap(o),ka(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}i.removeChild(o)}}function YR(i,r,o,u){for(;i.nodeType===1;){var f=o;if(i.nodeName.toLowerCase()!==r.toLowerCase()){if(!u&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(u){if(!i[xi])switch(r){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(m=i.getAttribute("rel"),m==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(m!==f.rel||i.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||i.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||i.getAttribute("title")!==(f.title==null?null:f.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(m=i.getAttribute("src"),(m!==(f.src==null?null:f.src)||i.getAttribute("type")!==(f.type==null?null:f.type)||i.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&m&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(r==="input"&&i.type==="hidden"){var m=f.name==null?null:""+f.name;if(f.type==="hidden"&&i.getAttribute("name")===m)return i}else return i;if(i=Kn(i.nextSibling),i===null)break}return null}function $R(i,r,o){if(r==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=Kn(i.nextSibling),i===null))return null;return i}function xT(i,r){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!r||(i=Kn(i.nextSibling),i===null))return null;return i}function op(i){return i.data==="$?"||i.data==="$~"}function lp(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function QR(i,r){var o=i.ownerDocument;if(i.data==="$~")i._reactRetry=r;else if(i.data!=="$?"||o.readyState!=="loading")r();else{var u=function(){r(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),i._reactRetry=u}}function Kn(i){for(;i!=null;i=i.nextSibling){var r=i.nodeType;if(r===1||r===3)break;if(r===8){if(r=i.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return i}var up=null;function CT(i){i=i.nextSibling;for(var r=0;i;){if(i.nodeType===8){var o=i.data;if(o==="/$"||o==="/&"){if(r===0)return Kn(i.nextSibling);r--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||r++}i=i.nextSibling}return null}function RT(i){i=i.previousSibling;for(var r=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(r===0)return i;r--}else o!=="/$"&&o!=="/&"||r++}i=i.previousSibling}return null}function IT(i,r,o){switch(r=xh(o),i){case"html":if(i=r.documentElement,!i)throw Error(s(452));return i;case"head":if(i=r.head,!i)throw Error(s(453));return i;case"body":if(i=r.body,!i)throw Error(s(454));return i;default:throw Error(s(451))}}function ru(i){for(var r=i.attributes;r.length;)i.removeAttributeNode(r[0]);ka(i)}var Yn=new Map,DT=new Set;function Ch(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var vs=ot.d;ot.d={f:XR,r:WR,D:JR,C:ZR,L:t2,m:e2,X:i2,S:n2,M:s2};function XR(){var i=vs.f(),r=vh();return i||r}function WR(i){var r=kn(i);r!==null&&r.tag===5&&r.type==="form"?Y0(r):vs.r(i)}var vo=typeof document>"u"?null:document;function NT(i,r,o){var u=vo;if(u&&typeof r=="string"&&r){var f=pn(r);f='link[rel="'+i+'"][href="'+f+'"]',typeof o=="string"&&(f+='[crossorigin="'+o+'"]'),DT.has(f)||(DT.add(f),i={rel:i,crossOrigin:o,href:r},u.querySelector(f)===null&&(r=u.createElement("link"),Je(r,"link",i),Ce(r),u.head.appendChild(r)))}}function JR(i){vs.D(i),NT("dns-prefetch",i,null)}function ZR(i,r){vs.C(i,r),NT("preconnect",i,r)}function t2(i,r,o){vs.L(i,r,o);var u=vo;if(u&&i&&r){var f='link[rel="preload"][as="'+pn(r)+'"]';r==="image"&&o&&o.imageSrcSet?(f+='[imagesrcset="'+pn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(f+='[imagesizes="'+pn(o.imageSizes)+'"]')):f+='[href="'+pn(i)+'"]';var m=f;switch(r){case"style":m=_o(i);break;case"script":m=To(i)}Yn.has(m)||(i=_({rel:"preload",href:r==="image"&&o&&o.imageSrcSet?void 0:i,as:r},o),Yn.set(m,i),u.querySelector(f)!==null||r==="style"&&u.querySelector(au(m))||r==="script"&&u.querySelector(ou(m))||(r=u.createElement("link"),Je(r,"link",i),Ce(r),u.head.appendChild(r)))}}function e2(i,r){vs.m(i,r);var o=vo;if(o&&i){var u=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+pn(u)+'"][href="'+pn(i)+'"]',m=f;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=To(i)}if(!Yn.has(m)&&(i=_({rel:"modulepreload",href:i},r),Yn.set(m,i),o.querySelector(f)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(ou(m)))return}u=o.createElement("link"),Je(u,"link",i),Ce(u),o.head.appendChild(u)}}}function n2(i,r,o){vs.S(i,r,o);var u=vo;if(u&&i){var f=Ri(u).hoistableStyles,m=_o(i);r=r||"default";var T=f.get(m);if(!T){var w={loading:0,preload:null};if(T=u.querySelector(au(m)))w.loading=5;else{i=_({rel:"stylesheet",href:i,"data-precedence":r},o),(o=Yn.get(m))&&cp(i,o);var M=T=u.createElement("link");Ce(M),Je(M,"link",i),M._p=new Promise(function(Y,J){M.onload=Y,M.onerror=J}),M.addEventListener("load",function(){w.loading|=1}),M.addEventListener("error",function(){w.loading|=2}),w.loading|=4,Rh(T,r,u)}T={type:"stylesheet",instance:T,count:1,state:w},f.set(m,T)}}}function i2(i,r){vs.X(i,r);var o=vo;if(o&&i){var u=Ri(o).hoistableScripts,f=To(i),m=u.get(f);m||(m=o.querySelector(ou(f)),m||(i=_({src:i,async:!0},r),(r=Yn.get(f))&&hp(i,r),m=o.createElement("script"),Ce(m),Je(m,"link",i),o.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},u.set(f,m))}}function s2(i,r){vs.M(i,r);var o=vo;if(o&&i){var u=Ri(o).hoistableScripts,f=To(i),m=u.get(f);m||(m=o.querySelector(ou(f)),m||(i=_({src:i,async:!0,type:"module"},r),(r=Yn.get(f))&&hp(i,r),m=o.createElement("script"),Ce(m),Je(m,"link",i),o.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},u.set(f,m))}}function MT(i,r,o,u){var f=(f=It.current)?Ch(f):null;if(!f)throw Error(s(446));switch(i){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(r=_o(o.href),o=Ri(f).hoistableStyles,u=o.get(r),u||(u={type:"style",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){i=_o(o.href);var m=Ri(f).hoistableStyles,T=m.get(i);if(T||(f=f.ownerDocument||f,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(i,T),(m=f.querySelector(au(i)))&&!m._p&&(T.instance=m,T.state.loading=5),Yn.has(i)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Yn.set(i,o),m||r2(f,i,o,T.state))),r&&u===null)throw Error(s(528,""));return T}if(r&&u!==null)throw Error(s(529,""));return null;case"script":return r=o.async,o=o.src,typeof o=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=To(o),o=Ri(f).hoistableScripts,u=o.get(r),u||(u={type:"script",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,i))}}function _o(i){return'href="'+pn(i)+'"'}function au(i){return'link[rel="stylesheet"]['+i+"]"}function VT(i){return _({},i,{"data-precedence":i.precedence,precedence:null})}function r2(i,r,o,u){i.querySelector('link[rel="preload"][as="style"]['+r+"]")?u.loading=1:(r=i.createElement("link"),u.preload=r,r.addEventListener("load",function(){return u.loading|=1}),r.addEventListener("error",function(){return u.loading|=2}),Je(r,"link",o),Ce(r),i.head.appendChild(r))}function To(i){return'[src="'+pn(i)+'"]'}function ou(i){return"script[async]"+i}function OT(i,r,o){if(r.count++,r.instance===null)switch(r.type){case"style":var u=i.querySelector('style[data-href~="'+pn(o.href)+'"]');if(u)return r.instance=u,Ce(u),u;var f=_({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(i.ownerDocument||i).createElement("style"),Ce(u),Je(u,"style",f),Rh(u,o.precedence,i),r.instance=u;case"stylesheet":f=_o(o.href);var m=i.querySelector(au(f));if(m)return r.state.loading|=4,r.instance=m,Ce(m),m;u=VT(o),(f=Yn.get(f))&&cp(u,f),m=(i.ownerDocument||i).createElement("link"),Ce(m);var T=m;return T._p=new Promise(function(w,M){T.onload=w,T.onerror=M}),Je(m,"link",u),r.state.loading|=4,Rh(m,o.precedence,i),r.instance=m;case"script":return m=To(o.src),(f=i.querySelector(ou(m)))?(r.instance=f,Ce(f),f):(u=o,(f=Yn.get(m))&&(u=_({},o),hp(u,f)),i=i.ownerDocument||i,f=i.createElement("script"),Ce(f),Je(f,"link",u),i.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(u=r.instance,r.state.loading|=4,Rh(u,o.precedence,i));return r.instance}function Rh(i,r,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=u.length?u[u.length-1]:null,m=f,T=0;T<u.length;T++){var w=u[T];if(w.dataset.precedence===r)m=w;else if(m!==f)break}m?m.parentNode.insertBefore(i,m.nextSibling):(r=o.nodeType===9?o.head:o,r.insertBefore(i,r.firstChild))}function cp(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.title==null&&(i.title=r.title)}function hp(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.integrity==null&&(i.integrity=r.integrity)}var Ih=null;function PT(i,r,o){if(Ih===null){var u=new Map,f=Ih=new Map;f.set(o,u)}else f=Ih,u=f.get(o),u||(u=new Map,f.set(o,u));if(u.has(i))return u;for(u.set(i,null),o=o.getElementsByTagName(i),f=0;f<o.length;f++){var m=o[f];if(!(m[xi]||m[xe]||i==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var T=m.getAttribute(r)||"";T=i+T;var w=u.get(T);w?w.push(m):u.set(T,[m])}}return u}function kT(i,r,o){i=i.ownerDocument||i,i.head.insertBefore(o,r==="title"?i.querySelector("head > title"):null)}function a2(i,r,o){if(o===1||r.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;return r.rel==="stylesheet"?(i=r.disabled,typeof r.precedence=="string"&&i==null):!0;case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function LT(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function o2(i,r,o,u){if(o.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var f=_o(u.href),m=r.querySelector(au(f));if(m){r=m._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(i.count++,i=Dh.bind(i),r.then(i,i)),o.state.loading|=4,o.instance=m,Ce(m);return}m=r.ownerDocument||r,u=VT(u),(f=Yn.get(f))&&cp(u,f),m=m.createElement("link"),Ce(m);var T=m;T._p=new Promise(function(w,M){T.onload=w,T.onerror=M}),Je(m,"link",u),o.instance=m}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(o,r),(r=o.state.preload)&&(o.state.loading&3)===0&&(i.count++,o=Dh.bind(i),r.addEventListener("load",o),r.addEventListener("error",o))}}var fp=0;function l2(i,r){return i.stylesheets&&i.count===0&&Mh(i,i.stylesheets),0<i.count||0<i.imgCount?function(o){var u=setTimeout(function(){if(i.stylesheets&&Mh(i,i.stylesheets),i.unsuspend){var m=i.unsuspend;i.unsuspend=null,m()}},6e4+r);0<i.imgBytes&&fp===0&&(fp=62500*FR());var f=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&Mh(i,i.stylesheets),i.unsuspend)){var m=i.unsuspend;i.unsuspend=null,m()}},(i.imgBytes>fp?50:800)+r);return i.unsuspend=o,function(){i.unsuspend=null,clearTimeout(u),clearTimeout(f)}}:null}function Dh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Mh(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Nh=null;function Mh(i,r){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Nh=new Map,r.forEach(u2,i),Nh=null,Dh.call(i))}function u2(i,r){if(!(r.state.loading&4)){var o=Nh.get(i);if(o)var u=o.get(null);else{o=new Map,Nh.set(i,o);for(var f=i.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<f.length;m++){var T=f[m];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(o.set(T.dataset.precedence,T),u=T)}u&&o.set(null,u)}f=r.instance,T=f.getAttribute("data-precedence"),m=o.get(T)||u,m===u&&o.set(null,f),o.set(T,f),this.count++,u=Dh.bind(this),f.addEventListener("load",u),f.addEventListener("error",u),m?m.parentNode.insertBefore(f,m.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(f,i.firstChild)),r.state.loading|=4}}var lu={$$typeof:z,Provider:null,Consumer:null,_currentValue:ft,_currentValue2:ft,_threadCount:0};function c2(i,r,o,u,f,m,T,w,M){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=wi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wi(0),this.hiddenUpdates=wi(null),this.identifierPrefix=u,this.onUncaughtError=f,this.onCaughtError=m,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=M,this.incompleteTransitions=new Map}function jT(i,r,o,u,f,m,T,w,M,Y,J,nt){return i=new c2(i,r,o,T,M,Y,J,nt,w),r=1,m===!0&&(r|=24),m=Cn(3,null,null,r),i.current=m,m.stateNode=i,r=Gd(),r.refCount++,i.pooledCache=r,r.refCount++,m.memoizedState={element:u,isDehydrated:o,cache:r},Qd(m),i}function UT(i){return i?(i=Xa,i):Xa}function zT(i,r,o,u,f,m){f=UT(f),u.context===null?u.context=f:u.pendingContext=f,u=Qs(r),u.payload={element:o},m=m===void 0?null:m,m!==null&&(u.callback=m),o=Xs(i,u,r),o!==null&&(En(o,i,r),zl(o,i,r))}function BT(i,r){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<r?o:r}}function dp(i,r){BT(i,r),(i=i.alternate)&&BT(i,r)}function FT(i){if(i.tag===13||i.tag===31){var r=Wr(i,67108864);r!==null&&En(r,i,67108864),dp(i,67108864)}}function HT(i){if(i.tag===13||i.tag===31){var r=Mn();r=Ur(r);var o=Wr(i,r);o!==null&&En(o,i,r),dp(i,r)}}var Vh=!0;function h2(i,r,o,u){var f=Z.T;Z.T=null;var m=ot.p;try{ot.p=2,mp(i,r,o,u)}finally{ot.p=m,Z.T=f}}function f2(i,r,o,u){var f=Z.T;Z.T=null;var m=ot.p;try{ot.p=8,mp(i,r,o,u)}finally{ot.p=m,Z.T=f}}function mp(i,r,o,u){if(Vh){var f=pp(u);if(f===null)tp(i,r,u,Oh,o),GT(i,u);else if(m2(f,i,r,o,u))u.stopPropagation();else if(GT(i,u),r&4&&-1<d2.indexOf(i)){for(;f!==null;){var m=kn(f);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var T=bi(m.pendingLanes);if(T!==0){var w=m;for(w.pendingLanes|=2,w.entangledLanes|=2;T;){var M=1<<31-_e(T);w.entanglements[1]|=M,T&=~M}Bi(m),(Kt&6)===0&&(gh=cn()+500,nu(0))}}break;case 31:case 13:w=Wr(m,2),w!==null&&En(w,m,2),vh(),dp(m,2)}if(m=pp(u),m===null&&tp(i,r,u,Oh,o),m===f)break;f=m}f!==null&&u.stopPropagation()}else tp(i,r,u,null,o)}}function pp(i){return i=Ln(i),gp(i)}var Oh=null;function gp(i){if(Oh=null,i=Ci(i),i!==null){var r=l(i);if(r===null)i=null;else{var o=r.tag;if(o===13){if(i=c(r),i!==null)return i;i=null}else if(o===31){if(i=d(r),i!==null)return i;i=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;i=null}else r!==i&&(i=null)}}return Oh=i,null}function qT(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Pr()){case hl:return 2;case fl:return 8;case Os:case bd:return 32;case fc:return 268435456;default:return 32}default:return 32}}var yp=!1,or=null,lr=null,ur=null,uu=new Map,cu=new Map,cr=[],d2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function GT(i,r){switch(i){case"focusin":case"focusout":or=null;break;case"dragenter":case"dragleave":lr=null;break;case"mouseover":case"mouseout":ur=null;break;case"pointerover":case"pointerout":uu.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":cu.delete(r.pointerId)}}function hu(i,r,o,u,f,m){return i===null||i.nativeEvent!==m?(i={blockedOn:r,domEventName:o,eventSystemFlags:u,nativeEvent:m,targetContainers:[f]},r!==null&&(r=kn(r),r!==null&&FT(r)),i):(i.eventSystemFlags|=u,r=i.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),i)}function m2(i,r,o,u,f){switch(r){case"focusin":return or=hu(or,i,r,o,u,f),!0;case"dragenter":return lr=hu(lr,i,r,o,u,f),!0;case"mouseover":return ur=hu(ur,i,r,o,u,f),!0;case"pointerover":var m=f.pointerId;return uu.set(m,hu(uu.get(m)||null,i,r,o,u,f)),!0;case"gotpointercapture":return m=f.pointerId,cu.set(m,hu(cu.get(m)||null,i,r,o,u,f)),!0}return!1}function KT(i){var r=Ci(i.target);if(r!==null){var o=l(r);if(o!==null){if(r=o.tag,r===13){if(r=c(o),r!==null){i.blockedOn=r,ei(i.priority,function(){HT(o)});return}}else if(r===31){if(r=d(o),r!==null){i.blockedOn=r,ei(i.priority,function(){HT(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Ph(i){if(i.blockedOn!==null)return!1;for(var r=i.targetContainers;0<r.length;){var o=pp(i.nativeEvent);if(o===null){o=i.nativeEvent;var u=new o.constructor(o.type,o);wl=u,o.target.dispatchEvent(u),wl=null}else return r=kn(o),r!==null&&FT(r),i.blockedOn=o,!1;r.shift()}return!0}function YT(i,r,o){Ph(i)&&o.delete(r)}function p2(){yp=!1,or!==null&&Ph(or)&&(or=null),lr!==null&&Ph(lr)&&(lr=null),ur!==null&&Ph(ur)&&(ur=null),uu.forEach(YT),cu.forEach(YT)}function kh(i,r){i.blockedOn===r&&(i.blockedOn=null,yp||(yp=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,p2)))}var Lh=null;function $T(i){Lh!==i&&(Lh=i,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Lh===i&&(Lh=null);for(var r=0;r<i.length;r+=3){var o=i[r],u=i[r+1],f=i[r+2];if(typeof u!="function"){if(gp(u||o)===null)continue;break}var m=kn(o);m!==null&&(i.splice(r,3),r-=3,pm(m,{pending:!0,data:f,method:o.method,action:u},u,f))}}))}function Eo(i){function r(M){return kh(M,i)}or!==null&&kh(or,i),lr!==null&&kh(lr,i),ur!==null&&kh(ur,i),uu.forEach(r),cu.forEach(r);for(var o=0;o<cr.length;o++){var u=cr[o];u.blockedOn===i&&(u.blockedOn=null)}for(;0<cr.length&&(o=cr[0],o.blockedOn===null);)KT(o),o.blockedOn===null&&cr.shift();if(o=(i.ownerDocument||i).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var f=o[u],m=o[u+1],T=f[Fe]||null;if(typeof m=="function")T||$T(o);else if(T){var w=null;if(m&&m.hasAttribute("formAction")){if(f=m,T=m[Fe]||null)w=T.formAction;else if(gp(f)!==null)continue}else w=T.action;typeof w=="function"?o[u+1]=w:(o.splice(u,3),u-=3),$T(o)}}}function QT(){function i(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(T){return f=T})},focusReset:"manual",scroll:"manual"})}function r(){f!==null&&(f(),f=null),u||setTimeout(o,20)}function o(){if(!u&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,f=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(o,100),function(){u=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),f!==null&&(f(),f=null)}}}function vp(i){this._internalRoot=i}jh.prototype.render=vp.prototype.render=function(i){var r=this._internalRoot;if(r===null)throw Error(s(409));var o=r.current,u=Mn();zT(o,u,i,r,null,null)},jh.prototype.unmount=vp.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var r=i.containerInfo;zT(i.current,2,null,i,null,null),vh(),r[Ai]=null}};function jh(i){this._internalRoot=i}jh.prototype.unstable_scheduleHydration=function(i){if(i){var r=vc();i={blockedOn:null,target:i,priority:r};for(var o=0;o<cr.length&&r!==0&&r<cr[o].priority;o++);cr.splice(o,0,i),o===0&&KT(i)}};var XT=t.version;if(XT!=="19.2.4")throw Error(s(527,XT,"19.2.4"));ot.findDOMNode=function(i){var r=i._reactInternals;if(r===void 0)throw typeof i.render=="function"?Error(s(188)):(i=Object.keys(i).join(","),Error(s(268,i)));return i=p(r),i=i!==null?y(i):null,i=i===null?null:i.stateNode,i};var g2={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:Z,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Uh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Uh.isDisabled&&Uh.supportsFiber)try{Zn=Uh.inject(g2),Ye=Uh}catch{}}return du.createRoot=function(i,r){if(!a(i))throw Error(s(299));var o=!1,u="",f=i_,m=s_,T=r_;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(m=r.onCaughtError),r.onRecoverableError!==void 0&&(T=r.onRecoverableError)),r=jT(i,1,!1,null,null,o,u,null,f,m,T,QT),i[Ai]=r.current,Zm(i),new vp(r)},du.hydrateRoot=function(i,r,o){if(!a(i))throw Error(s(299));var u=!1,f="",m=i_,T=s_,w=r_,M=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(m=o.onUncaughtError),o.onCaughtError!==void 0&&(T=o.onCaughtError),o.onRecoverableError!==void 0&&(w=o.onRecoverableError),o.formState!==void 0&&(M=o.formState)),r=jT(i,1,!0,r,o??null,u,f,M,m,T,w,QT),r.context=UT(null),o=r.current,u=Mn(),u=Ur(u),f=Qs(u),f.callback=null,Xs(o,f,u),o=u,r.current.lanes=o,Lr(r,o),Bi(r),i[Ai]=r.current,Zm(i),new jh(r)},du.version="19.2.4",du}var aE;function x2(){if(aE)return Ep.exports;aE=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Ep.exports=A2(),Ep.exports}var C2=x2();const R2=hS(C2);var oE="popstate";function I2(e={}){function t(s,a){let{pathname:l,search:c,hash:d}=s.location;return ag("",{pathname:l,search:c,hash:d},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(s,a){return typeof a=="string"?a:Mu(a)}return N2(t,n,null,e)}function he(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function _i(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function D2(){return Math.random().toString(36).substring(2,10)}function lE(e,t){return{usr:e.state,key:e.key,idx:t}}function ag(e,t,n=null,s){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Qo(t):t,state:n,key:t&&t.key||s||D2()}}function Mu({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Qo(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let s=e.indexOf("?");s>=0&&(t.search=e.substring(s),e=e.substring(0,s)),e&&(t.pathname=e)}return t}function N2(e,t,n,s={}){let{window:a=document.defaultView,v5Compat:l=!1}=s,c=a.history,d="POP",g=null,p=y();p==null&&(p=0,c.replaceState({...c.state,idx:p},""));function y(){return(c.state||{idx:null}).idx}function _(){d="POP";let L=y(),H=L==null?null:L-p;p=L,g&&g({action:d,location:k.location,delta:H})}function b(L,H){d="PUSH";let G=ag(k.location,L,H);p=y()+1;let z=lE(G,p),W=k.createHref(G);try{c.pushState(z,"",W)}catch(tt){if(tt instanceof DOMException&&tt.name==="DataCloneError")throw tt;a.location.assign(W)}l&&g&&g({action:d,location:k.location,delta:1})}function C(L,H){d="REPLACE";let G=ag(k.location,L,H);p=y();let z=lE(G,p),W=k.createHref(G);c.replaceState(z,"",W),l&&g&&g({action:d,location:k.location,delta:0})}function D(L){return M2(L)}let k={get action(){return d},get location(){return e(a,c)},listen(L){if(g)throw new Error("A history only accepts one active listener");return a.addEventListener(oE,_),g=L,()=>{a.removeEventListener(oE,_),g=null}},createHref(L){return t(a,L)},createURL:D,encodeLocation(L){let H=D(L);return{pathname:H.pathname,search:H.search,hash:H.hash}},push:b,replace:C,go(L){return c.go(L)}};return k}function M2(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),he(n,"No window.location.(origin|href) available to create URL");let s=typeof e=="string"?e:Mu(e);return s=s.replace(/ $/,"%20"),!t&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function dS(e,t,n="/"){return V2(e,t,n,!1)}function V2(e,t,n,s){let a=typeof t=="string"?Qo(t):t,l=ws(a.pathname||"/",n);if(l==null)return null;let c=mS(e);O2(c);let d=null;for(let g=0;d==null&&g<c.length;++g){let p=G2(l);d=H2(c[g],p,s)}return d}function mS(e,t=[],n=[],s="",a=!1){let l=(c,d,g=a,p)=>{let y={relativePath:p===void 0?c.path||"":p,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};if(y.relativePath.startsWith("/")){if(!y.relativePath.startsWith(s)&&g)return;he(y.relativePath.startsWith(s),`Absolute route path "${y.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(s.length)}let _=bs([s,y.relativePath]),b=n.concat(y);c.children&&c.children.length>0&&(he(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${_}".`),mS(c.children,t,b,_,g)),!(c.path==null&&!c.index)&&t.push({path:_,score:B2(_,c.index),routesMeta:b})};return e.forEach((c,d)=>{if(c.path===""||!c.path?.includes("?"))l(c,d);else for(let g of pS(c.path))l(c,d,!0,g)}),t}function pS(e){let t=e.split("/");if(t.length===0)return[];let[n,...s]=t,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(s.length===0)return a?[l,""]:[l];let c=pS(s.join("/")),d=[];return d.push(...c.map(g=>g===""?l:[l,g].join("/"))),a&&d.push(...c),d.map(g=>e.startsWith("/")&&g===""?"/":g)}function O2(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:F2(t.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var P2=/^:[\w-]+$/,k2=3,L2=2,j2=1,U2=10,z2=-2,uE=e=>e==="*";function B2(e,t){let n=e.split("/"),s=n.length;return n.some(uE)&&(s+=z2),t&&(s+=L2),n.filter(a=>!uE(a)).reduce((a,l)=>a+(P2.test(l)?k2:l===""?j2:U2),s)}function F2(e,t){return e.length===t.length&&e.slice(0,-1).every((s,a)=>s===t[a])?e[e.length-1]-t[t.length-1]:0}function H2(e,t,n=!1){let{routesMeta:s}=e,a={},l="/",c=[];for(let d=0;d<s.length;++d){let g=s[d],p=d===s.length-1,y=l==="/"?t:t.slice(l.length)||"/",_=vf({path:g.relativePath,caseSensitive:g.caseSensitive,end:p},y),b=g.route;if(!_&&p&&n&&!s[s.length-1].route.index&&(_=vf({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},y)),!_)return null;Object.assign(a,_.params),c.push({params:a,pathname:bs([l,_.pathname]),pathnameBase:Q2(bs([l,_.pathnameBase])),route:b}),_.pathnameBase!=="/"&&(l=bs([l,_.pathnameBase]))}return c}function vf(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,s]=q2(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:s.reduce((p,{paramName:y,isOptional:_},b)=>{if(y==="*"){let D=d[b]||"";c=l.slice(0,l.length-D.length).replace(/(.)\/+$/,"$1")}const C=d[b];return _&&!C?p[y]=void 0:p[y]=(C||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:c,pattern:e}}function q2(e,t=!1,n=!0){_i(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let s=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,g)=>(s.push({paramName:d,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(s.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),s]}function G2(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return _i(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function ws(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=e.charAt(n);return s&&s!=="/"?null:e.slice(n)||"/"}var K2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function Y2(e,t="/"){let{pathname:n,search:s="",hash:a=""}=typeof e=="string"?Qo(e):e,l;return n?(n=n.replace(/\/\/+/g,"/"),n.startsWith("/")?l=cE(n.substring(1),"/"):l=cE(n,t)):l=t,{pathname:l,search:X2(s),hash:W2(a)}}function cE(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function Ap(e,t,n,s){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function $2(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function sy(e){let t=$2(e);return t.map((n,s)=>s===t.length-1?n.pathname:n.pathnameBase)}function ry(e,t,n,s=!1){let a;typeof e=="string"?a=Qo(e):(a={...e},he(!a.pathname||!a.pathname.includes("?"),Ap("?","pathname","search",a)),he(!a.pathname||!a.pathname.includes("#"),Ap("#","pathname","hash",a)),he(!a.search||!a.search.includes("#"),Ap("#","search","hash",a)));let l=e===""||a.pathname==="",c=l?"/":a.pathname,d;if(c==null)d=n;else{let _=t.length-1;if(!s&&c.startsWith("..")){let b=c.split("/");for(;b[0]==="..";)b.shift(),_-=1;a.pathname=b.join("/")}d=_>=0?t[_]:"/"}let g=Y2(a,d),p=c&&c!=="/"&&c.endsWith("/"),y=(l||c===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(p||y)&&(g.pathname+="/"),g}var bs=e=>e.join("/").replace(/\/\/+/g,"/"),Q2=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),X2=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,W2=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,J2=class{constructor(e,t,n,s=!1){this.status=e,this.statusText=t||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function Z2(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function tI(e){return e.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var gS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function yS(e,t){let n=e;if(typeof n!="string"||!K2.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let s=n,a=!1;if(gS)try{let l=new URL(window.location.href),c=n.startsWith("//")?new URL(l.protocol+n):new URL(n),d=ws(c.pathname,t);c.origin===l.origin&&d!=null?n=d+c.search+c.hash:a=!0}catch{_i(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:a,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var vS=["POST","PUT","PATCH","DELETE"];new Set(vS);var eI=["GET",...vS];new Set(eI);var Xo=O.createContext(null);Xo.displayName="DataRouter";var $f=O.createContext(null);$f.displayName="DataRouterState";var nI=O.createContext(!1),_S=O.createContext({isTransitioning:!1});_S.displayName="ViewTransition";var iI=O.createContext(new Map);iI.displayName="Fetchers";var sI=O.createContext(null);sI.displayName="Await";var On=O.createContext(null);On.displayName="Navigation";var $u=O.createContext(null);$u.displayName="Location";var Jn=O.createContext({outlet:null,matches:[],isDataRoute:!1});Jn.displayName="Route";var ay=O.createContext(null);ay.displayName="RouteError";var TS="REACT_ROUTER_ERROR",rI="REDIRECT",aI="ROUTE_ERROR_RESPONSE";function oI(e){if(e.startsWith(`${TS}:${rI}:{`))try{let t=JSON.parse(e.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function lI(e){if(e.startsWith(`${TS}:${aI}:{`))try{let t=JSON.parse(e.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new J2(t.status,t.statusText,t.data)}catch{}}function uI(e,{relative:t}={}){he(Wo(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=O.useContext(On),{hash:a,pathname:l,search:c}=Qu(e,{relative:t}),d=l;return n!=="/"&&(d=l==="/"?n:bs([n,l])),s.createHref({pathname:d,search:c,hash:a})}function Wo(){return O.useContext($u)!=null}function Ds(){return he(Wo(),"useLocation() may be used only in the context of a <Router> component."),O.useContext($u).location}var ES="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function bS(e){O.useContext(On).static||O.useLayoutEffect(e)}function Qf(){let{isDataRoute:e}=O.useContext(Jn);return e?AI():cI()}function cI(){he(Wo(),"useNavigate() may be used only in the context of a <Router> component.");let e=O.useContext(Xo),{basename:t,navigator:n}=O.useContext(On),{matches:s}=O.useContext(Jn),{pathname:a}=Ds(),l=JSON.stringify(sy(s)),c=O.useRef(!1);return bS(()=>{c.current=!0}),O.useCallback((g,p={})=>{if(_i(c.current,ES),!c.current)return;if(typeof g=="number"){n.go(g);return}let y=ry(g,JSON.parse(l),a,p.relative==="path");e==null&&t!=="/"&&(y.pathname=y.pathname==="/"?t:bs([t,y.pathname])),(p.replace?n.replace:n.push)(y,p.state,p)},[t,n,l,a,e])}var hI=O.createContext(null);function fI(e){let t=O.useContext(Jn).outlet;return O.useMemo(()=>t&&O.createElement(hI.Provider,{value:e},t),[t,e])}function dI(){let{matches:e}=O.useContext(Jn),t=e[e.length-1];return t?t.params:{}}function Qu(e,{relative:t}={}){let{matches:n}=O.useContext(Jn),{pathname:s}=Ds(),a=JSON.stringify(sy(n));return O.useMemo(()=>ry(e,JSON.parse(a),s,t==="path"),[e,a,s,t])}function mI(e,t){return SS(e,t)}function SS(e,t,n,s,a){he(Wo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=O.useContext(On),{matches:c}=O.useContext(Jn),d=c[c.length-1],g=d?d.params:{},p=d?d.pathname:"/",y=d?d.pathnameBase:"/",_=d&&d.route;{let G=_&&_.path||"";AS(p,!_||G.endsWith("*")||G.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${G}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${G}"> to <Route path="${G==="/"?"*":`${G}/*`}">.`)}let b=Ds(),C;if(t){let G=typeof t=="string"?Qo(t):t;he(y==="/"||G.pathname?.startsWith(y),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${G.pathname}" was given in the \`location\` prop.`),C=G}else C=b;let D=C.pathname||"/",k=D;if(y!=="/"){let G=y.replace(/^\//,"").split("/");k="/"+D.replace(/^\//,"").split("/").slice(G.length).join("/")}let L=dS(e,{pathname:k});_i(_||L!=null,`No routes matched location "${C.pathname}${C.search}${C.hash}" `),_i(L==null||L[L.length-1].route.element!==void 0||L[L.length-1].route.Component!==void 0||L[L.length-1].route.lazy!==void 0,`Matched leaf route at location "${C.pathname}${C.search}${C.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let H=_I(L&&L.map(G=>Object.assign({},G,{params:Object.assign({},g,G.params),pathname:bs([y,l.encodeLocation?l.encodeLocation(G.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:G.pathname]),pathnameBase:G.pathnameBase==="/"?y:bs([y,l.encodeLocation?l.encodeLocation(G.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:G.pathnameBase])})),c,n,s,a);return t&&H?O.createElement($u.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...C},navigationType:"POP"}},H):H}function pI(){let e=wI(),t=Z2(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},c=null;return console.error("Error handled by React Router default ErrorBoundary:",e),c=O.createElement(O.Fragment,null,O.createElement("p",null," Hey developer "),O.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",O.createElement("code",{style:l},"ErrorBoundary")," or"," ",O.createElement("code",{style:l},"errorElement")," prop on your route.")),O.createElement(O.Fragment,null,O.createElement("h2",null,"Unexpected Application Error!"),O.createElement("h3",{style:{fontStyle:"italic"}},t),n?O.createElement("pre",{style:a},n):null,c)}var gI=O.createElement(pI,null),wS=class extends O.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){let e=this.state.error;if(this.context&&typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){const n=lI(e.digest);n&&(e=n)}let t=e!==void 0?O.createElement(Jn.Provider,{value:this.props.routeContext},O.createElement(ay.Provider,{value:e,children:this.props.component})):this.props.children;return this.context?O.createElement(yI,{error:e},t):t}};wS.contextType=nI;var xp=new WeakMap;function yI({children:e,error:t}){let{basename:n}=O.useContext(On);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let s=oI(t.digest);if(s){let a=xp.get(t);if(a)throw a;let l=yS(s.location,n);if(gS&&!xp.get(t))if(l.isExternal||s.reloadDocument)window.location.href=l.absoluteURL||l.to;else{const c=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(l.to,{replace:s.replace}));throw xp.set(t,c),c}return O.createElement("meta",{httpEquiv:"refresh",content:`0;url=${l.absoluteURL||l.to}`})}}return e}function vI({routeContext:e,match:t,children:n}){let s=O.useContext(Xo);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),O.createElement(Jn.Provider,{value:e},n)}function _I(e,t=[],n=null,s=null,a=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let l=e,c=n?.errors;if(c!=null){let y=l.findIndex(_=>_.route.id&&c?.[_.route.id]!==void 0);he(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,y+1))}let d=!1,g=-1;if(n)for(let y=0;y<l.length;y++){let _=l[y];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(g=y),_.route.id){let{loaderData:b,errors:C}=n,D=_.route.loader&&!b.hasOwnProperty(_.route.id)&&(!C||C[_.route.id]===void 0);if(_.route.lazy||D){d=!0,g>=0?l=l.slice(0,g+1):l=[l[0]];break}}}let p=n&&s?(y,_)=>{s(y,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:tI(n.matches),errorInfo:_})}:void 0;return l.reduceRight((y,_,b)=>{let C,D=!1,k=null,L=null;n&&(C=c&&_.route.id?c[_.route.id]:void 0,k=_.route.errorElement||gI,d&&(g<0&&b===0?(AS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),D=!0,L=null):g===b&&(D=!0,L=_.route.hydrateFallbackElement||null)));let H=t.concat(l.slice(0,b+1)),G=()=>{let z;return C?z=k:D?z=L:_.route.Component?z=O.createElement(_.route.Component,null):_.route.element?z=_.route.element:z=y,O.createElement(vI,{match:_,routeContext:{outlet:y,matches:H,isDataRoute:n!=null},children:z})};return n&&(_.route.ErrorBoundary||_.route.errorElement||b===0)?O.createElement(wS,{location:n.location,revalidation:n.revalidation,component:k,error:C,children:G(),routeContext:{outlet:null,matches:H,isDataRoute:!0},onError:p}):G()},null)}function oy(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function TI(e){let t=O.useContext(Xo);return he(t,oy(e)),t}function EI(e){let t=O.useContext($f);return he(t,oy(e)),t}function bI(e){let t=O.useContext(Jn);return he(t,oy(e)),t}function ly(e){let t=bI(e),n=t.matches[t.matches.length-1];return he(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function SI(){return ly("useRouteId")}function wI(){let e=O.useContext(ay),t=EI("useRouteError"),n=ly("useRouteError");return e!==void 0?e:t.errors?.[n]}function AI(){let{router:e}=TI("useNavigate"),t=ly("useNavigate"),n=O.useRef(!1);return bS(()=>{n.current=!0}),O.useCallback(async(a,l={})=>{_i(n.current,ES),n.current&&(typeof a=="number"?await e.navigate(a):await e.navigate(a,{fromRouteId:t,...l}))},[e,t])}var hE={};function AS(e,t,n){!t&&!hE[e]&&(hE[e]=!0,_i(!1,n))}O.memo(xI);function xI({routes:e,future:t,state:n,onError:s}){return SS(e,void 0,n,s,t)}function CI({to:e,replace:t,state:n,relative:s}){he(Wo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=O.useContext(On);_i(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=O.useContext(Jn),{pathname:c}=Ds(),d=Qf(),g=ry(e,sy(l),c,s==="path"),p=JSON.stringify(g);return O.useEffect(()=>{d(JSON.parse(p),{replace:t,state:n,relative:s})},[d,p,s,t,n]),null}function dr(e){he(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function RI({basename:e="/",children:t=null,location:n,navigationType:s="POP",navigator:a,static:l=!1,unstable_useTransitions:c}){he(!Wo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=e.replace(/^\/*/,"/"),g=O.useMemo(()=>({basename:d,navigator:a,static:l,unstable_useTransitions:c,future:{}}),[d,a,l,c]);typeof n=="string"&&(n=Qo(n));let{pathname:p="/",search:y="",hash:_="",state:b=null,key:C="default"}=n,D=O.useMemo(()=>{let k=ws(p,d);return k==null?null:{location:{pathname:k,search:y,hash:_,state:b,key:C},navigationType:s}},[d,p,y,_,b,C,s]);return _i(D!=null,`<Router basename="${d}"> is not able to match the URL "${p}${y}${_}" because it does not start with the basename, so the <Router> won't render anything.`),D==null?null:O.createElement(On.Provider,{value:g},O.createElement($u.Provider,{children:t,value:D}))}function II({children:e,location:t}){return mI(og(e),t)}function og(e,t=[]){let n=[];return O.Children.forEach(e,(s,a)=>{if(!O.isValidElement(s))return;let l=[...t,a];if(s.type===O.Fragment){n.push.apply(n,og(s.props.children,l));return}he(s.type===dr,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),he(!s.props.index||!s.props.children,"An index route cannot have child routes.");let c={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(c.children=og(s.props.children,l)),n.push(c)}),n}var Jh="get",Zh="application/x-www-form-urlencoded";function Xf(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function DI(e){return Xf(e)&&e.tagName.toLowerCase()==="button"}function NI(e){return Xf(e)&&e.tagName.toLowerCase()==="form"}function MI(e){return Xf(e)&&e.tagName.toLowerCase()==="input"}function VI(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function OI(e,t){return e.button===0&&(!t||t==="_self")&&!VI(e)}var zh=null;function PI(){if(zh===null)try{new FormData(document.createElement("form"),0),zh=!1}catch{zh=!0}return zh}var kI=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Cp(e){return e!=null&&!kI.has(e)?(_i(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Zh}"`),null):e}function LI(e,t){let n,s,a,l,c;if(NI(e)){let d=e.getAttribute("action");s=d?ws(d,t):null,n=e.getAttribute("method")||Jh,a=Cp(e.getAttribute("enctype"))||Zh,l=new FormData(e)}else if(DI(e)||MI(e)&&(e.type==="submit"||e.type==="image")){let d=e.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=e.getAttribute("formaction")||d.getAttribute("action");if(s=g?ws(g,t):null,n=e.getAttribute("formmethod")||d.getAttribute("method")||Jh,a=Cp(e.getAttribute("formenctype"))||Cp(d.getAttribute("enctype"))||Zh,l=new FormData(d,e),!PI()){let{name:p,type:y,value:_}=e;if(y==="image"){let b=p?`${p}.`:"";l.append(`${b}x`,"0"),l.append(`${b}y`,"0")}else p&&l.append(p,_)}}else{if(Xf(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Jh,s=null,a=Zh,c=e}return l&&a==="text/plain"&&(c=l,l=void 0),{action:s,method:n.toLowerCase(),encType:a,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function uy(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function jI(e,t,n,s){let a=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n?a.pathname.endsWith("/")?a.pathname=`${a.pathname}_.${s}`:a.pathname=`${a.pathname}.${s}`:a.pathname==="/"?a.pathname=`_root.${s}`:t&&ws(a.pathname,t)==="/"?a.pathname=`${t.replace(/\/$/,"")}/_root.${s}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${s}`,a}async function UI(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function zI(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function BI(e,t,n){let s=await Promise.all(e.map(async a=>{let l=t.routes[a.route.id];if(l){let c=await UI(l,n);return c.links?c.links():[]}return[]}));return GI(s.flat(1).filter(zI).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function fE(e,t,n,s,a,l){let c=(g,p)=>n[p]?g.route.id!==n[p].route.id:!0,d=(g,p)=>n[p].pathname!==g.pathname||n[p].route.path?.endsWith("*")&&n[p].params["*"]!==g.params["*"];return l==="assets"?t.filter((g,p)=>c(g,p)||d(g,p)):l==="data"?t.filter((g,p)=>{let y=s.routes[g.route.id];if(!y||!y.hasLoader)return!1;if(c(g,p)||d(g,p))return!0;if(g.route.shouldRevalidate){let _=g.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function FI(e,t,{includeHydrateFallback:n}={}){return HI(e.map(s=>{let a=t.routes[s.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function HI(e){return[...new Set(e)]}function qI(e){let t={},n=Object.keys(e).sort();for(let s of n)t[s]=e[s];return t}function GI(e,t){let n=new Set;return new Set(t),e.reduce((s,a)=>{let l=JSON.stringify(qI(a));return n.has(l)||(n.add(l),s.push({key:l,link:a})),s},[])}function xS(){let e=O.useContext(Xo);return uy(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function KI(){let e=O.useContext($f);return uy(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var cy=O.createContext(void 0);cy.displayName="FrameworkContext";function CS(){let e=O.useContext(cy);return uy(e,"You must render this element inside a <HydratedRouter> element"),e}function YI(e,t){let n=O.useContext(cy),[s,a]=O.useState(!1),[l,c]=O.useState(!1),{onFocus:d,onBlur:g,onMouseEnter:p,onMouseLeave:y,onTouchStart:_}=t,b=O.useRef(null);O.useEffect(()=>{if(e==="render"&&c(!0),e==="viewport"){let k=H=>{H.forEach(G=>{c(G.isIntersecting)})},L=new IntersectionObserver(k,{threshold:.5});return b.current&&L.observe(b.current),()=>{L.disconnect()}}},[e]),O.useEffect(()=>{if(s){let k=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(k)}}},[s]);let C=()=>{a(!0)},D=()=>{a(!1),c(!1)};return n?e!=="intent"?[l,b,{}]:[l,b,{onFocus:mu(d,C),onBlur:mu(g,D),onMouseEnter:mu(p,C),onMouseLeave:mu(y,D),onTouchStart:mu(_,C)}]:[!1,b,{}]}function mu(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function $I({page:e,...t}){let{router:n}=xS(),s=O.useMemo(()=>dS(n.routes,e,n.basename),[n.routes,e,n.basename]);return s?O.createElement(XI,{page:e,matches:s,...t}):null}function QI(e){let{manifest:t,routeModules:n}=CS(),[s,a]=O.useState([]);return O.useEffect(()=>{let l=!1;return BI(e,t,n).then(c=>{l||a(c)}),()=>{l=!0}},[e,t,n]),s}function XI({page:e,matches:t,...n}){let s=Ds(),{future:a,manifest:l,routeModules:c}=CS(),{basename:d}=xS(),{loaderData:g,matches:p}=KI(),y=O.useMemo(()=>fE(e,t,p,l,s,"data"),[e,t,p,l,s]),_=O.useMemo(()=>fE(e,t,p,l,s,"assets"),[e,t,p,l,s]),b=O.useMemo(()=>{if(e===s.pathname+s.search+s.hash)return[];let k=new Set,L=!1;if(t.forEach(G=>{let z=l.routes[G.route.id];!z||!z.hasLoader||(!y.some(W=>W.route.id===G.route.id)&&G.route.id in g&&c[G.route.id]?.shouldRevalidate||z.hasClientLoader?L=!0:k.add(G.route.id))}),k.size===0)return[];let H=jI(e,d,a.unstable_trailingSlashAwareDataRequests,"data");return L&&k.size>0&&H.searchParams.set("_routes",t.filter(G=>k.has(G.route.id)).map(G=>G.route.id).join(",")),[H.pathname+H.search]},[d,a.unstable_trailingSlashAwareDataRequests,g,s,l,y,t,e,c]),C=O.useMemo(()=>FI(_,l),[_,l]),D=QI(_);return O.createElement(O.Fragment,null,b.map(k=>O.createElement("link",{key:k,rel:"prefetch",as:"fetch",href:k,...n})),C.map(k=>O.createElement("link",{key:k,rel:"modulepreload",href:k,...n})),D.map(({key:k,link:L})=>O.createElement("link",{key:k,nonce:n.nonce,...L,crossOrigin:L.crossOrigin??n.crossOrigin})))}function WI(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var JI=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{JI&&(window.__reactRouterVersion="7.13.0")}catch{}function ZI({basename:e,children:t,unstable_useTransitions:n,window:s}){let a=O.useRef();a.current==null&&(a.current=I2({window:s,v5Compat:!0}));let l=a.current,[c,d]=O.useState({action:l.action,location:l.location}),g=O.useCallback(p=>{n===!1?d(p):O.startTransition(()=>d(p))},[n]);return O.useLayoutEffect(()=>l.listen(g),[l,g]),O.createElement(RI,{basename:e,children:t,location:c.location,navigationType:c.action,navigator:l,unstable_useTransitions:n})}var RS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,bn=O.forwardRef(function({onClick:t,discover:n="render",prefetch:s="none",relative:a,reloadDocument:l,replace:c,state:d,target:g,to:p,preventScrollReset:y,viewTransition:_,unstable_defaultShouldRevalidate:b,...C},D){let{basename:k,unstable_useTransitions:L}=O.useContext(On),H=typeof p=="string"&&RS.test(p),G=yS(p,k);p=G.to;let z=uI(p,{relative:a}),[W,tt,rt]=YI(s,C),R=iD(p,{replace:c,state:d,target:g,preventScrollReset:y,relative:a,viewTransition:_,unstable_defaultShouldRevalidate:b,unstable_useTransitions:L});function A(P){t&&t(P),P.defaultPrevented||R(P)}let I=O.createElement("a",{...C,...rt,href:G.absoluteURL||z,onClick:G.isExternal||l?t:A,ref:WI(D,tt),target:g,"data-discover":!H&&n==="render"?"true":void 0});return W&&!H?O.createElement(O.Fragment,null,I,O.createElement($I,{page:z})):I});bn.displayName="Link";var tD=O.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:s="",end:a=!1,style:l,to:c,viewTransition:d,children:g,...p},y){let _=Qu(c,{relative:p.relative}),b=Ds(),C=O.useContext($f),{navigator:D,basename:k}=O.useContext(On),L=C!=null&&lD(_)&&d===!0,H=D.encodeLocation?D.encodeLocation(_).pathname:_.pathname,G=b.pathname,z=C&&C.navigation&&C.navigation.location?C.navigation.location.pathname:null;n||(G=G.toLowerCase(),z=z?z.toLowerCase():null,H=H.toLowerCase()),z&&k&&(z=ws(z,k)||z);const W=H!=="/"&&H.endsWith("/")?H.length-1:H.length;let tt=G===H||!a&&G.startsWith(H)&&G.charAt(W)==="/",rt=z!=null&&(z===H||!a&&z.startsWith(H)&&z.charAt(H.length)==="/"),R={isActive:tt,isPending:rt,isTransitioning:L},A=tt?t:void 0,I;typeof s=="function"?I=s(R):I=[s,tt?"active":null,rt?"pending":null,L?"transitioning":null].filter(Boolean).join(" ");let P=typeof l=="function"?l(R):l;return O.createElement(bn,{...p,"aria-current":A,className:I,ref:y,style:P,to:c,viewTransition:d},typeof g=="function"?g(R):g)});tD.displayName="NavLink";var eD=O.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:s,replace:a,state:l,method:c=Jh,action:d,onSubmit:g,relative:p,preventScrollReset:y,viewTransition:_,unstable_defaultShouldRevalidate:b,...C},D)=>{let{unstable_useTransitions:k}=O.useContext(On),L=aD(),H=oD(d,{relative:p}),G=c.toLowerCase()==="get"?"get":"post",z=typeof d=="string"&&RS.test(d),W=tt=>{if(g&&g(tt),tt.defaultPrevented)return;tt.preventDefault();let rt=tt.nativeEvent.submitter,R=rt?.getAttribute("formmethod")||c,A=()=>L(rt||tt.currentTarget,{fetcherKey:t,method:R,navigate:n,replace:a,state:l,relative:p,preventScrollReset:y,viewTransition:_,unstable_defaultShouldRevalidate:b});k&&n!==!1?O.startTransition(()=>A()):A()};return O.createElement("form",{ref:D,method:G,action:H,onSubmit:s?g:W,...C,"data-discover":!z&&e==="render"?"true":void 0})});eD.displayName="Form";function nD(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function IS(e){let t=O.useContext(Xo);return he(t,nD(e)),t}function iD(e,{target:t,replace:n,state:s,preventScrollReset:a,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:d,unstable_useTransitions:g}={}){let p=Qf(),y=Ds(),_=Qu(e,{relative:l});return O.useCallback(b=>{if(OI(b,t)){b.preventDefault();let C=n!==void 0?n:Mu(y)===Mu(_),D=()=>p(e,{replace:C,state:s,preventScrollReset:a,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:d});g?O.startTransition(()=>D()):D()}},[y,p,_,n,s,t,e,a,l,c,d,g])}var sD=0,rD=()=>`__${String(++sD)}__`;function aD(){let{router:e}=IS("useSubmit"),{basename:t}=O.useContext(On),n=SI(),s=e.fetch,a=e.navigate;return O.useCallback(async(l,c={})=>{let{action:d,method:g,encType:p,formData:y,body:_}=LI(l,t);if(c.navigate===!1){let b=c.fetcherKey||rD();await s(b,n,c.action||d,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:y,body:_,formMethod:c.method||g,formEncType:c.encType||p,flushSync:c.flushSync})}else await a(c.action||d,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:y,body:_,formMethod:c.method||g,formEncType:c.encType||p,replace:c.replace,state:c.state,fromRouteId:n,flushSync:c.flushSync,viewTransition:c.viewTransition})},[s,a,t,n])}function oD(e,{relative:t}={}){let{basename:n}=O.useContext(On),s=O.useContext(Jn);he(s,"useFormAction must be used inside a RouteContext");let[a]=s.matches.slice(-1),l={...Qu(e||".",{relative:t})},c=Ds();if(e==null){l.search=c.search;let d=new URLSearchParams(l.search),g=d.getAll("index");if(g.some(y=>y==="")){d.delete("index"),g.filter(_=>_).forEach(_=>d.append("index",_));let y=d.toString();l.search=y?`?${y}`:""}}return(!e||e===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:bs([n,l.pathname])),Mu(l)}function lD(e,{relative:t}={}){let n=O.useContext(_S);he(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=IS("useViewTransitionState"),a=Qu(e,{relative:t});if(!n.isTransitioning)return!1;let l=ws(n.currentLocation.pathname,s)||n.currentLocation.pathname,c=ws(n.nextLocation.pathname,s)||n.nextLocation.pathname;return vf(a.pathname,c)!=null||vf(a.pathname,l)!=null}const hy=O.createContext({});function fy(e){const t=O.useRef(null);return t.current===null&&(t.current=e()),t.current}const DS=typeof window<"u",NS=DS?O.useLayoutEffect:O.useEffect,Wf=O.createContext(null);function dy(e,t){e.indexOf(t)===-1&&e.push(t)}function _f(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const Xi=(e,t,n)=>n>t?t:n<e?e:n;let my=()=>{};const As={},MS=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function VS(e){return typeof e=="object"&&e!==null}const OS=e=>/^0[^.\s]+$/u.test(e);function py(e){let t;return()=>(t===void 0&&(t=e()),t)}const Wn=e=>e,uD=(e,t)=>n=>t(e(n)),Xu=(...e)=>e.reduce(uD),Vu=(e,t,n)=>{const s=t-e;return s===0?1:(n-e)/s};class gy{constructor(){this.subscriptions=[]}add(t){return dy(this.subscriptions,t),()=>_f(this.subscriptions,t)}notify(t,n,s){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,n,s);else for(let l=0;l<a;l++){const c=this.subscriptions[l];c&&c(t,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const gi=e=>e*1e3,Xn=e=>e/1e3;function PS(e,t){return t?e*(1e3/t):0}const kS=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,cD=1e-7,hD=12;function fD(e,t,n,s,a){let l,c,d=0;do c=t+(n-t)/2,l=kS(c,s,a)-e,l>0?n=c:t=c;while(Math.abs(l)>cD&&++d<hD);return c}function Wu(e,t,n,s){if(e===t&&n===s)return Wn;const a=l=>fD(l,0,1,e,n);return l=>l===0||l===1?l:kS(a(l),t,s)}const LS=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,jS=e=>t=>1-e(1-t),US=Wu(.33,1.53,.69,.99),yy=jS(US),zS=LS(yy),BS=e=>(e*=2)<1?.5*yy(e):.5*(2-Math.pow(2,-10*(e-1))),vy=e=>1-Math.sin(Math.acos(e)),FS=jS(vy),HS=LS(vy),dD=Wu(.42,0,1,1),mD=Wu(0,0,.58,1),qS=Wu(.42,0,.58,1),pD=e=>Array.isArray(e)&&typeof e[0]!="number",GS=e=>Array.isArray(e)&&typeof e[0]=="number",gD={linear:Wn,easeIn:dD,easeInOut:qS,easeOut:mD,circIn:vy,circInOut:HS,circOut:FS,backIn:yy,backInOut:zS,backOut:US,anticipate:BS},yD=e=>typeof e=="string",dE=e=>{if(GS(e)){my(e.length===4);const[t,n,s,a]=e;return Wu(t,n,s,a)}else if(yD(e))return gD[e];return e},Bh=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function vD(e,t){let n=new Set,s=new Set,a=!1,l=!1;const c=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1};function g(y){c.has(y)&&(p.schedule(y),e()),y(d)}const p={schedule:(y,_=!1,b=!1)=>{const D=b&&a?n:s;return _&&c.add(y),D.has(y)||D.add(y),y},cancel:y=>{s.delete(y),c.delete(y)},process:y=>{if(d=y,a){l=!0;return}a=!0,[n,s]=[s,n],n.forEach(g),n.clear(),a=!1,l&&(l=!1,p.process(y))}};return p}const _D=40;function KS(e,t){let n=!1,s=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,c=Bh.reduce((z,W)=>(z[W]=vD(l),z),{}),{setup:d,read:g,resolveKeyframes:p,preUpdate:y,update:_,preRender:b,render:C,postRender:D}=c,k=()=>{const z=As.useManualTiming?a.timestamp:performance.now();n=!1,As.useManualTiming||(a.delta=s?1e3/60:Math.max(Math.min(z-a.timestamp,_D),1)),a.timestamp=z,a.isProcessing=!0,d.process(a),g.process(a),p.process(a),y.process(a),_.process(a),b.process(a),C.process(a),D.process(a),a.isProcessing=!1,n&&t&&(s=!1,e(k))},L=()=>{n=!0,s=!0,a.isProcessing||e(k)};return{schedule:Bh.reduce((z,W)=>{const tt=c[W];return z[W]=(rt,R=!1,A=!1)=>(n||L(),tt.schedule(rt,R,A)),z},{}),cancel:z=>{for(let W=0;W<Bh.length;W++)c[Bh[W]].cancel(z)},state:a,steps:c}}const{schedule:ie,cancel:wr,state:Ze,steps:Rp}=KS(typeof requestAnimationFrame<"u"?requestAnimationFrame:Wn,!0);let tf;function TD(){tf=void 0}const dn={now:()=>(tf===void 0&&dn.set(Ze.isProcessing||As.useManualTiming?Ze.timestamp:performance.now()),tf),set:e=>{tf=e,queueMicrotask(TD)}},YS=e=>t=>typeof t=="string"&&t.startsWith(e),$S=YS("--"),ED=YS("var(--"),_y=e=>ED(e)?bD.test(e.split("/*")[0].trim()):!1,bD=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function mE(e){return typeof e!="string"?!1:e.split("/*")[0].includes("var(--")}const Jo={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Ou={...Jo,transform:e=>Xi(0,1,e)},Fh={...Jo,default:1},bu=e=>Math.round(e*1e5)/1e5,Ty=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function SD(e){return e==null}const wD=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Ey=(e,t)=>n=>!!(typeof n=="string"&&wD.test(n)&&n.startsWith(e)||t&&!SD(n)&&Object.prototype.hasOwnProperty.call(n,t)),QS=(e,t,n)=>s=>{if(typeof s!="string")return s;const[a,l,c,d]=s.match(Ty);return{[e]:parseFloat(a),[t]:parseFloat(l),[n]:parseFloat(c),alpha:d!==void 0?parseFloat(d):1}},AD=e=>Xi(0,255,e),Ip={...Jo,transform:e=>Math.round(AD(e))},da={test:Ey("rgb","red"),parse:QS("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:s=1})=>"rgba("+Ip.transform(e)+", "+Ip.transform(t)+", "+Ip.transform(n)+", "+bu(Ou.transform(s))+")"};function xD(e){let t="",n="",s="",a="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),s=e.substring(5,7),a=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),s=e.substring(3,4),a=e.substring(4,5),t+=t,n+=n,s+=s,a+=a),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:a?parseInt(a,16)/255:1}}const lg={test:Ey("#"),parse:xD,transform:da.transform},Ju=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),mr=Ju("deg"),qi=Ju("%"),mt=Ju("px"),CD=Ju("vh"),RD=Ju("vw"),pE={...qi,parse:e=>qi.parse(e)/100,transform:e=>qi.transform(e*100)},Co={test:Ey("hsl","hue"),parse:QS("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:s=1})=>"hsla("+Math.round(e)+", "+qi.transform(bu(t))+", "+qi.transform(bu(n))+", "+bu(Ou.transform(s))+")"},Oe={test:e=>da.test(e)||lg.test(e)||Co.test(e),parse:e=>da.test(e)?da.parse(e):Co.test(e)?Co.parse(e):lg.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?da.transform(e):Co.transform(e),getAnimatableNone:e=>{const t=Oe.parse(e);return t.alpha=0,Oe.transform(t)}},ID=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function DD(e){return isNaN(e)&&typeof e=="string"&&(e.match(Ty)?.length||0)+(e.match(ID)?.length||0)>0}const XS="number",WS="color",ND="var",MD="var(",gE="${}",VD=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Pu(e){const t=e.toString(),n=[],s={color:[],number:[],var:[]},a=[];let l=0;const d=t.replace(VD,g=>(Oe.test(g)?(s.color.push(l),a.push(WS),n.push(Oe.parse(g))):g.startsWith(MD)?(s.var.push(l),a.push(ND),n.push(g)):(s.number.push(l),a.push(XS),n.push(parseFloat(g))),++l,gE)).split(gE);return{values:n,split:d,indexes:s,types:a}}function JS(e){return Pu(e).values}function ZS(e){const{split:t,types:n}=Pu(e),s=t.length;return a=>{let l="";for(let c=0;c<s;c++)if(l+=t[c],a[c]!==void 0){const d=n[c];d===XS?l+=bu(a[c]):d===WS?l+=Oe.transform(a[c]):l+=a[c]}return l}}const OD=e=>typeof e=="number"?0:Oe.test(e)?Oe.getAnimatableNone(e):e;function PD(e){const t=JS(e);return ZS(e)(t.map(OD))}const Ar={test:DD,parse:JS,createTransformer:ZS,getAnimatableNone:PD};function Dp(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function kD({hue:e,saturation:t,lightness:n,alpha:s}){e/=360,t/=100,n/=100;let a=0,l=0,c=0;if(!t)a=l=c=n;else{const d=n<.5?n*(1+t):n+t-n*t,g=2*n-d;a=Dp(g,d,e+1/3),l=Dp(g,d,e),c=Dp(g,d,e-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:s}}function Tf(e,t){return n=>n>0?t:e}const de=(e,t,n)=>e+(t-e)*n,Np=(e,t,n)=>{const s=e*e,a=n*(t*t-s)+s;return a<0?0:Math.sqrt(a)},LD=[lg,da,Co],jD=e=>LD.find(t=>t.test(e));function yE(e){const t=jD(e);if(!t)return!1;let n=t.parse(e);return t===Co&&(n=kD(n)),n}const vE=(e,t)=>{const n=yE(e),s=yE(t);if(!n||!s)return Tf(e,t);const a={...n};return l=>(a.red=Np(n.red,s.red,l),a.green=Np(n.green,s.green,l),a.blue=Np(n.blue,s.blue,l),a.alpha=de(n.alpha,s.alpha,l),da.transform(a))},ug=new Set(["none","hidden"]);function UD(e,t){return ug.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function zD(e,t){return n=>de(e,t,n)}function by(e){return typeof e=="number"?zD:typeof e=="string"?_y(e)?Tf:Oe.test(e)?vE:HD:Array.isArray(e)?tw:typeof e=="object"?Oe.test(e)?vE:BD:Tf}function tw(e,t){const n=[...e],s=n.length,a=e.map((l,c)=>by(l)(l,t[c]));return l=>{for(let c=0;c<s;c++)n[c]=a[c](l);return n}}function BD(e,t){const n={...e,...t},s={};for(const a in n)e[a]!==void 0&&t[a]!==void 0&&(s[a]=by(e[a])(e[a],t[a]));return a=>{for(const l in s)n[l]=s[l](a);return n}}function FD(e,t){const n=[],s={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){const l=t.types[a],c=e.indexes[l][s[l]],d=e.values[c]??0;n[a]=d,s[l]++}return n}const HD=(e,t)=>{const n=Ar.createTransformer(t),s=Pu(e),a=Pu(t);return s.indexes.var.length===a.indexes.var.length&&s.indexes.color.length===a.indexes.color.length&&s.indexes.number.length>=a.indexes.number.length?ug.has(e)&&!a.values.length||ug.has(t)&&!s.values.length?UD(e,t):Xu(tw(FD(s,a),a.values),n):Tf(e,t)};function ew(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?de(e,t,n):by(e)(e,t)}const qD=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>ie.update(t,n),stop:()=>wr(t),now:()=>Ze.isProcessing?Ze.timestamp:dn.now()}},nw=(e,t,n=10)=>{let s="";const a=Math.max(Math.round(t/n),2);for(let l=0;l<a;l++)s+=Math.round(e(l/(a-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},Ef=2e4;function Sy(e){let t=0;const n=50;let s=e.next(t);for(;!s.done&&t<Ef;)t+=n,s=e.next(t);return t>=Ef?1/0:t}function GD(e,t=100,n){const s=n({...e,keyframes:[0,t]}),a=Math.min(Sy(s),Ef);return{type:"keyframes",ease:l=>s.next(a*l).value/t,duration:Xn(a)}}const KD=5;function iw(e,t,n){const s=Math.max(t-KD,0);return PS(n-e(s),t-s)}const ve={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Mp=.001;function YD({duration:e=ve.duration,bounce:t=ve.bounce,velocity:n=ve.velocity,mass:s=ve.mass}){let a,l,c=1-t;c=Xi(ve.minDamping,ve.maxDamping,c),e=Xi(ve.minDuration,ve.maxDuration,Xn(e)),c<1?(a=p=>{const y=p*c,_=y*e,b=y-n,C=cg(p,c),D=Math.exp(-_);return Mp-b/C*D},l=p=>{const _=p*c*e,b=_*n+n,C=Math.pow(c,2)*Math.pow(p,2)*e,D=Math.exp(-_),k=cg(Math.pow(p,2),c);return(-a(p)+Mp>0?-1:1)*((b-C)*D)/k}):(a=p=>{const y=Math.exp(-p*e),_=(p-n)*e+1;return-Mp+y*_},l=p=>{const y=Math.exp(-p*e),_=(n-p)*(e*e);return y*_});const d=5/e,g=QD(a,l,d);if(e=gi(e),isNaN(g))return{stiffness:ve.stiffness,damping:ve.damping,duration:e};{const p=Math.pow(g,2)*s;return{stiffness:p,damping:c*2*Math.sqrt(s*p),duration:e}}}const $D=12;function QD(e,t,n){let s=n;for(let a=1;a<$D;a++)s=s-e(s)/t(s);return s}function cg(e,t){return e*Math.sqrt(1-t*t)}const XD=["duration","bounce"],WD=["stiffness","damping","mass"];function _E(e,t){return t.some(n=>e[n]!==void 0)}function JD(e){let t={velocity:ve.velocity,stiffness:ve.stiffness,damping:ve.damping,mass:ve.mass,isResolvedFromDuration:!1,...e};if(!_E(e,WD)&&_E(e,XD))if(e.visualDuration){const n=e.visualDuration,s=2*Math.PI/(n*1.2),a=s*s,l=2*Xi(.05,1,1-(e.bounce||0))*Math.sqrt(a);t={...t,mass:ve.mass,stiffness:a,damping:l}}else{const n=YD(e);t={...t,...n,mass:ve.mass},t.isResolvedFromDuration=!0}return t}function bf(e=ve.visualDuration,t=ve.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:s,restDelta:a}=n;const l=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],d={done:!1,value:l},{stiffness:g,damping:p,mass:y,duration:_,velocity:b,isResolvedFromDuration:C}=JD({...n,velocity:-Xn(n.velocity||0)}),D=b||0,k=p/(2*Math.sqrt(g*y)),L=c-l,H=Xn(Math.sqrt(g/y)),G=Math.abs(L)<5;s||(s=G?ve.restSpeed.granular:ve.restSpeed.default),a||(a=G?ve.restDelta.granular:ve.restDelta.default);let z;if(k<1){const tt=cg(H,k);z=rt=>{const R=Math.exp(-k*H*rt);return c-R*((D+k*H*L)/tt*Math.sin(tt*rt)+L*Math.cos(tt*rt))}}else if(k===1)z=tt=>c-Math.exp(-H*tt)*(L+(D+H*L)*tt);else{const tt=H*Math.sqrt(k*k-1);z=rt=>{const R=Math.exp(-k*H*rt),A=Math.min(tt*rt,300);return c-R*((D+k*H*L)*Math.sinh(A)+tt*L*Math.cosh(A))/tt}}const W={calculatedDuration:C&&_||null,next:tt=>{const rt=z(tt);if(C)d.done=tt>=_;else{let R=tt===0?D:0;k<1&&(R=tt===0?gi(D):iw(z,tt,rt));const A=Math.abs(R)<=s,I=Math.abs(c-rt)<=a;d.done=A&&I}return d.value=d.done?c:rt,d},toString:()=>{const tt=Math.min(Sy(W),Ef),rt=nw(R=>W.next(tt*R).value,tt,30);return tt+"ms "+rt},toTransition:()=>{}};return W}bf.applyToOptions=e=>{const t=GD(e,100,bf);return e.ease=t.ease,e.duration=gi(t.duration),e.type="keyframes",e};function hg({keyframes:e,velocity:t=0,power:n=.8,timeConstant:s=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:c,min:d,max:g,restDelta:p=.5,restSpeed:y}){const _=e[0],b={done:!1,value:_},C=A=>d!==void 0&&A<d||g!==void 0&&A>g,D=A=>d===void 0?g:g===void 0||Math.abs(d-A)<Math.abs(g-A)?d:g;let k=n*t;const L=_+k,H=c===void 0?L:c(L);H!==L&&(k=H-_);const G=A=>-k*Math.exp(-A/s),z=A=>H+G(A),W=A=>{const I=G(A),P=z(A);b.done=Math.abs(I)<=p,b.value=b.done?H:P};let tt,rt;const R=A=>{C(b.value)&&(tt=A,rt=bf({keyframes:[b.value,D(b.value)],velocity:iw(z,A,b.value),damping:a,stiffness:l,restDelta:p,restSpeed:y}))};return R(0),{calculatedDuration:null,next:A=>{let I=!1;return!rt&&tt===void 0&&(I=!0,W(A),R(A)),tt!==void 0&&A>=tt?rt.next(A-tt):(!I&&W(A),b)}}}function ZD(e,t,n){const s=[],a=n||As.mix||ew,l=e.length-1;for(let c=0;c<l;c++){let d=a(e[c],e[c+1]);if(t){const g=Array.isArray(t)?t[c]||Wn:t;d=Xu(g,d)}s.push(d)}return s}function tN(e,t,{clamp:n=!0,ease:s,mixer:a}={}){const l=e.length;if(my(l===t.length),l===1)return()=>t[0];if(l===2&&t[0]===t[1])return()=>t[1];const c=e[0]===e[1];e[0]>e[l-1]&&(e=[...e].reverse(),t=[...t].reverse());const d=ZD(t,s,a),g=d.length,p=y=>{if(c&&y<e[0])return t[0];let _=0;if(g>1)for(;_<e.length-2&&!(y<e[_+1]);_++);const b=Vu(e[_],e[_+1],y);return d[_](b)};return n?y=>p(Xi(e[0],e[l-1],y)):p}function eN(e,t){const n=e[e.length-1];for(let s=1;s<=t;s++){const a=Vu(0,t,s);e.push(de(n,1,a))}}function nN(e){const t=[0];return eN(t,e.length-1),t}function iN(e,t){return e.map(n=>n*t)}function sN(e,t){return e.map(()=>t||qS).splice(0,e.length-1)}function Su({duration:e=300,keyframes:t,times:n,ease:s="easeInOut"}){const a=pD(s)?s.map(dE):dE(s),l={done:!1,value:t[0]},c=iN(n&&n.length===t.length?n:nN(t),e),d=tN(c,t,{ease:Array.isArray(a)?a:sN(t,a)});return{calculatedDuration:e,next:g=>(l.value=d(g),l.done=g>=e,l)}}const rN=e=>e!==null;function wy(e,{repeat:t,repeatType:n="loop"},s,a=1){const l=e.filter(rN),d=a<0||t&&n!=="loop"&&t%2===1?0:l.length-1;return!d||s===void 0?l[d]:s}const aN={decay:hg,inertia:hg,tween:Su,keyframes:Su,spring:bf};function sw(e){typeof e.type=="string"&&(e.type=aN[e.type])}class Ay{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const oN=e=>e/100;class xy extends Ay{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==dn.now()&&this.tick(dn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;sw(t);const{type:n=Su,repeat:s=0,repeatDelay:a=0,repeatType:l,velocity:c=0}=t;let{keyframes:d}=t;const g=n||Su;g!==Su&&typeof d[0]!="number"&&(this.mixKeyframes=Xu(oN,ew(d[0],d[1])),d=[0,100]);const p=g({...t,keyframes:d});l==="mirror"&&(this.mirroredGenerator=g({...t,keyframes:[...d].reverse(),velocity:-c})),p.calculatedDuration===null&&(p.calculatedDuration=Sy(p));const{calculatedDuration:y}=p;this.calculatedDuration=y,this.resolvedDuration=y+a,this.totalDuration=this.resolvedDuration*(s+1)-a,this.generator=p}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:s,totalDuration:a,mixKeyframes:l,mirroredGenerator:c,resolvedDuration:d,calculatedDuration:g}=this;if(this.startTime===null)return s.next(0);const{delay:p=0,keyframes:y,repeat:_,repeatType:b,repeatDelay:C,type:D,onUpdate:k,finalKeyframe:L}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-a/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const H=this.currentTime-p*(this.playbackSpeed>=0?1:-1),G=this.playbackSpeed>=0?H<0:H>a;this.currentTime=Math.max(H,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let z=this.currentTime,W=s;if(_){const A=Math.min(this.currentTime,a)/d;let I=Math.floor(A),P=A%1;!P&&A>=1&&(P=1),P===1&&I--,I=Math.min(I,_+1),I%2&&(b==="reverse"?(P=1-P,C&&(P-=C/d)):b==="mirror"&&(W=c)),z=Xi(0,1,P)*d}const tt=G?{done:!1,value:y[0]}:W.next(z);l&&(tt.value=l(tt.value));let{done:rt}=tt;!G&&g!==null&&(rt=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const R=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&rt);return R&&D!==hg&&(tt.value=wy(y,this.options,L,this.speed)),k&&k(tt.value),R&&this.finish(),tt}then(t,n){return this.finished.then(t,n)}get duration(){return Xn(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Xn(t)}get time(){return Xn(this.currentTime)}set time(t){t=gi(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(dn.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=Xn(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=qD,startTime:n}=this.options;this.driver||(this.driver=t(a=>this.tick(a))),this.options.onPlay?.();const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(dn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function lN(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const ma=e=>e*180/Math.PI,fg=e=>{const t=ma(Math.atan2(e[1],e[0]));return dg(t)},uN={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:fg,rotateZ:fg,skewX:e=>ma(Math.atan(e[1])),skewY:e=>ma(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},dg=e=>(e=e%360,e<0&&(e+=360),e),TE=fg,EE=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),bE=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),cN={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:EE,scaleY:bE,scale:e=>(EE(e)+bE(e))/2,rotateX:e=>dg(ma(Math.atan2(e[6],e[5]))),rotateY:e=>dg(ma(Math.atan2(-e[2],e[0]))),rotateZ:TE,rotate:TE,skewX:e=>ma(Math.atan(e[4])),skewY:e=>ma(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function mg(e){return e.includes("scale")?1:0}function pg(e,t){if(!e||e==="none")return mg(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,a;if(n)s=cN,a=n;else{const d=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=uN,a=d}if(!a)return mg(t);const l=s[t],c=a[1].split(",").map(fN);return typeof l=="function"?l(c):c[l]}const hN=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return pg(n,t)};function fN(e){return parseFloat(e.trim())}const Zo=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],tl=new Set(Zo),SE=e=>e===Jo||e===mt,dN=new Set(["x","y","z"]),mN=Zo.filter(e=>!dN.has(e));function pN(e){const t=[];return mN.forEach(n=>{const s=e.getValue(n);s!==void 0&&(t.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),t}const vr={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>pg(t,"x"),y:(e,{transform:t})=>pg(t,"y")};vr.translateX=vr.x;vr.translateY=vr.y;const ya=new Set;let gg=!1,yg=!1,vg=!1;function rw(){if(yg){const e=Array.from(ya).filter(s=>s.needsMeasurement),t=new Set(e.map(s=>s.element)),n=new Map;t.forEach(s=>{const a=pN(s);a.length&&(n.set(s,a),s.render())}),e.forEach(s=>s.measureInitialState()),t.forEach(s=>{s.render();const a=n.get(s);a&&a.forEach(([l,c])=>{s.getValue(l)?.set(c)})}),e.forEach(s=>s.measureEndState()),e.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}yg=!1,gg=!1,ya.forEach(e=>e.complete(vg)),ya.clear()}function aw(){ya.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(yg=!0)})}function gN(){vg=!0,aw(),rw(),vg=!1}class Cy{constructor(t,n,s,a,l,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=s,this.motionValue=a,this.element=l,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(ya.add(this),gg||(gg=!0,ie.read(aw),ie.resolveKeyframes(rw))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:s,motionValue:a}=this;if(t[0]===null){const l=a?.get(),c=t[t.length-1];if(l!==void 0)t[0]=l;else if(s&&n){const d=s.readValue(n,c);d!=null&&(t[0]=d)}t[0]===void 0&&(t[0]=c),a&&l===void 0&&a.set(t[0])}lN(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),ya.delete(this)}cancel(){this.state==="scheduled"&&(ya.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const yN=e=>e.startsWith("--");function vN(e,t,n){yN(t)?e.style.setProperty(t,n):e.style[t]=n}const _N=py(()=>window.ScrollTimeline!==void 0),TN={};function EN(e,t){const n=py(e);return()=>TN[t]??n()}const ow=EN(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),yu=([e,t,n,s])=>`cubic-bezier(${e}, ${t}, ${n}, ${s})`,wE={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:yu([0,.65,.55,1]),circOut:yu([.55,0,1,.45]),backIn:yu([.31,.01,.66,-.59]),backOut:yu([.33,1.53,.69,.99])};function lw(e,t){if(e)return typeof e=="function"?ow()?nw(e,t):"ease-out":GS(e)?yu(e):Array.isArray(e)?e.map(n=>lw(n,t)||wE.easeOut):wE[e]}function bN(e,t,n,{delay:s=0,duration:a=300,repeat:l=0,repeatType:c="loop",ease:d="easeOut",times:g}={},p=void 0){const y={[t]:n};g&&(y.offset=g);const _=lw(d,a);Array.isArray(_)&&(y.easing=_);const b={delay:s,duration:a,easing:Array.isArray(_)?"linear":_,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal"};return p&&(b.pseudoElement=p),e.animate(y,b)}function uw(e){return typeof e=="function"&&"applyToOptions"in e}function SN({type:e,...t}){return uw(e)&&ow()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class cw extends Ay{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!t)return;const{element:n,name:s,keyframes:a,pseudoElement:l,allowFlatten:c=!1,finalKeyframe:d,onComplete:g}=t;this.isPseudoElement=!!l,this.allowFlatten=c,this.options=t,my(typeof t.type!="string");const p=SN(t);this.animation=bN(n,s,a,p,l),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const y=wy(a,this.options,d,this.speed);this.updateMotionValue?this.updateMotionValue(y):vN(n,s,y),this.animation.cancel()}g?.(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){const t=this.options?.element;!this.isPseudoElement&&t?.isConnected&&this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return Xn(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Xn(t)}get time(){return Xn(Number(this.animation.currentTime)||0)}set time(t){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=gi(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(t){this.manualStartTime=this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&_N()?(this.animation.timeline=t,Wn):n(this)}}const hw={anticipate:BS,backInOut:zS,circInOut:HS};function wN(e){return e in hw}function AN(e){typeof e.ease=="string"&&wN(e.ease)&&(e.ease=hw[e.ease])}const Vp=10;class xN extends cw{constructor(t){AN(t),sw(t),super(t),t.startTime!==void 0&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:s,onComplete:a,element:l,...c}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const d=new xy({...c,autoplay:!1}),g=Math.max(Vp,dn.now()-this.startTime),p=Xi(0,Vp,g-Vp);n.setWithVelocity(d.sample(Math.max(0,g-p)).value,d.sample(g).value,p),d.stop()}}const AE=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Ar.test(e)||e==="0")&&!e.startsWith("url("));function CN(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function RN(e,t,n,s){const a=e[0];if(a===null)return!1;if(t==="display"||t==="visibility")return!0;const l=e[e.length-1],c=AE(a,t),d=AE(l,t);return!c||!d?!1:CN(e)||(n==="spring"||uw(n))&&s}function _g(e){e.duration=0,e.type="keyframes"}const IN=new Set(["opacity","clipPath","filter","transform"]),DN=py(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function NN(e){const{motionValue:t,name:n,repeatDelay:s,repeatType:a,damping:l,type:c}=e;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:g,transformTemplate:p}=t.owner.getProps();return DN()&&n&&IN.has(n)&&(n!=="transform"||!p)&&!g&&!s&&a!=="mirror"&&l!==0&&c!=="inertia"}const MN=40;class VN extends Ay{constructor({autoplay:t=!0,delay:n=0,type:s="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:c="loop",keyframes:d,name:g,motionValue:p,element:y,..._}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=dn.now();const b={autoplay:t,delay:n,type:s,repeat:a,repeatDelay:l,repeatType:c,name:g,motionValue:p,element:y,..._},C=y?.KeyframeResolver||Cy;this.keyframeResolver=new C(d,(D,k,L)=>this.onKeyframesResolved(D,k,b,!L),g,p,y),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,n,s,a){this.keyframeResolver=void 0;const{name:l,type:c,velocity:d,delay:g,isHandoff:p,onUpdate:y}=s;this.resolvedAt=dn.now(),RN(t,l,c,d)||((As.instantAnimations||!g)&&y?.(wy(t,s,n)),t[0]=t[t.length-1],_g(s),s.repeat=0);const b={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>MN?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:t},C=!p&&NN(b),D=b.motionValue?.owner?.current,k=C?new xN({...b,element:D}):new xy(b);k.finished.then(()=>{this.notifyFinished()}).catch(Wn),this.pendingTimeline&&(this.stopTimeline=k.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=k}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),gN()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}function fw(e,t,n,s=0,a=1){const l=Array.from(e).sort((p,y)=>p.sortNodePosition(y)).indexOf(t),c=e.size,d=(c-1)*s;return typeof n=="function"?n(l,c):a===1?l*s:d-l*s}const ON=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function PN(e){const t=ON.exec(e);if(!t)return[,];const[,n,s,a]=t;return[`--${n??s}`,a]}function dw(e,t,n=1){const[s,a]=PN(e);if(!s)return;const l=window.getComputedStyle(t).getPropertyValue(s);if(l){const c=l.trim();return MS(c)?parseFloat(c):c}return _y(a)?dw(a,t,n+1):a}const kN={type:"spring",stiffness:500,damping:25,restSpeed:10},LN=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),jN={type:"keyframes",duration:.8},UN={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},zN=(e,{keyframes:t})=>t.length>2?jN:tl.has(e)?e.startsWith("scale")?LN(t[1]):kN:UN,BN=e=>e!==null;function FN(e,{repeat:t,repeatType:n="loop"},s){const a=e.filter(BN),l=t&&n!=="loop"&&t%2===1?0:a.length-1;return a[l]}function mw(e,t){if(e?.inherit&&t){const{inherit:n,...s}=e;return{...t,...s}}return e}function Ry(e,t){const n=e?.[t]??e?.default??e;return n!==e?mw(n,e):n}function HN({when:e,delay:t,delayChildren:n,staggerChildren:s,staggerDirection:a,repeat:l,repeatType:c,repeatDelay:d,from:g,elapsed:p,...y}){return!!Object.keys(y).length}const Iy=(e,t,n,s={},a,l)=>c=>{const d=Ry(s,e)||{},g=d.delay||s.delay||0;let{elapsed:p=0}=s;p=p-gi(g);const y={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...d,delay:-p,onUpdate:b=>{t.set(b),d.onUpdate&&d.onUpdate(b)},onComplete:()=>{c(),d.onComplete&&d.onComplete()},name:e,motionValue:t,element:l?void 0:a};HN(d)||Object.assign(y,zN(e,y)),y.duration&&(y.duration=gi(y.duration)),y.repeatDelay&&(y.repeatDelay=gi(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let _=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(_g(y),y.delay===0&&(_=!0)),(As.instantAnimations||As.skipAnimations||a?.shouldSkipAnimations)&&(_=!0,_g(y),y.delay=0),y.allowFlatten=!d.type&&!d.ease,_&&!l&&t.get()!==void 0){const b=FN(y.keyframes,d);if(b!==void 0){ie.update(()=>{y.onUpdate(b),y.onComplete()});return}}return d.isSync?new xy(y):new VN(y)};function xE(e){const t=[{},{}];return e?.values.forEach((n,s)=>{t[0][s]=n.get(),t[1][s]=n.getVelocity()}),t}function Dy(e,t,n,s){if(typeof t=="function"){const[a,l]=xE(s);t=t(n!==void 0?n:e.custom,a,l)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[a,l]=xE(s);t=t(n!==void 0?n:e.custom,a,l)}return t}function Vo(e,t,n){const s=e.getProps();return Dy(s,t,n!==void 0?n:s.custom,e)}const pw=new Set(["width","height","top","left","right","bottom",...Zo]),CE=30,qN=e=>!isNaN(parseFloat(e));class GN{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{const a=dn.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=dn.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=qN(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new gy);const s=this.events[t].add(n);return t==="change"?()=>{s(),ie.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-s}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=dn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>CE)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,CE);return PS(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Bo(e,t){return new GN(e,t)}const Tg=e=>Array.isArray(e);function KN(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Bo(n))}function YN(e){return Tg(e)?e[e.length-1]||0:e}function $N(e,t){const n=Vo(e,t);let{transitionEnd:s={},transition:a={},...l}=n||{};l={...l,...s};for(const c in l){const d=YN(l[c]);KN(e,c,d)}}const ln=e=>!!(e&&e.getVelocity);function QN(e){return!!(ln(e)&&e.add)}function Eg(e,t){const n=e.getValue("willChange");if(QN(n))return n.add(t);if(!n&&As.WillChange){const s=new As.WillChange("auto");e.addValue("willChange",s),s.add(t)}}function Ny(e){return e.replace(/([A-Z])/g,t=>`-${t.toLowerCase()}`)}const XN="framerAppearId",gw="data-"+Ny(XN);function yw(e){return e.props[gw]}function WN({protectedKeys:e,needsAnimating:t},n){const s=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,s}function vw(e,t,{delay:n=0,transitionOverride:s,type:a}={}){let{transition:l,transitionEnd:c,...d}=t;const g=e.getDefaultTransition();l=l?mw(l,g):g;const p=l?.reduceMotion;s&&(l=s);const y=[],_=a&&e.animationState&&e.animationState.getState()[a];for(const b in d){const C=e.getValue(b,e.latestValues[b]??null),D=d[b];if(D===void 0||_&&WN(_,b))continue;const k={delay:n,...Ry(l||{},b)},L=C.get();if(L!==void 0&&!C.isAnimating&&!Array.isArray(D)&&D===L&&!k.velocity)continue;let H=!1;if(window.MotionHandoffAnimation){const W=yw(e);if(W){const tt=window.MotionHandoffAnimation(W,b,ie);tt!==null&&(k.startTime=tt,H=!0)}}Eg(e,b);const G=p??e.shouldReduceMotion;C.start(Iy(b,C,D,G&&pw.has(b)?{type:!1}:k,e,H));const z=C.animation;z&&y.push(z)}if(c){const b=()=>ie.update(()=>{c&&$N(e,c)});y.length?Promise.all(y).then(b):b()}return y}function bg(e,t,n={}){const s=Vo(e,t,n.type==="exit"?e.presenceContext?.custom:void 0);let{transition:a=e.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(a=n.transitionOverride);const l=s?()=>Promise.all(vw(e,s,n)):()=>Promise.resolve(),c=e.variantChildren&&e.variantChildren.size?(g=0)=>{const{delayChildren:p=0,staggerChildren:y,staggerDirection:_}=a;return JN(e,t,g,p,y,_,n)}:()=>Promise.resolve(),{when:d}=a;if(d){const[g,p]=d==="beforeChildren"?[l,c]:[c,l];return g().then(()=>p())}else return Promise.all([l(),c(n.delay)])}function JN(e,t,n=0,s=0,a=0,l=1,c){const d=[];for(const g of e.variantChildren)g.notify("AnimationStart",t),d.push(bg(g,t,{...c,delay:n+(typeof s=="function"?0:s)+fw(e.variantChildren,g,s,a,l)}).then(()=>g.notify("AnimationComplete",t)));return Promise.all(d)}function ZN(e,t,n={}){e.notify("AnimationStart",t);let s;if(Array.isArray(t)){const a=t.map(l=>bg(e,l,n));s=Promise.all(a)}else if(typeof t=="string")s=bg(e,t,n);else{const a=typeof t=="function"?Vo(e,t,n.custom):t;s=Promise.all(vw(e,a,n))}return s.then(()=>{e.notify("AnimationComplete",t)})}const tM={test:e=>e==="auto",parse:e=>e},_w=e=>t=>t.test(e),Tw=[Jo,mt,qi,mr,RD,CD,tM],RE=e=>Tw.find(_w(e));function eM(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||OS(e):!0}const nM=new Set(["brightness","contrast","saturate","opacity"]);function iM(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[s]=n.match(Ty)||[];if(!s)return e;const a=n.replace(s,"");let l=nM.has(t)?1:0;return s!==n&&(l*=100),t+"("+l+a+")"}const sM=/\b([a-z-]*)\(.*?\)/gu,Sg={...Ar,getAnimatableNone:e=>{const t=e.match(sM);return t?t.map(iM).join(" "):e}},IE={...Jo,transform:Math.round},rM={rotate:mr,rotateX:mr,rotateY:mr,rotateZ:mr,scale:Fh,scaleX:Fh,scaleY:Fh,scaleZ:Fh,skew:mr,skewX:mr,skewY:mr,distance:mt,translateX:mt,translateY:mt,translateZ:mt,x:mt,y:mt,z:mt,perspective:mt,transformPerspective:mt,opacity:Ou,originX:pE,originY:pE,originZ:mt},My={borderWidth:mt,borderTopWidth:mt,borderRightWidth:mt,borderBottomWidth:mt,borderLeftWidth:mt,borderRadius:mt,borderTopLeftRadius:mt,borderTopRightRadius:mt,borderBottomRightRadius:mt,borderBottomLeftRadius:mt,width:mt,maxWidth:mt,height:mt,maxHeight:mt,top:mt,right:mt,bottom:mt,left:mt,inset:mt,insetBlock:mt,insetBlockStart:mt,insetBlockEnd:mt,insetInline:mt,insetInlineStart:mt,insetInlineEnd:mt,padding:mt,paddingTop:mt,paddingRight:mt,paddingBottom:mt,paddingLeft:mt,paddingBlock:mt,paddingBlockStart:mt,paddingBlockEnd:mt,paddingInline:mt,paddingInlineStart:mt,paddingInlineEnd:mt,margin:mt,marginTop:mt,marginRight:mt,marginBottom:mt,marginLeft:mt,marginBlock:mt,marginBlockStart:mt,marginBlockEnd:mt,marginInline:mt,marginInlineStart:mt,marginInlineEnd:mt,fontSize:mt,backgroundPositionX:mt,backgroundPositionY:mt,...rM,zIndex:IE,fillOpacity:Ou,strokeOpacity:Ou,numOctaves:IE},aM={...My,color:Oe,backgroundColor:Oe,outlineColor:Oe,fill:Oe,stroke:Oe,borderColor:Oe,borderTopColor:Oe,borderRightColor:Oe,borderBottomColor:Oe,borderLeftColor:Oe,filter:Sg,WebkitFilter:Sg},Ew=e=>aM[e];function bw(e,t){let n=Ew(e);return n!==Sg&&(n=Ar),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const oM=new Set(["auto","none","0"]);function lM(e,t,n){let s=0,a;for(;s<e.length&&!a;){const l=e[s];typeof l=="string"&&!oM.has(l)&&Pu(l).values.length&&(a=e[s]),s++}if(a&&n)for(const l of t)e[l]=bw(n,a)}class uM extends Cy{constructor(t,n,s,a,l){super(t,n,s,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let y=0;y<t.length;y++){let _=t[y];if(typeof _=="string"&&(_=_.trim(),_y(_))){const b=dw(_,n.current);b!==void 0&&(t[y]=b),y===t.length-1&&(this.finalKeyframe=_)}}if(this.resolveNoneKeyframes(),!pw.has(s)||t.length!==2)return;const[a,l]=t,c=RE(a),d=RE(l),g=mE(a),p=mE(l);if(g!==p&&vr[s]){this.needsMeasurement=!0;return}if(c!==d)if(SE(c)&&SE(d))for(let y=0;y<t.length;y++){const _=t[y];typeof _=="string"&&(t[y]=parseFloat(_))}else vr[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,s=[];for(let a=0;a<t.length;a++)(t[a]===null||eM(t[a]))&&s.push(a);s.length&&lM(t,s,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:s}=this;if(!t||!t.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=vr[s](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&t.getValue(s,a).jump(a,!1)}measureEndState(){const{element:t,name:n,unresolvedKeyframes:s}=this;if(!t||!t.current)return;const a=t.getValue(n);a&&a.jump(this.measuredOrigin,!1);const l=s.length-1,c=s[l];s[l]=vr[n](t.measureViewportBox(),window.getComputedStyle(t.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),this.removedTransforms?.length&&this.removedTransforms.forEach(([d,g])=>{t.getValue(d).set(g)}),this.resolveNoneKeyframes()}}const cM=new Set(["opacity","clipPath","filter","transform"]);function Sw(e,t,n){if(e==null)return[];if(e instanceof EventTarget)return[e];if(typeof e=="string"){let s=document;const a=n?.[e]??s.querySelectorAll(e);return a?Array.from(a):[]}return Array.from(e).filter(s=>s!=null)}const ww=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function wg(e){return VS(e)&&"offsetHeight"in e}const{schedule:Vy}=KS(queueMicrotask,!1),fi={x:!1,y:!1};function Aw(){return fi.x||fi.y}function hM(e){return e==="x"||e==="y"?fi[e]?null:(fi[e]=!0,()=>{fi[e]=!1}):fi.x||fi.y?null:(fi.x=fi.y=!0,()=>{fi.x=fi.y=!1})}function xw(e,t){const n=Sw(e),s=new AbortController,a={passive:!0,...t,signal:s.signal};return[n,a,()=>s.abort()]}function fM(e){return!(e.pointerType==="touch"||Aw())}function dM(e,t,n={}){const[s,a,l]=xw(e,n);return s.forEach(c=>{let d=!1,g=!1,p;const y=()=>{c.removeEventListener("pointerleave",D)},_=L=>{p&&(p(L),p=void 0),y()},b=L=>{d=!1,window.removeEventListener("pointerup",b),window.removeEventListener("pointercancel",b),g&&(g=!1,_(L))},C=()=>{d=!0,window.addEventListener("pointerup",b,a),window.addEventListener("pointercancel",b,a)},D=L=>{if(L.pointerType!=="touch"){if(d){g=!0;return}_(L)}},k=L=>{if(!fM(L))return;g=!1;const H=t(c,L);typeof H=="function"&&(p=H,c.addEventListener("pointerleave",D,a))};c.addEventListener("pointerenter",k,a),c.addEventListener("pointerdown",C,a)}),l}const Cw=(e,t)=>t?e===t?!0:Cw(e,t.parentElement):!1,Oy=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,mM=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function pM(e){return mM.has(e.tagName)||e.isContentEditable===!0}const gM=new Set(["INPUT","SELECT","TEXTAREA"]);function yM(e){return gM.has(e.tagName)||e.isContentEditable===!0}const ef=new WeakSet;function DE(e){return t=>{t.key==="Enter"&&e(t)}}function Op(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const vM=(e,t)=>{const n=e.currentTarget;if(!n)return;const s=DE(()=>{if(ef.has(n))return;Op(n,"down");const a=DE(()=>{Op(n,"up")}),l=()=>Op(n,"cancel");n.addEventListener("keyup",a,t),n.addEventListener("blur",l,t)});n.addEventListener("keydown",s,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),t)};function NE(e){return Oy(e)&&!Aw()}const ME=new WeakSet;function _M(e,t,n={}){const[s,a,l]=xw(e,n),c=d=>{const g=d.currentTarget;if(!NE(d)||ME.has(d))return;ef.add(g),n.stopPropagation&&ME.add(d);const p=t(g,d),y=(C,D)=>{window.removeEventListener("pointerup",_),window.removeEventListener("pointercancel",b),ef.has(g)&&ef.delete(g),NE(C)&&typeof p=="function"&&p(C,{success:D})},_=C=>{y(C,g===window||g===document||n.useGlobalTarget||Cw(g,C.target))},b=C=>{y(C,!1)};window.addEventListener("pointerup",_,a),window.addEventListener("pointercancel",b,a)};return s.forEach(d=>{(n.useGlobalTarget?window:d).addEventListener("pointerdown",c,a),wg(d)&&(d.addEventListener("focus",p=>vM(p,a)),!pM(d)&&!d.hasAttribute("tabindex")&&(d.tabIndex=0))}),l}function Py(e){return VS(e)&&"ownerSVGElement"in e}const nf=new WeakMap;let sf;const Rw=(e,t,n)=>(s,a)=>a&&a[0]?a[0][e+"Size"]:Py(s)&&"getBBox"in s?s.getBBox()[t]:s[n],TM=Rw("inline","width","offsetWidth"),EM=Rw("block","height","offsetHeight");function bM({target:e,borderBoxSize:t}){nf.get(e)?.forEach(n=>{n(e,{get width(){return TM(e,t)},get height(){return EM(e,t)}})})}function SM(e){e.forEach(bM)}function wM(){typeof ResizeObserver>"u"||(sf=new ResizeObserver(SM))}function AM(e,t){sf||wM();const n=Sw(e);return n.forEach(s=>{let a=nf.get(s);a||(a=new Set,nf.set(s,a)),a.add(t),sf?.observe(s)}),()=>{n.forEach(s=>{const a=nf.get(s);a?.delete(t),a?.size||sf?.unobserve(s)})}}const rf=new Set;let Ro;function xM(){Ro=()=>{const e={get width(){return window.innerWidth},get height(){return window.innerHeight}};rf.forEach(t=>t(e))},window.addEventListener("resize",Ro)}function CM(e){return rf.add(e),Ro||xM(),()=>{rf.delete(e),!rf.size&&typeof Ro=="function"&&(window.removeEventListener("resize",Ro),Ro=void 0)}}function VE(e,t){return typeof e=="function"?CM(e):AM(e,t)}function RM(e){return Py(e)&&e.tagName==="svg"}const IM=[...Tw,Oe,Ar],DM=e=>IM.find(_w(e)),OE=()=>({translate:0,scale:1,origin:0,originPoint:0}),Io=()=>({x:OE(),y:OE()}),PE=()=>({min:0,max:0}),Ue=()=>({x:PE(),y:PE()}),NM=new WeakMap;function Jf(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function ku(e){return typeof e=="string"||Array.isArray(e)}const ky=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Ly=["initial",...ky];function Zf(e){return Jf(e.animate)||Ly.some(t=>ku(e[t]))}function Iw(e){return!!(Zf(e)||e.variants)}function MM(e,t,n){for(const s in t){const a=t[s],l=n[s];if(ln(a))e.addValue(s,a);else if(ln(l))e.addValue(s,Bo(a,{owner:e}));else if(l!==a)if(e.hasValue(s)){const c=e.getValue(s);c.liveStyle===!0?c.jump(a):c.hasAnimated||c.set(a)}else{const c=e.getStaticValue(s);e.addValue(s,Bo(c!==void 0?c:a,{owner:e}))}}for(const s in n)t[s]===void 0&&e.removeValue(s);return t}const Ag={current:null},Dw={current:!1},VM=typeof window<"u";function OM(){if(Dw.current=!0,!!VM)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Ag.current=e.matches;e.addEventListener("change",t),t()}else Ag.current=!1}const kE=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let Sf={};function Nw(e){Sf=e}function PM(){return Sf}class kM{scrapeMotionValuesFromProps(t,n,s){return{}}constructor({parent:t,props:n,presenceContext:s,reducedMotionConfig:a,skipAnimations:l,blockInitialAnimation:c,visualState:d},g={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.shouldSkipAnimations=!1,this.values=new Map,this.KeyframeResolver=Cy,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.hasBeenMounted=!1,this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const C=dn.now();this.renderScheduledAt<C&&(this.renderScheduledAt=C,ie.render(this.render,!1,!0))};const{latestValues:p,renderState:y}=d;this.latestValues=p,this.baseTarget={...p},this.initialValues=n.initial?{...p}:{},this.renderState=y,this.parent=t,this.props=n,this.presenceContext=s,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.skipAnimationsConfig=l,this.options=g,this.blockInitialAnimation=!!c,this.isControllingVariants=Zf(n),this.isVariantNode=Iw(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:_,...b}=this.scrapeMotionValuesFromProps(n,{},this);for(const C in b){const D=b[C];p[C]!==void 0&&ln(D)&&D.set(p[C])}}mount(t){if(this.hasBeenMounted)for(const n in this.initialValues)this.values.get(n)?.jump(this.initialValues[n]),this.latestValues[n]=this.initialValues[n];this.current=t,NM.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(Dw.current||OM(),this.shouldReduceMotion=Ag.current),this.shouldSkipAnimations=this.skipAnimationsConfig??!1,this.parent?.addChild(this),this.update(this.props,this.presenceContext),this.hasBeenMounted=!0}unmount(){this.projection&&this.projection.unmount(),wr(this.notifyUpdate),wr(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,n){if(this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)(),n.accelerate&&cM.has(t)&&this.current instanceof HTMLElement){const{factory:c,keyframes:d,times:g,ease:p,duration:y}=n.accelerate,_=new cw({element:this.current,name:t,keyframes:d,times:g,ease:p,duration:gi(y)}),b=c(_);this.valueSubscriptions.set(t,()=>{b(),_.cancel()});return}const s=tl.has(t);s&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",c=>{this.latestValues[t]=c,this.props.onUpdate&&ie.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;typeof window<"u"&&window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{a(),l&&l(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Sf){const n=Sf[t];if(!n)continue;const{isEnabled:s,Feature:a}=n;if(!this.features[t]&&a&&s(this.props)&&(this.features[t]=new a(this)),this.features[t]){const l=this.features[t];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ue()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<kE.length;s++){const a=kE[s];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,c=t[l];c&&(this.propEventSubscriptions[a]=this.on(a,c))}this.prevMotionValues=MM(this,this.scrapeMotionValuesFromProps(t,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const s=this.values.get(t);n!==s&&(s&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let s=this.values.get(t);return s===void 0&&n!==void 0&&(s=Bo(n===null?void 0:n,{owner:this}),this.addValue(t,s)),s}readValue(t,n){let s=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return s!=null&&(typeof s=="string"&&(MS(s)||OS(s))?s=parseFloat(s):!DM(s)&&Ar.test(n)&&(s=bw(t,n)),this.setBaseTarget(t,ln(s)?s.get():s)),ln(s)?s.get():s}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const l=Dy(this.props,n,this.presenceContext?.custom);l&&(s=l[t])}if(n&&s!==void 0)return s;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!ln(a)?a:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new gy),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){Vy.render(this.render)}}class Mw extends kM{constructor(){super(...arguments),this.KeyframeResolver=uM}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){const s=t.style;return s?s[n]:void 0}removeValueFromRenderState(t,{vars:n,style:s}){delete n[t],delete s[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;ln(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}class Mr{constructor(t){this.isMounted=!1,this.node=t}update(){}}function Vw({top:e,left:t,right:n,bottom:s}){return{x:{min:t,max:n},y:{min:e,max:s}}}function LM({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function jM(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),s=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function Pp(e){return e===void 0||e===1}function xg({scale:e,scaleX:t,scaleY:n}){return!Pp(e)||!Pp(t)||!Pp(n)}function ha(e){return xg(e)||Ow(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function Ow(e){return LE(e.x)||LE(e.y)}function LE(e){return e&&e!=="0%"}function wf(e,t,n){const s=e-n,a=t*s;return n+a}function jE(e,t,n,s,a){return a!==void 0&&(e=wf(e,a,s)),wf(e,n,s)+t}function Cg(e,t=0,n=1,s,a){e.min=jE(e.min,t,n,s,a),e.max=jE(e.max,t,n,s,a)}function Pw(e,{x:t,y:n}){Cg(e.x,t.translate,t.scale,t.originPoint),Cg(e.y,n.translate,n.scale,n.originPoint)}const UE=.999999999999,zE=1.0000000000001;function UM(e,t,n,s=!1){const a=n.length;if(!a)return;t.x=t.y=1;let l,c;for(let d=0;d<a;d++){l=n[d],c=l.projectionDelta;const{visualElement:g}=l.options;g&&g.props.style&&g.props.style.display==="contents"||(s&&l.options.layoutScroll&&l.scroll&&l!==l.root&&No(e,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(t.x*=c.x.scale,t.y*=c.y.scale,Pw(e,c)),s&&ha(l.latestValues)&&No(e,l.latestValues))}t.x<zE&&t.x>UE&&(t.x=1),t.y<zE&&t.y>UE&&(t.y=1)}function Do(e,t){e.min=e.min+t,e.max=e.max+t}function BE(e,t,n,s,a=.5){const l=de(e.min,e.max,a);Cg(e,t,n,l,s)}function No(e,t){BE(e.x,t.x,t.scaleX,t.scale,t.originX),BE(e.y,t.y,t.scaleY,t.scale,t.originY)}function kw(e,t){return Vw(jM(e.getBoundingClientRect(),t))}function zM(e,t,n){const s=kw(e,n),{scroll:a}=t;return a&&(Do(s.x,a.offset.x),Do(s.y,a.offset.y)),s}const BM={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},FM=Zo.length;function HM(e,t,n){let s="",a=!0;for(let l=0;l<FM;l++){const c=Zo[l],d=e[c];if(d===void 0)continue;let g=!0;if(typeof d=="number")g=d===(c.startsWith("scale")?1:0);else{const p=parseFloat(d);g=c.startsWith("scale")?p===1:p===0}if(!g||n){const p=ww(d,My[c]);if(!g){a=!1;const y=BM[c]||c;s+=`${y}(${p}) `}n&&(t[c]=p)}}return s=s.trim(),n?s=n(t,a?"":s):a&&(s="none"),s}function jy(e,t,n){const{style:s,vars:a,transformOrigin:l}=e;let c=!1,d=!1;for(const g in t){const p=t[g];if(tl.has(g)){c=!0;continue}else if($S(g)){a[g]=p;continue}else{const y=ww(p,My[g]);g.startsWith("origin")?(d=!0,l[g]=y):s[g]=y}}if(t.transform||(c||n?s.transform=HM(t,e.transform,n):s.transform&&(s.transform="none")),d){const{originX:g="50%",originY:p="50%",originZ:y=0}=l;s.transformOrigin=`${g} ${p} ${y}`}}function Lw(e,{style:t,vars:n},s,a){const l=e.style;let c;for(c in t)l[c]=t[c];a?.applyProjectionStyles(l,s);for(c in n)l.setProperty(c,n[c])}function FE(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const pu={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(mt.test(e))e=parseFloat(e);else return e;const n=FE(e,t.target.x),s=FE(e,t.target.y);return`${n}% ${s}%`}},qM={correct:(e,{treeScale:t,projectionDelta:n})=>{const s=e,a=Ar.parse(e);if(a.length>5)return s;const l=Ar.createTransformer(e),c=typeof a[0]!="number"?1:0,d=n.x.scale*t.x,g=n.y.scale*t.y;a[0+c]/=d,a[1+c]/=g;const p=de(d,g,.5);return typeof a[2+c]=="number"&&(a[2+c]/=p),typeof a[3+c]=="number"&&(a[3+c]/=p),l(a)}},Rg={borderRadius:{...pu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:pu,borderTopRightRadius:pu,borderBottomLeftRadius:pu,borderBottomRightRadius:pu,boxShadow:qM};function jw(e,{layout:t,layoutId:n}){return tl.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Rg[e]||e==="opacity")}function Uy(e,t,n){const s=e.style,a=t?.style,l={};if(!s)return l;for(const c in s)(ln(s[c])||a&&ln(a[c])||jw(c,e)||n?.getValue(c)?.liveStyle!==void 0)&&(l[c]=s[c]);return l}function GM(e){return window.getComputedStyle(e)}class KM extends Mw{constructor(){super(...arguments),this.type="html",this.renderInstance=Lw}readValueFromInstance(t,n){if(tl.has(n))return this.projection?.isProjecting?mg(n):hN(t,n);{const s=GM(t),a=($S(n)?s.getPropertyValue(n):s[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(t,{transformPagePoint:n}){return kw(t,n)}build(t,n,s){jy(t,n,s.transformTemplate)}scrapeMotionValuesFromProps(t,n,s){return Uy(t,n,s)}}const YM={offset:"stroke-dashoffset",array:"stroke-dasharray"},$M={offset:"strokeDashoffset",array:"strokeDasharray"};function QM(e,t,n=1,s=0,a=!0){e.pathLength=1;const l=a?YM:$M;e[l.offset]=`${-s}`,e[l.array]=`${t} ${n}`}const XM=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function Uw(e,{attrX:t,attrY:n,attrScale:s,pathLength:a,pathSpacing:l=1,pathOffset:c=0,...d},g,p,y){if(jy(e,d,p),g){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:_,style:b}=e;_.transform&&(b.transform=_.transform,delete _.transform),(b.transform||_.transformOrigin)&&(b.transformOrigin=_.transformOrigin??"50% 50%",delete _.transformOrigin),b.transform&&(b.transformBox=y?.transformBox??"fill-box",delete _.transformBox);for(const C of XM)_[C]!==void 0&&(b[C]=_[C],delete _[C]);t!==void 0&&(_.x=t),n!==void 0&&(_.y=n),s!==void 0&&(_.scale=s),a!==void 0&&QM(_,a,l,c,!1)}const zw=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),Bw=e=>typeof e=="string"&&e.toLowerCase()==="svg";function WM(e,t,n,s){Lw(e,t,void 0,s);for(const a in t.attrs)e.setAttribute(zw.has(a)?a:Ny(a),t.attrs[a])}function Fw(e,t,n){const s=Uy(e,t,n);for(const a in e)if(ln(e[a])||ln(t[a])){const l=Zo.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;s[l]=e[a]}return s}class JM extends Mw{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ue}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(tl.has(n)){const s=Ew(n);return s&&s.default||0}return n=zw.has(n)?n:Ny(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,s){return Fw(t,n,s)}build(t,n,s){Uw(t,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(t,n,s,a){WM(t,n,s,a)}mount(t){this.isSVGTag=Bw(t.tagName),super.mount(t)}}const ZM=Ly.length;function Hw(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?Hw(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<ZM;n++){const s=Ly[n],a=e.props[s];(ku(a)||a===!1)&&(t[s]=a)}return t}function qw(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let s=0;s<n;s++)if(t[s]!==e[s])return!1;return!0}const tV=[...ky].reverse(),eV=ky.length;function nV(e){return t=>Promise.all(t.map(({animation:n,options:s})=>ZN(e,n,s)))}function iV(e){let t=nV(e),n=HE(),s=!0;const a=g=>(p,y)=>{const _=Vo(e,y,g==="exit"?e.presenceContext?.custom:void 0);if(_){const{transition:b,transitionEnd:C,...D}=_;p={...p,...D,...C}}return p};function l(g){t=g(e)}function c(g){const{props:p}=e,y=Hw(e.parent)||{},_=[],b=new Set;let C={},D=1/0;for(let L=0;L<eV;L++){const H=tV[L],G=n[H],z=p[H]!==void 0?p[H]:y[H],W=ku(z),tt=H===g?G.isActive:null;tt===!1&&(D=L);let rt=z===y[H]&&z!==p[H]&&W;if(rt&&s&&e.manuallyAnimateOnMount&&(rt=!1),G.protectedKeys={...C},!G.isActive&&tt===null||!z&&!G.prevProp||Jf(z)||typeof z=="boolean")continue;if(H==="exit"&&G.isActive&&tt!==!0){G.prevResolvedValues&&(C={...C,...G.prevResolvedValues});continue}const R=sV(G.prevProp,z);let A=R||H===g&&G.isActive&&!rt&&W||L>D&&W,I=!1;const P=Array.isArray(z)?z:[z];let V=P.reduce(a(H),{});tt===!1&&(V={});const{prevResolvedValues:F={}}=G,N={...F,...V},ee=ot=>{A=!0,b.has(ot)&&(I=!0,b.delete(ot)),G.needsAnimating[ot]=!0;const ft=e.getValue(ot);ft&&(ft.liveStyle=!1)};for(const ot in N){const ft=V[ot],Rt=F[ot];if(C.hasOwnProperty(ot))continue;let Vt=!1;Tg(ft)&&Tg(Rt)?Vt=!qw(ft,Rt):Vt=ft!==Rt,Vt?ft!=null?ee(ot):b.add(ot):ft!==void 0&&b.has(ot)?ee(ot):G.protectedKeys[ot]=!0}G.prevProp=z,G.prevResolvedValues=V,G.isActive&&(C={...C,...V}),s&&e.blockInitialAnimation&&(A=!1);const pe=rt&&R;A&&(!pe||I)&&_.push(...P.map(ot=>{const ft={type:H};if(typeof ot=="string"&&s&&!pe&&e.manuallyAnimateOnMount&&e.parent){const{parent:Rt}=e,Vt=Vo(Rt,ot);if(Rt.enteringChildren&&Vt){const{delayChildren:U}=Vt.transition||{};ft.delay=fw(Rt.enteringChildren,e,U)}}return{animation:ot,options:ft}}))}if(b.size){const L={};if(typeof p.initial!="boolean"){const H=Vo(e,Array.isArray(p.initial)?p.initial[0]:p.initial);H&&H.transition&&(L.transition=H.transition)}b.forEach(H=>{const G=e.getBaseTarget(H),z=e.getValue(H);z&&(z.liveStyle=!0),L[H]=G??null}),_.push({animation:L})}let k=!!_.length;return s&&(p.initial===!1||p.initial===p.animate)&&!e.manuallyAnimateOnMount&&(k=!1),s=!1,k?t(_):Promise.resolve()}function d(g,p){if(n[g].isActive===p)return Promise.resolve();e.variantChildren?.forEach(_=>_.animationState?.setActive(g,p)),n[g].isActive=p;const y=c(g);for(const _ in n)n[_].protectedKeys={};return y}return{animateChanges:c,setActive:d,setAnimateFunction:l,getState:()=>n,reset:()=>{n=HE()}}}function sV(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!qw(t,e):!1}function ca(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function HE(){return{animate:ca(!0),whileInView:ca(),whileHover:ca(),whileTap:ca(),whileDrag:ca(),whileFocus:ca(),exit:ca()}}function qE(e,t){e.min=t.min,e.max=t.max}function hi(e,t){qE(e.x,t.x),qE(e.y,t.y)}function GE(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}const Gw=1e-4,rV=1-Gw,aV=1+Gw,Kw=.01,oV=0-Kw,lV=0+Kw;function mn(e){return e.max-e.min}function uV(e,t,n){return Math.abs(e-t)<=n}function KE(e,t,n,s=.5){e.origin=s,e.originPoint=de(t.min,t.max,e.origin),e.scale=mn(n)/mn(t),e.translate=de(n.min,n.max,e.origin)-e.originPoint,(e.scale>=rV&&e.scale<=aV||isNaN(e.scale))&&(e.scale=1),(e.translate>=oV&&e.translate<=lV||isNaN(e.translate))&&(e.translate=0)}function wu(e,t,n,s){KE(e.x,t.x,n.x,s?s.originX:void 0),KE(e.y,t.y,n.y,s?s.originY:void 0)}function YE(e,t,n){e.min=n.min+t.min,e.max=e.min+mn(t)}function cV(e,t,n){YE(e.x,t.x,n.x),YE(e.y,t.y,n.y)}function $E(e,t,n){e.min=t.min-n.min,e.max=e.min+mn(t)}function Af(e,t,n){$E(e.x,t.x,n.x),$E(e.y,t.y,n.y)}function QE(e,t,n,s,a){return e-=t,e=wf(e,1/n,s),a!==void 0&&(e=wf(e,1/a,s)),e}function hV(e,t=0,n=1,s=.5,a,l=e,c=e){if(qi.test(t)&&(t=parseFloat(t),t=de(c.min,c.max,t/100)-c.min),typeof t!="number")return;let d=de(l.min,l.max,s);e===l&&(d-=t),e.min=QE(e.min,t,n,d,a),e.max=QE(e.max,t,n,d,a)}function XE(e,t,[n,s,a],l,c){hV(e,t[n],t[s],t[a],t.scale,l,c)}const fV=["x","scaleX","originX"],dV=["y","scaleY","originY"];function WE(e,t,n,s){XE(e.x,t,fV,n?n.x:void 0,s?s.x:void 0),XE(e.y,t,dV,n?n.y:void 0,s?s.y:void 0)}function JE(e){return e.translate===0&&e.scale===1}function Yw(e){return JE(e.x)&&JE(e.y)}function ZE(e,t){return e.min===t.min&&e.max===t.max}function mV(e,t){return ZE(e.x,t.x)&&ZE(e.y,t.y)}function tb(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function $w(e,t){return tb(e.x,t.x)&&tb(e.y,t.y)}function eb(e){return mn(e.x)/mn(e.y)}function nb(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}function Fi(e){return[e("x"),e("y")]}function pV(e,t,n){let s="";const a=e.x.translate/t.x,l=e.y.translate/t.y,c=n?.z||0;if((a||l||c)&&(s=`translate3d(${a}px, ${l}px, ${c}px) `),(t.x!==1||t.y!==1)&&(s+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:p,rotate:y,rotateX:_,rotateY:b,skewX:C,skewY:D}=n;p&&(s=`perspective(${p}px) ${s}`),y&&(s+=`rotate(${y}deg) `),_&&(s+=`rotateX(${_}deg) `),b&&(s+=`rotateY(${b}deg) `),C&&(s+=`skewX(${C}deg) `),D&&(s+=`skewY(${D}deg) `)}const d=e.x.scale*t.x,g=e.y.scale*t.y;return(d!==1||g!==1)&&(s+=`scale(${d}, ${g})`),s||"none"}const Qw=["TopLeft","TopRight","BottomLeft","BottomRight"],gV=Qw.length,ib=e=>typeof e=="string"?parseFloat(e):e,sb=e=>typeof e=="number"||mt.test(e);function yV(e,t,n,s,a,l){a?(e.opacity=de(0,n.opacity??1,vV(s)),e.opacityExit=de(t.opacity??1,0,_V(s))):l&&(e.opacity=de(t.opacity??1,n.opacity??1,s));for(let c=0;c<gV;c++){const d=`border${Qw[c]}Radius`;let g=rb(t,d),p=rb(n,d);if(g===void 0&&p===void 0)continue;g||(g=0),p||(p=0),g===0||p===0||sb(g)===sb(p)?(e[d]=Math.max(de(ib(g),ib(p),s),0),(qi.test(p)||qi.test(g))&&(e[d]+="%")):e[d]=p}(t.rotate||n.rotate)&&(e.rotate=de(t.rotate||0,n.rotate||0,s))}function rb(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const vV=Xw(0,.5,FS),_V=Xw(.5,.95,Wn);function Xw(e,t,n){return s=>s<e?0:s>t?1:n(Vu(e,t,s))}function TV(e,t,n){const s=ln(e)?e:Bo(e);return s.start(Iy("",s,t,n)),s.animation}function Lu(e,t,n,s={passive:!0}){return e.addEventListener(t,n,s),()=>e.removeEventListener(t,n)}const EV=(e,t)=>e.depth-t.depth;class bV{constructor(){this.children=[],this.isDirty=!1}add(t){dy(this.children,t),this.isDirty=!0}remove(t){_f(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(EV),this.isDirty=!1,this.children.forEach(t)}}function SV(e,t){const n=dn.now(),s=({timestamp:a})=>{const l=a-n;l>=t&&(wr(s),e(l-t))};return ie.setup(s,!0),()=>wr(s)}function af(e){return ln(e)?e.get():e}class wV{constructor(){this.members=[]}add(t){dy(this.members,t);for(let n=this.members.length-1;n>=0;n--){const s=this.members[n];if(s===t||s===this.lead||s===this.prevLead)continue;const a=s.instance;a&&a.isConnected===!1&&s.isPresent!==!1&&!s.snapshot&&_f(this.members,s)}t.scheduleRender()}remove(t){if(_f(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(a=>t===a);if(n===0)return!1;let s;for(let a=n;a>=0;a--){const l=this.members[a],c=l.instance;if(l.isPresent!==!1&&(!c||c.isConnected!==!1)){s=l;break}}return s?(this.promote(s),!0):!1}promote(t,n){const s=this.lead;if(t!==s&&(this.prevLead=s,this.lead=t,t.show(),s)){s.instance&&s.scheduleRender(),t.scheduleRender();const a=s.options.layoutDependency,l=t.options.layoutDependency;if(!(a!==void 0&&l!==void 0&&a===l)){const g=s.instance;g&&g.isConnected===!1&&!s.snapshot||(t.resumeFrom=s,n&&(t.resumeFrom.preserveOpacity=!0),s.snapshot&&(t.snapshot=s.snapshot,t.snapshot.latestValues=s.animationValues||s.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0))}const{crossfade:d}=t.options;d===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:s}=t;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const of={hasAnimatedSinceResize:!0,hasEverUpdated:!1},kp=["","X","Y","Z"],AV=1e3;let xV=0;function Lp(e,t,n,s){const{latestValues:a}=t;a[e]&&(n[e]=a[e],t.setStaticValue(e,0),s&&(s[e]=0))}function Ww(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=yw(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:l}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",ie,!(a||l))}const{parent:s}=e;s&&!s.hasCheckedOptimisedAppear&&Ww(s)}function Jw({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:s,resetTransform:a}){return class{constructor(c={},d=t?.()){this.id=xV++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(IV),this.nodes.forEach(VV),this.nodes.forEach(OV),this.nodes.forEach(DV)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let g=0;g<this.path.length;g++)this.path[g].shouldResetTransform=!0;this.root===this&&(this.nodes=new bV)}addEventListener(c,d){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new gy),this.eventHandlers.get(c).add(d)}notifyListeners(c,...d){const g=this.eventHandlers.get(c);g&&g.notify(...d)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=Py(c)&&!RM(c),this.instance=c;const{layoutId:d,layout:g,visualElement:p}=this.options;if(p&&!p.current&&p.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(g||d)&&(this.isLayoutDirty=!0),e){let y,_=0;const b=()=>this.root.updateBlockedByResize=!1;ie.read(()=>{_=window.innerWidth}),e(c,()=>{const C=window.innerWidth;C!==_&&(_=C,this.root.updateBlockedByResize=!0,y&&y(),y=SV(b,250),of.hasAnimatedSinceResize&&(of.hasAnimatedSinceResize=!1,this.nodes.forEach(lb)))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&p&&(d||g)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:_,hasRelativeLayoutChanged:b,layout:C})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const D=this.options.transition||p.getDefaultTransition()||UV,{onLayoutAnimationStart:k,onLayoutAnimationComplete:L}=p.getProps(),H=!this.targetLayout||!$w(this.targetLayout,C),G=!_&&b;if(this.options.layoutRoot||this.resumeFrom||G||_&&(H||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const z={...Ry(D,"layout"),onPlay:k,onComplete:L};(p.shouldReduceMotion||this.options.layoutRoot)&&(z.delay=0,z.type=!1),this.startAnimation(z),this.setAnimationOrigin(y,G)}else _||lb(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=C})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),wr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(PV),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Ww(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const _=this.path[y];_.shouldResetTransform=!0,_.updateScroll("snapshot"),_.options.layoutRoot&&_.willUpdate(!1)}const{layoutId:d,layout:g}=this.options;if(d===void 0&&!g)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(ab);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(ob);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(MV),this.nodes.forEach(CV),this.nodes.forEach(RV)):this.nodes.forEach(ob),this.clearAllSnapshots();const d=dn.now();Ze.delta=Xi(0,1e3/60,d-Ze.timestamp),Ze.timestamp=d,Ze.isProcessing=!0,Rp.update.process(Ze),Rp.preRender.process(Ze),Rp.render.process(Ze),Ze.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Vy.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(NV),this.sharedNodes.forEach(kV)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ie.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ie.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!mn(this.snapshot.measuredBox.x)&&!mn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let g=0;g<this.path.length;g++)this.path[g].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Ue(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(d=!1),d&&this.instance){const g=s(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:g,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:g}}}resetTransform(){if(!a)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!Yw(this.projectionDelta),g=this.getTransformTemplate(),p=g?g(this.latestValues,""):void 0,y=p!==this.prevTransformTemplateValue;c&&this.instance&&(d||ha(this.latestValues)||y)&&(a(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const d=this.measurePageBox();let g=this.removeElementScroll(d);return c&&(g=this.removeTransform(g)),zV(g),{animationId:this.root.animationId,measuredBox:d,layoutBox:g,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:c}=this.options;if(!c)return Ue();const d=c.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(BV))){const{scroll:p}=this.root;p&&(Do(d.x,p.offset.x),Do(d.y,p.offset.y))}return d}removeElementScroll(c){const d=Ue();if(hi(d,c),this.scroll?.wasRoot)return d;for(let g=0;g<this.path.length;g++){const p=this.path[g],{scroll:y,options:_}=p;p!==this.root&&y&&_.layoutScroll&&(y.wasRoot&&hi(d,c),Do(d.x,y.offset.x),Do(d.y,y.offset.y))}return d}applyTransform(c,d=!1){const g=Ue();hi(g,c);for(let p=0;p<this.path.length;p++){const y=this.path[p];!d&&y.options.layoutScroll&&y.scroll&&y!==y.root&&No(g,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),ha(y.latestValues)&&No(g,y.latestValues)}return ha(this.latestValues)&&No(g,this.latestValues),g}removeTransform(c){const d=Ue();hi(d,c);for(let g=0;g<this.path.length;g++){const p=this.path[g];if(!p.instance||!ha(p.latestValues))continue;xg(p.latestValues)&&p.updateSnapshot();const y=Ue(),_=p.measurePageBox();hi(y,_),WE(d,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,y)}return ha(this.latestValues)&&WE(d,this.latestValues),d}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ze.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const g=!!this.resumingFrom||this!==d;if(!(c||g&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:_}=this.options;if(!this.layout||!(y||_))return;this.resolvedRelativeTargetAt=Ze.timestamp;const b=this.getClosestProjectingParent();b&&this.linkedParentVersion!==b.layoutVersion&&!b.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(b&&b.layout?this.createRelativeTarget(b,this.layout.layoutBox,b.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Ue(),this.targetWithTransforms=Ue()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),cV(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):hi(this.target,this.layout.layoutBox),Pw(this.target,this.targetDelta)):hi(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,b&&!!b.resumingFrom==!!this.resumingFrom&&!b.options.layoutScroll&&b.target&&this.animationProgress!==1?this.createRelativeTarget(b,this.target,b.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||xg(this.parent.latestValues)||Ow(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(c,d,g){this.relativeParent=c,this.linkedParentVersion=c.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ue(),this.relativeTargetOrigin=Ue(),Af(this.relativeTargetOrigin,d,g),hi(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const c=this.getLead(),d=!!this.resumingFrom||this!==c;let g=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(g=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(g=!1),this.resolvedRelativeTargetAt===Ze.timestamp&&(g=!1),g)return;const{layout:p,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||y))return;hi(this.layoutCorrected,this.layout.layoutBox);const _=this.treeScale.x,b=this.treeScale.y;UM(this.layoutCorrected,this.treeScale,this.path,d),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=Ue());const{target:C}=c;if(!C){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(GE(this.prevProjectionDelta.x,this.projectionDelta.x),GE(this.prevProjectionDelta.y,this.projectionDelta.y)),wu(this.projectionDelta,this.layoutCorrected,C,this.latestValues),(this.treeScale.x!==_||this.treeScale.y!==b||!nb(this.projectionDelta.x,this.prevProjectionDelta.x)||!nb(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",C))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){if(this.options.visualElement?.scheduleRender(),c){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Io(),this.projectionDelta=Io(),this.projectionDeltaWithTransform=Io()}setAnimationOrigin(c,d=!1){const g=this.snapshot,p=g?g.latestValues:{},y={...this.latestValues},_=Io();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const b=Ue(),C=g?g.source:void 0,D=this.layout?this.layout.source:void 0,k=C!==D,L=this.getStack(),H=!L||L.members.length<=1,G=!!(k&&!H&&this.options.crossfade===!0&&!this.path.some(jV));this.animationProgress=0;let z;this.mixTargetDelta=W=>{const tt=W/1e3;ub(_.x,c.x,tt),ub(_.y,c.y,tt),this.setTargetDelta(_),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Af(b,this.layout.layoutBox,this.relativeParent.layout.layoutBox),LV(this.relativeTarget,this.relativeTargetOrigin,b,tt),z&&mV(this.relativeTarget,z)&&(this.isProjectionDirty=!1),z||(z=Ue()),hi(z,this.relativeTarget)),k&&(this.animationValues=y,yV(y,p,this.latestValues,tt,G,H)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=tt},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(wr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ie.update(()=>{of.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Bo(0)),this.currentAnimation=TV(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),c.onUpdate&&c.onUpdate(d)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(AV),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:d,target:g,layout:p,latestValues:y}=c;if(!(!d||!g||!p)){if(this!==c&&this.layout&&p&&Zw(this.options.animationType,this.layout.layoutBox,p.layoutBox)){g=this.target||Ue();const _=mn(this.layout.layoutBox.x);g.x.min=c.target.x.min,g.x.max=g.x.min+_;const b=mn(this.layout.layoutBox.y);g.y.min=c.target.y.min,g.y.max=g.y.min+b}hi(d,g),No(d,y),wu(this.projectionDeltaWithTransform,this.layoutCorrected,d,y)}}registerSharedNode(c,d){this.sharedNodes.has(c)||this.sharedNodes.set(c,new wV),this.sharedNodes.get(c).add(d);const p=d.options.initialPromotionConfig;d.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(d):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){const{layoutId:c}=this.options;return c?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:c}=this.options;return c?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:d,preserveFollowOpacity:g}={}){const p=this.getStack();p&&p.promote(this,g),c&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let d=!1;const{latestValues:g}=c;if((g.z||g.rotate||g.rotateX||g.rotateY||g.rotateZ||g.skewX||g.skewY)&&(d=!0),!d)return;const p={};g.z&&Lp("z",c,p,this.animationValues);for(let y=0;y<kp.length;y++)Lp(`rotate${kp[y]}`,c,p,this.animationValues),Lp(`skew${kp[y]}`,c,p,this.animationValues);c.render();for(const y in p)c.setStaticValue(y,p[y]),this.animationValues&&(this.animationValues[y]=p[y]);c.scheduleRender()}applyProjectionStyles(c,d){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const g=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=af(d?.pointerEvents)||"",c.transform=g?g(this.latestValues,""):"none";return}const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=af(d?.pointerEvents)||""),this.hasProjected&&!ha(this.latestValues)&&(c.transform=g?g({},""):"none",this.hasProjected=!1);return}c.visibility="";const y=p.animationValues||p.latestValues;this.applyTransformsToTarget();let _=pV(this.projectionDeltaWithTransform,this.treeScale,y);g&&(_=g(y,_)),c.transform=_;const{x:b,y:C}=this.projectionDelta;c.transformOrigin=`${b.origin*100}% ${C.origin*100}% 0`,p.animationValues?c.opacity=p===this?y.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:c.opacity=p===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const D in Rg){if(y[D]===void 0)continue;const{correct:k,applyTo:L,isCSSVariable:H}=Rg[D],G=_==="none"?y[D]:k(y[D],p);if(L){const z=L.length;for(let W=0;W<z;W++)c[L[W]]=G}else H?this.options.visualElement.renderState.vars[D]=G:c[D]=G}this.options.layoutId&&(c.pointerEvents=p===this?af(d?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>c.currentAnimation?.stop()),this.root.nodes.forEach(ab),this.root.sharedNodes.clear()}}}function CV(e){e.updateLayout()}function RV(e){const t=e.resumeFrom?.snapshot||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=e.layout,{animationType:a}=e.options,l=t.source!==e.layout.source;a==="size"?Fi(y=>{const _=l?t.measuredBox[y]:t.layoutBox[y],b=mn(_);_.min=n[y].min,_.max=_.min+b}):Zw(a,t.layoutBox,n)&&Fi(y=>{const _=l?t.measuredBox[y]:t.layoutBox[y],b=mn(n[y]);_.max=_.min+b,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[y].max=e.relativeTarget[y].min+b)});const c=Io();wu(c,n,t.layoutBox);const d=Io();l?wu(d,e.applyTransform(s,!0),t.measuredBox):wu(d,n,t.layoutBox);const g=!Yw(c);let p=!1;if(!e.resumeFrom){const y=e.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:_,layout:b}=y;if(_&&b){const C=Ue();Af(C,t.layoutBox,_.layoutBox);const D=Ue();Af(D,n,b.layoutBox),$w(C,D)||(p=!0),y.options.layoutRoot&&(e.relativeTarget=D,e.relativeTargetOrigin=C,e.relativeParent=y)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:d,layoutDelta:c,hasLayoutChanged:g,hasRelativeLayoutChanged:p})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function IV(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function DV(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function NV(e){e.clearSnapshot()}function ab(e){e.clearMeasurements()}function ob(e){e.isLayoutDirty=!1}function MV(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function lb(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function VV(e){e.resolveTargetDelta()}function OV(e){e.calcProjection()}function PV(e){e.resetSkewAndRotation()}function kV(e){e.removeLeadSnapshot()}function ub(e,t,n){e.translate=de(t.translate,0,n),e.scale=de(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function cb(e,t,n,s){e.min=de(t.min,n.min,s),e.max=de(t.max,n.max,s)}function LV(e,t,n,s){cb(e.x,t.x,n.x,s),cb(e.y,t.y,n.y,s)}function jV(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const UV={duration:.45,ease:[.4,0,.1,1]},hb=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),fb=hb("applewebkit/")&&!hb("chrome/")?Math.round:Wn;function db(e){e.min=fb(e.min),e.max=fb(e.max)}function zV(e){db(e.x),db(e.y)}function Zw(e,t,n){return e==="position"||e==="preserve-aspect"&&!uV(eb(t),eb(n),.2)}function BV(e){return e!==e.root&&e.scroll?.wasRoot}const FV=Jw({attachResizeListener:(e,t)=>Lu(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body?.scrollLeft||0,y:document.documentElement.scrollTop||document.body?.scrollTop||0}),checkIsScrollRoot:()=>!0}),jp={current:void 0},tA=Jw({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!jp.current){const e=new FV({});e.mount(window),e.setOptions({layoutScroll:!0}),jp.current=e}return jp.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),zy=O.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function mb(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function HV(...e){return t=>{let n=!1;const s=e.map(a=>{const l=mb(a,t);return!n&&typeof l=="function"&&(n=!0),l});if(n)return()=>{for(let a=0;a<s.length;a++){const l=s[a];typeof l=="function"?l():mb(e[a],null)}}}}function qV(...e){return O.useCallback(HV(...e),e)}class GV extends O.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent&&this.props.pop!==!1){const s=n.offsetParent,a=wg(s)&&s.offsetWidth||0,l=wg(s)&&s.offsetHeight||0,c=this.props.sizeRef.current;c.height=n.offsetHeight||0,c.width=n.offsetWidth||0,c.top=n.offsetTop,c.left=n.offsetLeft,c.right=a-c.width-c.left,c.bottom=l-c.height-c.top}return null}componentDidUpdate(){}render(){return this.props.children}}function KV({children:e,isPresent:t,anchorX:n,anchorY:s,root:a,pop:l}){const c=O.useId(),d=O.useRef(null),g=O.useRef({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:p}=O.useContext(zy),y=e.props?.ref??e?.ref,_=qV(d,y);return O.useInsertionEffect(()=>{const{width:b,height:C,top:D,left:k,right:L,bottom:H}=g.current;if(t||l===!1||!d.current||!b||!C)return;const G=n==="left"?`left: ${k}`:`right: ${L}`,z=s==="bottom"?`bottom: ${H}`:`top: ${D}`;d.current.dataset.motionPopId=c;const W=document.createElement("style");p&&(W.nonce=p);const tt=a??document.head;return tt.appendChild(W),W.sheet&&W.sheet.insertRule(`
          [data-motion-pop-id="${c}"] {
            position: absolute !important;
            width: ${b}px !important;
            height: ${C}px !important;
            ${G}px !important;
            ${z}px !important;
          }
        `),()=>{tt.contains(W)&&tt.removeChild(W)}},[t]),S.jsx(GV,{isPresent:t,childRef:d,sizeRef:g,pop:l,children:l===!1?e:O.cloneElement(e,{ref:_})})}const YV=({children:e,initial:t,isPresent:n,onExitComplete:s,custom:a,presenceAffectsLayout:l,mode:c,anchorX:d,anchorY:g,root:p})=>{const y=fy($V),_=O.useId();let b=!0,C=O.useMemo(()=>(b=!1,{id:_,initial:t,isPresent:n,custom:a,onExitComplete:D=>{y.set(D,!0);for(const k of y.values())if(!k)return;s&&s()},register:D=>(y.set(D,!1),()=>y.delete(D))}),[n,y,s]);return l&&b&&(C={...C}),O.useMemo(()=>{y.forEach((D,k)=>y.set(k,!1))},[n]),O.useEffect(()=>{!n&&!y.size&&s&&s()},[n]),e=S.jsx(KV,{pop:c==="popLayout",isPresent:n,anchorX:d,anchorY:g,root:p,children:e}),S.jsx(Wf.Provider,{value:C,children:e})};function $V(){return new Map}function eA(e=!0){const t=O.useContext(Wf);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:a}=t,l=O.useId();O.useEffect(()=>{if(e)return a(l)},[e]);const c=O.useCallback(()=>e&&s&&s(l),[l,s,e]);return!n&&s?[!1,c]:[!0]}const Hh=e=>e.key||"";function pb(e){const t=[];return O.Children.forEach(e,n=>{O.isValidElement(n)&&t.push(n)}),t}const nA=({children:e,custom:t,initial:n=!0,onExitComplete:s,presenceAffectsLayout:a=!0,mode:l="sync",propagate:c=!1,anchorX:d="left",anchorY:g="top",root:p})=>{const[y,_]=eA(c),b=O.useMemo(()=>pb(e),[e]),C=c&&!y?[]:b.map(Hh),D=O.useRef(!0),k=O.useRef(b),L=fy(()=>new Map),H=O.useRef(new Set),[G,z]=O.useState(b),[W,tt]=O.useState(b);NS(()=>{D.current=!1,k.current=b;for(let A=0;A<W.length;A++){const I=Hh(W[A]);C.includes(I)?(L.delete(I),H.current.delete(I)):L.get(I)!==!0&&L.set(I,!1)}},[W,C.length,C.join("-")]);const rt=[];if(b!==G){let A=[...b];for(let I=0;I<W.length;I++){const P=W[I],V=Hh(P);C.includes(V)||(A.splice(I,0,P),rt.push(P))}return l==="wait"&&rt.length&&(A=rt),tt(pb(A)),z(b),null}const{forceRender:R}=O.useContext(hy);return S.jsx(S.Fragment,{children:W.map(A=>{const I=Hh(A),P=c&&!y?!1:b===W||C.includes(I),V=()=>{if(H.current.has(I))return;if(H.current.add(I),L.has(I))L.set(I,!0);else return;let F=!0;L.forEach(N=>{N||(F=!1)}),F&&(R?.(),tt(k.current),c&&_?.(),s&&s())};return S.jsx(YV,{isPresent:P,initial:!D.current||n?void 0:!1,custom:t,presenceAffectsLayout:a,mode:l,root:p,onExitComplete:P?void 0:V,anchorX:d,anchorY:g,children:A},I)})})},iA=O.createContext({strict:!1}),gb={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let yb=!1;function QV(){if(yb)return;const e={};for(const t in gb)e[t]={isEnabled:n=>gb[t].some(s=>!!n[s])};Nw(e),yb=!0}function sA(){return QV(),PM()}function XV(e){const t=sA();for(const n in e)t[n]={...t[n],...e[n]};Nw(t)}const WV=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","propagate","ignoreStrict","viewport"]);function xf(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||WV.has(e)}let rA=e=>!xf(e);function JV(e){typeof e=="function"&&(rA=t=>t.startsWith("on")?!xf(t):e(t))}try{JV(require("@emotion/is-prop-valid").default)}catch{}function ZV(e,t,n){const s={};for(const a in e)a==="values"&&typeof e.values=="object"||(rA(a)||n===!0&&xf(a)||!t&&!xf(a)||e.draggable&&a.startsWith("onDrag"))&&(s[a]=e[a]);return s}const td=O.createContext({});function tO(e,t){if(Zf(e)){const{initial:n,animate:s}=e;return{initial:n===!1||ku(n)?n:void 0,animate:ku(s)?s:void 0}}return e.inherit!==!1?t:{}}function eO(e){const{initial:t,animate:n}=tO(e,O.useContext(td));return O.useMemo(()=>({initial:t,animate:n}),[vb(t),vb(n)])}function vb(e){return Array.isArray(e)?e.join(" "):e}const By=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function aA(e,t,n){for(const s in t)!ln(t[s])&&!jw(s,n)&&(e[s]=t[s])}function nO({transformTemplate:e},t){return O.useMemo(()=>{const n=By();return jy(n,t,e),Object.assign({},n.vars,n.style)},[t])}function iO(e,t){const n=e.style||{},s={};return aA(s,n,e),Object.assign(s,nO(e,t)),s}function sO(e,t){const n={},s=iO(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=s,n}const oA=()=>({...By(),attrs:{}});function rO(e,t,n,s){const a=O.useMemo(()=>{const l=oA();return Uw(l,t,Bw(s),e.transformTemplate,e.style),{...l.attrs,style:{...l.style}}},[t]);if(e.style){const l={};aA(l,e.style,e),a.style={...l,...a.style}}return a}const aO=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Fy(e){return typeof e!="string"||e.includes("-")?!1:!!(aO.indexOf(e)>-1||/[A-Z]/u.test(e))}function oO(e,t,n,{latestValues:s},a,l=!1,c){const g=(c??Fy(e)?rO:sO)(t,s,a,e),p=ZV(t,typeof e=="string",l),y=e!==O.Fragment?{...p,...g,ref:n}:{},{children:_}=t,b=O.useMemo(()=>ln(_)?_.get():_,[_]);return O.createElement(e,{...y,children:b})}function lO({scrapeMotionValuesFromProps:e,createRenderState:t},n,s,a){return{latestValues:uO(n,s,a,e),renderState:t()}}function uO(e,t,n,s){const a={},l=s(e,{});for(const b in l)a[b]=af(l[b]);let{initial:c,animate:d}=e;const g=Zf(e),p=Iw(e);t&&p&&!g&&e.inherit!==!1&&(c===void 0&&(c=t.initial),d===void 0&&(d=t.animate));let y=n?n.initial===!1:!1;y=y||c===!1;const _=y?d:c;if(_&&typeof _!="boolean"&&!Jf(_)){const b=Array.isArray(_)?_:[_];for(let C=0;C<b.length;C++){const D=Dy(e,b[C]);if(D){const{transitionEnd:k,transition:L,...H}=D;for(const G in H){let z=H[G];if(Array.isArray(z)){const W=y?z.length-1:0;z=z[W]}z!==null&&(a[G]=z)}for(const G in k)a[G]=k[G]}}}return a}const lA=e=>(t,n)=>{const s=O.useContext(td),a=O.useContext(Wf),l=()=>lO(e,t,s,a);return n?l():fy(l)},cO=lA({scrapeMotionValuesFromProps:Uy,createRenderState:By}),hO=lA({scrapeMotionValuesFromProps:Fw,createRenderState:oA}),fO=Symbol.for("motionComponentSymbol");function dO(e,t,n){const s=O.useRef(n);O.useInsertionEffect(()=>{s.current=n});const a=O.useRef(null);return O.useCallback(l=>{l&&e.onMount?.(l),t&&(l?t.mount(l):t.unmount());const c=s.current;if(typeof c=="function")if(l){const d=c(l);typeof d=="function"&&(a.current=d)}else a.current?(a.current(),a.current=null):c(l);else c&&(c.current=l)},[t])}const uA=O.createContext({});function bo(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function mO(e,t,n,s,a,l){const{visualElement:c}=O.useContext(td),d=O.useContext(iA),g=O.useContext(Wf),p=O.useContext(zy),y=p.reducedMotion,_=p.skipAnimations,b=O.useRef(null),C=O.useRef(!1);s=s||d.renderer,!b.current&&s&&(b.current=s(e,{visualState:t,parent:c,props:n,presenceContext:g,blockInitialAnimation:g?g.initial===!1:!1,reducedMotionConfig:y,skipAnimations:_,isSVG:l}),C.current&&b.current&&(b.current.manuallyAnimateOnMount=!0));const D=b.current,k=O.useContext(uA);D&&!D.projection&&a&&(D.type==="html"||D.type==="svg")&&pO(b.current,n,a,k);const L=O.useRef(!1);O.useInsertionEffect(()=>{D&&L.current&&D.update(n,g)});const H=n[gw],G=O.useRef(!!H&&!window.MotionHandoffIsComplete?.(H)&&window.MotionHasOptimisedAnimation?.(H));return NS(()=>{C.current=!0,D&&(L.current=!0,window.MotionIsMounted=!0,D.updateFeatures(),D.scheduleRenderMicrotask(),G.current&&D.animationState&&D.animationState.animateChanges())}),O.useEffect(()=>{D&&(!G.current&&D.animationState&&D.animationState.animateChanges(),G.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(H)}),G.current=!1),D.enteringChildren=void 0)}),D}function pO(e,t,n,s){const{layoutId:a,layout:l,drag:c,dragConstraints:d,layoutScroll:g,layoutRoot:p,layoutCrossfade:y}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:cA(e.parent)),e.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!c||d&&bo(d),visualElement:e,animationType:typeof l=="string"?l:"both",initialPromotionConfig:s,crossfade:y,layoutScroll:g,layoutRoot:p})}function cA(e){if(e)return e.options.allowProjection!==!1?e.projection:cA(e.parent)}function Up(e,{forwardMotionProps:t=!1,type:n}={},s,a){s&&XV(s);const l=n?n==="svg":Fy(e),c=l?hO:cO;function d(p,y){let _;const b={...O.useContext(zy),...p,layoutId:gO(p)},{isStatic:C}=b,D=eO(p),k=c(p,C);if(!C&&DS){yO();const L=vO(b);_=L.MeasureLayout,D.visualElement=mO(e,k,b,a,L.ProjectionNode,l)}return S.jsxs(td.Provider,{value:D,children:[_&&D.visualElement?S.jsx(_,{visualElement:D.visualElement,...b}):null,oO(e,p,dO(k,D.visualElement,y),k,C,t,l)]})}d.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const g=O.forwardRef(d);return g[fO]=e,g}function gO({layoutId:e}){const t=O.useContext(hy).id;return t&&e!==void 0?t+"-"+e:e}function yO(e,t){O.useContext(iA).strict}function vO(e){const t=sA(),{drag:n,layout:s}=t;if(!n&&!s)return{};const a={...n,...s};return{MeasureLayout:n?.isEnabled(e)||s?.isEnabled(e)?a.MeasureLayout:void 0,ProjectionNode:a.ProjectionNode}}function _O(e,t){if(typeof Proxy>"u")return Up;const n=new Map,s=(l,c)=>Up(l,c,e,t),a=(l,c)=>s(l,c);return new Proxy(a,{get:(l,c)=>c==="create"?s:(n.has(c)||n.set(c,Up(c,void 0,e,t)),n.get(c))})}const TO=(e,t)=>t.isSVG??Fy(e)?new JM(t):new KM(t,{allowProjection:e!==O.Fragment});class EO extends Mr{constructor(t){super(t),t.animationState||(t.animationState=iV(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Jf(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let bO=0;class SO extends Mr{constructor(){super(...arguments),this.id=bO++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===s)return;const a=this.node.animationState.setActive("exit",!t);n&&!t&&a.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const wO={animation:{Feature:EO},exit:{Feature:SO}};function Zu(e){return{point:{x:e.pageX,y:e.pageY}}}const AO=e=>t=>Oy(t)&&e(t,Zu(t));function Au(e,t,n,s){return Lu(e,t,AO(n),s)}const hA=({current:e})=>e?e.ownerDocument.defaultView:null,_b=(e,t)=>Math.abs(e-t);function xO(e,t){const n=_b(e.x,t.x),s=_b(e.y,t.y);return Math.sqrt(n**2+s**2)}const Tb=new Set(["auto","scroll"]);class fA{constructor(t,n,{transformPagePoint:s,contextWindow:a=window,dragSnapToOrigin:l=!1,distanceThreshold:c=3,element:d}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=C=>{this.handleScroll(C.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const C=Bp(this.lastMoveEventInfo,this.history),D=this.startEvent!==null,k=xO(C.offset,{x:0,y:0})>=this.distanceThreshold;if(!D&&!k)return;const{point:L}=C,{timestamp:H}=Ze;this.history.push({...L,timestamp:H});const{onStart:G,onMove:z}=this.handlers;D||(G&&G(this.lastMoveEvent,C),this.startEvent=this.lastMoveEvent),z&&z(this.lastMoveEvent,C)},this.handlePointerMove=(C,D)=>{this.lastMoveEvent=C,this.lastMoveEventInfo=zp(D,this.transformPagePoint),ie.update(this.updatePoint,!0)},this.handlePointerUp=(C,D)=>{this.end();const{onEnd:k,onSessionEnd:L,resumeAnimation:H}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&H&&H(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const G=Bp(C.type==="pointercancel"?this.lastMoveEventInfo:zp(D,this.transformPagePoint),this.history);this.startEvent&&k&&k(C,G),L&&L(C,G)},!Oy(t))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=s,this.distanceThreshold=c,this.contextWindow=a||window;const g=Zu(t),p=zp(g,this.transformPagePoint),{point:y}=p,{timestamp:_}=Ze;this.history=[{...y,timestamp:_}];const{onSessionStart:b}=n;b&&b(t,Bp(p,this.history)),this.removeListeners=Xu(Au(this.contextWindow,"pointermove",this.handlePointerMove),Au(this.contextWindow,"pointerup",this.handlePointerUp),Au(this.contextWindow,"pointercancel",this.handlePointerUp)),d&&this.startScrollTracking(d)}startScrollTracking(t){let n=t.parentElement;for(;n;){const s=getComputedStyle(n);(Tb.has(s.overflowX)||Tb.has(s.overflowY))&&this.scrollPositions.set(n,{x:n.scrollLeft,y:n.scrollTop}),n=n.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(t){const n=this.scrollPositions.get(t);if(!n)return;const s=t===window,a=s?{x:window.scrollX,y:window.scrollY}:{x:t.scrollLeft,y:t.scrollTop},l={x:a.x-n.x,y:a.y-n.y};l.x===0&&l.y===0||(s?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=l.x,this.lastMoveEventInfo.point.y+=l.y):this.history.length>0&&(this.history[0].x-=l.x,this.history[0].y-=l.y),this.scrollPositions.set(t,a),ie.update(this.updatePoint,!0))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),wr(this.updatePoint)}}function zp(e,t){return t?{point:t(e.point)}:e}function Eb(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Bp({point:e},t){return{point:e,delta:Eb(e,dA(t)),offset:Eb(e,CO(t)),velocity:RO(t,.1)}}function CO(e){return e[0]}function dA(e){return e[e.length-1]}function RO(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,s=null;const a=dA(e);for(;n>=0&&(s=e[n],!(a.timestamp-s.timestamp>gi(t)));)n--;if(!s)return{x:0,y:0};s===e[0]&&e.length>2&&a.timestamp-s.timestamp>gi(t)*2&&(s=e[1]);const l=Xn(a.timestamp-s.timestamp);if(l===0)return{x:0,y:0};const c={x:(a.x-s.x)/l,y:(a.y-s.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function IO(e,{min:t,max:n},s){return t!==void 0&&e<t?e=s?de(t,e,s.min):Math.max(e,t):n!==void 0&&e>n&&(e=s?de(n,e,s.max):Math.min(e,n)),e}function bb(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function DO(e,{top:t,left:n,bottom:s,right:a}){return{x:bb(e.x,n,a),y:bb(e.y,t,s)}}function Sb(e,t){let n=t.min-e.min,s=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,s]=[s,n]),{min:n,max:s}}function NO(e,t){return{x:Sb(e.x,t.x),y:Sb(e.y,t.y)}}function MO(e,t){let n=.5;const s=mn(e),a=mn(t);return a>s?n=Vu(t.min,t.max-s,e.min):s>a&&(n=Vu(e.min,e.max-a,t.min)),Xi(0,1,n)}function VO(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const Ig=.35;function OO(e=Ig){return e===!1?e=0:e===!0&&(e=Ig),{x:wb(e,"left","right"),y:wb(e,"top","bottom")}}function wb(e,t,n){return{min:Ab(e,t),max:Ab(e,n)}}function Ab(e,t){return typeof e=="number"?e:e[t]||0}const PO=new WeakMap;class kO{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ue(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:s}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const l=_=>{n&&this.snapToCursor(Zu(_).point),this.stopAnimation()},c=(_,b)=>{const{drag:C,dragPropagation:D,onDragStart:k}=this.getProps();if(C&&!D&&(this.openDragLock&&this.openDragLock(),this.openDragLock=hM(C),!this.openDragLock))return;this.latestPointerEvent=_,this.latestPanInfo=b,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Fi(H=>{let G=this.getAxisMotionValue(H).get()||0;if(qi.test(G)){const{projection:z}=this.visualElement;if(z&&z.layout){const W=z.layout.layoutBox[H];W&&(G=mn(W)*(parseFloat(G)/100))}}this.originPoint[H]=G}),k&&ie.update(()=>k(_,b),!1,!0),Eg(this.visualElement,"transform");const{animationState:L}=this.visualElement;L&&L.setActive("whileDrag",!0)},d=(_,b)=>{this.latestPointerEvent=_,this.latestPanInfo=b;const{dragPropagation:C,dragDirectionLock:D,onDirectionLock:k,onDrag:L}=this.getProps();if(!C&&!this.openDragLock)return;const{offset:H}=b;if(D&&this.currentDirection===null){this.currentDirection=jO(H),this.currentDirection!==null&&k&&k(this.currentDirection);return}this.updateAxis("x",b.point,H),this.updateAxis("y",b.point,H),this.visualElement.render(),L&&ie.update(()=>L(_,b),!1,!0)},g=(_,b)=>{this.latestPointerEvent=_,this.latestPanInfo=b,this.stop(_,b),this.latestPointerEvent=null,this.latestPanInfo=null},p=()=>{const{dragSnapToOrigin:_}=this.getProps();(_||this.constraints)&&this.startAnimation({x:0,y:0})},{dragSnapToOrigin:y}=this.getProps();this.panSession=new fA(t,{onSessionStart:l,onStart:c,onMove:d,onSessionEnd:g,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:y,distanceThreshold:s,contextWindow:hA(this.visualElement),element:this.visualElement.current})}stop(t,n){const s=t||this.latestPointerEvent,a=n||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!a||!s)return;const{velocity:c}=a;this.startAnimation(c);const{onDragEnd:d}=this.getProps();d&&ie.postRender(()=>d(s,a))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.endPanSession();const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(t,n,s){const{drag:a}=this.getProps();if(!s||!qh(t,a,this.currentDirection))return;const l=this.getAxisMotionValue(t);let c=this.originPoint[t]+s[t];this.constraints&&this.constraints[t]&&(c=IO(c,this.constraints[t],this.elastic[t])),l.set(c)}resolveConstraints(){const{dragConstraints:t,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;t&&bo(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&s?this.constraints=DO(s.layoutBox,t):this.constraints=!1,this.elastic=OO(n),a!==this.constraints&&!bo(t)&&s&&this.constraints&&!this.hasMutatedConstraints&&Fi(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=VO(s.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!bo(t))return!1;const s=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=zM(s,a.root,this.visualElement.getTransformPagePoint());let c=NO(a.layout.layoutBox,l);if(n){const d=n(LM(c));this.hasMutatedConstraints=!!d,d&&(c=Vw(d))}return c}startAnimation(t){const{drag:n,dragMomentum:s,dragElastic:a,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:d}=this.getProps(),g=this.constraints||{},p=Fi(y=>{if(!qh(y,n,this.currentDirection))return;let _=g&&g[y]||{};c&&(_={min:0,max:0});const b=a?200:1e6,C=a?40:1e7,D={type:"inertia",velocity:s?t[y]:0,bounceStiffness:b,bounceDamping:C,timeConstant:750,restDelta:1,restSpeed:10,...l,..._};return this.startAxisValueAnimation(y,D)});return Promise.all(p).then(d)}startAxisValueAnimation(t,n){const s=this.getAxisMotionValue(t);return Eg(this.visualElement,t),s.start(Iy(t,s,0,n,this.visualElement,!1))}stopAnimation(){Fi(t=>this.getAxisMotionValue(t).stop())}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,s=this.visualElement.getProps(),a=s[n];return a||this.visualElement.getValue(t,(s.initial?s.initial[t]:void 0)||0)}snapToCursor(t){Fi(n=>{const{drag:s}=this.getProps();if(!qh(n,s,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(n);if(a&&a.layout){const{min:c,max:d}=a.layout.layoutBox[n],g=l.get()||0;l.set(t[n]-de(c,d,.5)+g)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!bo(n)||!s||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};Fi(c=>{const d=this.getAxisMotionValue(c);if(d&&this.constraints!==!1){const g=d.get();a[c]=MO({min:g,max:g},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.constraints=!1,this.resolveConstraints(),Fi(c=>{if(!qh(c,t,null))return;const d=this.getAxisMotionValue(c),{min:g,max:p}=this.constraints[c];d.set(de(g,p,a[c]))}),this.visualElement.render()}addListeners(){if(!this.visualElement.current)return;PO.set(this.visualElement,this);const t=this.visualElement.current,n=Au(t,"pointerdown",p=>{const{drag:y,dragListener:_=!0}=this.getProps(),b=p.target,C=b!==t&&yM(b);y&&_&&!C&&this.start(p)});let s;const a=()=>{const{dragConstraints:p}=this.getProps();bo(p)&&p.current&&(this.constraints=this.resolveRefConstraints(),s||(s=LO(t,p.current,()=>this.scalePositionWithinConstraints())))},{projection:l}=this.visualElement,c=l.addEventListener("measure",a);l&&!l.layout&&(l.root&&l.root.updateScroll(),l.updateLayout()),ie.read(a);const d=Lu(window,"resize",()=>this.scalePositionWithinConstraints()),g=l.addEventListener("didUpdate",(({delta:p,hasLayoutChanged:y})=>{this.isDragging&&y&&(Fi(_=>{const b=this.getAxisMotionValue(_);b&&(this.originPoint[_]+=p[_].translate,b.set(b.get()+p[_].translate))}),this.visualElement.render())}));return()=>{d(),n(),c(),g&&g(),s&&s()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:c=Ig,dragMomentum:d=!0}=t;return{...t,drag:n,dragDirectionLock:s,dragPropagation:a,dragConstraints:l,dragElastic:c,dragMomentum:d}}}function xb(e){let t=!0;return()=>{if(t){t=!1;return}e()}}function LO(e,t,n){const s=VE(e,xb(n)),a=VE(t,xb(n));return()=>{s(),a()}}function qh(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function jO(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class UO extends Mr{constructor(t){super(t),this.removeGroupControls=Wn,this.removeListeners=Wn,this.controls=new kO(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Wn}update(){const{dragControls:t}=this.node.getProps(),{dragControls:n}=this.node.prevProps||{};t!==n&&(this.removeGroupControls(),t&&(this.removeGroupControls=t.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.isDragging||this.controls.endPanSession()}}const Fp=e=>(t,n)=>{e&&ie.update(()=>e(t,n),!1,!0)};class zO extends Mr{constructor(){super(...arguments),this.removePointerDownListener=Wn}onPointerDown(t){this.session=new fA(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:hA(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:s,onPanEnd:a}=this.node.getProps();return{onSessionStart:Fp(t),onStart:Fp(n),onMove:Fp(s),onEnd:(l,c)=>{delete this.session,a&&ie.postRender(()=>a(l,c))}}}mount(){this.removePointerDownListener=Au(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let Hp=!1;class BO extends O.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s,layoutId:a}=this.props,{projection:l}=t;l&&(n.group&&n.group.add(l),s&&s.register&&a&&s.register(l),Hp&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,layoutDependency:this.props.layoutDependency,onExitComplete:()=>this.safeToRemove()})),of.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:s,drag:a,isPresent:l}=this.props,{projection:c}=s;return c&&(c.isPresent=l,t.layoutDependency!==n&&c.setOptions({...c.options,layoutDependency:n}),Hp=!0,a||t.layoutDependency!==n||n===void 0||t.isPresent!==l?c.willUpdate():this.safeToRemove(),t.isPresent!==l&&(l?c.promote():c.relegate()||ie.postRender(()=>{const d=c.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Vy.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:a}=t;Hp=!0,a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),s&&s.deregister&&s.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function mA(e){const[t,n]=eA(),s=O.useContext(hy);return S.jsx(BO,{...e,layoutGroup:s,switchLayoutGroup:O.useContext(uA),isPresent:t,safeToRemove:n})}const FO={pan:{Feature:zO},drag:{Feature:UO,ProjectionNode:tA,MeasureLayout:mA}};function Cb(e,t,n){const{props:s}=e;e.animationState&&s.whileHover&&e.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,l=s[a];l&&ie.postRender(()=>l(t,Zu(t)))}class HO extends Mr{mount(){const{current:t}=this.node;t&&(this.unmount=dM(t,(n,s)=>(Cb(this.node,s,"Start"),a=>Cb(this.node,a,"End"))))}unmount(){}}class qO extends Mr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Xu(Lu(this.node.current,"focus",()=>this.onFocus()),Lu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Rb(e,t,n){const{props:s}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&s.whileTap&&e.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),l=s[a];l&&ie.postRender(()=>l(t,Zu(t)))}class GO extends Mr{mount(){const{current:t}=this.node;if(!t)return;const{globalTapTarget:n,propagate:s}=this.node.props;this.unmount=_M(t,(a,l)=>(Rb(this.node,l,"Start"),(c,{success:d})=>Rb(this.node,c,d?"End":"Cancel")),{useGlobalTarget:n,stopPropagation:s?.tap===!1})}unmount(){}}const Dg=new WeakMap,qp=new WeakMap,KO=e=>{const t=Dg.get(e.target);t&&t(e)},YO=e=>{e.forEach(KO)};function $O({root:e,...t}){const n=e||document;qp.has(n)||qp.set(n,{});const s=qp.get(n),a=JSON.stringify(t);return s[a]||(s[a]=new IntersectionObserver(YO,{root:e,...t})),s[a]}function QO(e,t,n){const s=$O(t);return Dg.set(e,n),s.observe(e),()=>{Dg.delete(e),s.unobserve(e)}}const XO={some:0,all:1};class WO extends Mr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:s,amount:a="some",once:l}=t,c={root:n?n.current:void 0,rootMargin:s,threshold:typeof a=="number"?a:XO[a]},d=g=>{const{isIntersecting:p}=g;if(this.isInView===p||(this.isInView=p,l&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:y,onViewportLeave:_}=this.node.getProps(),b=p?y:_;b&&b(g)};return QO(this.node.current,c,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(JO(t,n))&&this.startObserver()}unmount(){}}function JO({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const ZO={inView:{Feature:WO},tap:{Feature:GO},focus:{Feature:qO},hover:{Feature:HO}},tP={layout:{ProjectionNode:tA,MeasureLayout:mA}},eP={...wO,...ZO,...FO,...tP},qt=_O(eP,TO),nP=()=>{};var Ib={};const pA=function(e){const t=[];let n=0;for(let s=0;s<e.length;s++){let a=e.charCodeAt(s);a<128?t[n++]=a:a<2048?(t[n++]=a>>6|192,t[n++]=a&63|128):(a&64512)===55296&&s+1<e.length&&(e.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(e.charCodeAt(++s)&1023),t[n++]=a>>18|240,t[n++]=a>>12&63|128,t[n++]=a>>6&63|128,t[n++]=a&63|128):(t[n++]=a>>12|224,t[n++]=a>>6&63|128,t[n++]=a&63|128)}return t},iP=function(e){const t=[];let n=0,s=0;for(;n<e.length;){const a=e[n++];if(a<128)t[s++]=String.fromCharCode(a);else if(a>191&&a<224){const l=e[n++];t[s++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=e[n++],c=e[n++],d=e[n++],g=((a&7)<<18|(l&63)<<12|(c&63)<<6|d&63)-65536;t[s++]=String.fromCharCode(55296+(g>>10)),t[s++]=String.fromCharCode(56320+(g&1023))}else{const l=e[n++],c=e[n++];t[s++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return t.join("")},gA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<e.length;a+=3){const l=e[a],c=a+1<e.length,d=c?e[a+1]:0,g=a+2<e.length,p=g?e[a+2]:0,y=l>>2,_=(l&3)<<4|d>>4;let b=(d&15)<<2|p>>6,C=p&63;g||(C=64,c||(b=64)),s.push(n[y],n[_],n[b],n[C])}return s.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(pA(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):iP(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<e.length;){const l=n[e.charAt(a++)],d=a<e.length?n[e.charAt(a)]:0;++a;const p=a<e.length?n[e.charAt(a)]:64;++a;const _=a<e.length?n[e.charAt(a)]:64;if(++a,l==null||d==null||p==null||_==null)throw new sP;const b=l<<2|d>>4;if(s.push(b),p!==64){const C=d<<4&240|p>>2;if(s.push(C),_!==64){const D=p<<6&192|_;s.push(D)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class sP extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const rP=function(e){const t=pA(e);return gA.encodeByteArray(t,!0)},Cf=function(e){return rP(e).replace(/\./g,"")},yA=function(e){try{return gA.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function aP(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const oP=()=>aP().__FIREBASE_DEFAULTS__,lP=()=>{if(typeof process>"u"||typeof Ib>"u")return;const e=Ib.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},uP=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&yA(e[1]);return t&&JSON.parse(t)},ed=()=>{try{return nP()||oP()||lP()||uP()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},vA=e=>ed()?.emulatorHosts?.[e],cP=e=>{const t=vA(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),s]:[t.substring(0,n),s]},_A=()=>ed()?.config,TA=e=>ed()?.[`_${e}`];class hP{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,s))}}}function el(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}async function EA(e){return(await fetch(e,{credentials:"include"})).ok}function fP(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=t||"demo-project",a=e.iat||0,l=e.sub||e.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...e};return[Cf(JSON.stringify(n)),Cf(JSON.stringify(c)),""].join(".")}const xu={};function dP(){const e={prod:[],emulator:[]};for(const t of Object.keys(xu))xu[t]?e.emulator.push(t):e.prod.push(t);return e}function mP(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}let Db=!1;function bA(e,t){if(typeof window>"u"||typeof document>"u"||!el(window.location.host)||xu[e]===t||xu[e]||Db)return;xu[e]=t;function n(b){return`__firebase__banner__${b}`}const s="__firebase__banner",l=dP().prod.length>0;function c(){const b=document.getElementById(s);b&&b.remove()}function d(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function g(b,C){b.setAttribute("width","24"),b.setAttribute("id",C),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function p(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{Db=!0,c()},b}function y(b,C){b.setAttribute("id",C),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function _(){const b=mP(s),C=n("text"),D=document.getElementById(C)||document.createElement("span"),k=n("learnmore"),L=document.getElementById(k)||document.createElement("a"),H=n("preprendIcon"),G=document.getElementById(H)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const z=b.element;d(z),y(L,k);const W=p();g(G,H),z.append(G,D,L,W),document.body.appendChild(z)}l?(D.innerText="Preview backend disconnected.",G.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(G.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,D.innerText="Preview backend running in this workspace."),D.setAttribute("id",C)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}function un(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function pP(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(un())}function gP(){const e=ed()?.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function yP(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function vP(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function _P(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function TP(){const e=un();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function EP(){return!gP()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function bP(){try{return typeof indexedDB=="object"}catch{return!1}}function SP(){return new Promise((e,t)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(s),e(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{t(a.error?.message||"")}}catch(n){t(n)}})}const wP="FirebaseError";class Ns extends Error{constructor(t,n,s){super(n),this.code=t,this.customData=s,this.name=wP,Object.setPrototypeOf(this,Ns.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,tc.prototype.create)}}class tc{constructor(t,n,s){this.service=t,this.serviceName=n,this.errors=s}create(t,...n){const s=n[0]||{},a=`${this.service}/${t}`,l=this.errors[t],c=l?AP(l,s):"Error",d=`${this.serviceName}: ${c} (${a}).`;return new Ns(a,d,s)}}function AP(e,t){return e.replace(xP,(n,s)=>{const a=t[s];return a!=null?String(a):`<${s}?>`})}const xP=/\{\$([^}]+)}/g;function CP(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Ea(e,t){if(e===t)return!0;const n=Object.keys(e),s=Object.keys(t);for(const a of n){if(!s.includes(a))return!1;const l=e[a],c=t[a];if(Nb(l)&&Nb(c)){if(!Ea(l,c))return!1}else if(l!==c)return!1}for(const a of s)if(!n.includes(a))return!1;return!0}function Nb(e){return e!==null&&typeof e=="object"}function ec(e){const t=[];for(const[n,s]of Object.entries(e))Array.isArray(s)?s.forEach(a=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function RP(e,t){const n=new IP(e,t);return n.subscribe.bind(n)}class IP{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,s){let a;if(t===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");DP(t,["next","error","complete"])?a=t:a={next:t,error:n,complete:s},a.next===void 0&&(a.next=Gp),a.error===void 0&&(a.error=Gp),a.complete===void 0&&(a.complete=Gp);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function DP(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function Gp(){}function Vn(e){return e&&e._delegate?e._delegate:e}class ba{constructor(t,n,s){this.name=t,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const fa="[DEFAULT]";class NP{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const s=new hP;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t?.identifier),s=t?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(VP(t))try{this.getOrInitializeService({instanceIdentifier:fa})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});s.resolve(l)}catch{}}}}clearInstance(t=fa){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=fa){return this.instances.has(t)}getOptions(t=fa){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[l,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);s===d&&c.resolve(a)}return a}onInit(t,n){const s=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(s)??new Set;a.add(t),this.onInitCallbacks.set(s,a);const l=this.instances.get(s);return l&&t(l,s),()=>{a.delete(t)}}invokeOnInitCallbacks(t,n){const s=this.onInitCallbacks.get(n);if(s)for(const a of s)try{a(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:MP(t),options:n}),this.instances.set(t,s),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=fa){return this.component?this.component.multipleInstances?t:fa:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function MP(e){return e===fa?void 0:e}function VP(e){return e.instantiationMode==="EAGER"}class OP{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new NP(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}var kt;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(kt||(kt={}));const PP={debug:kt.DEBUG,verbose:kt.VERBOSE,info:kt.INFO,warn:kt.WARN,error:kt.ERROR,silent:kt.SILENT},kP=kt.INFO,LP={[kt.DEBUG]:"log",[kt.VERBOSE]:"log",[kt.INFO]:"info",[kt.WARN]:"warn",[kt.ERROR]:"error"},jP=(e,t,...n)=>{if(t<e.logLevel)return;const s=new Date().toISOString(),a=LP[t];if(a)console[a](`[${s}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Hy{constructor(t){this.name=t,this._logLevel=kP,this._logHandler=jP,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in kt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?PP[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,kt.DEBUG,...t),this._logHandler(this,kt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,kt.VERBOSE,...t),this._logHandler(this,kt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,kt.INFO,...t),this._logHandler(this,kt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,kt.WARN,...t),this._logHandler(this,kt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,kt.ERROR,...t),this._logHandler(this,kt.ERROR,...t)}}const UP=(e,t)=>t.some(n=>e instanceof n);let Mb,Vb;function zP(){return Mb||(Mb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function BP(){return Vb||(Vb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const SA=new WeakMap,Ng=new WeakMap,wA=new WeakMap,Kp=new WeakMap,qy=new WeakMap;function FP(e){const t=new Promise((n,s)=>{const a=()=>{e.removeEventListener("success",l),e.removeEventListener("error",c)},l=()=>{n(Tr(e.result)),a()},c=()=>{s(e.error),a()};e.addEventListener("success",l),e.addEventListener("error",c)});return t.then(n=>{n instanceof IDBCursor&&SA.set(n,e)}).catch(()=>{}),qy.set(t,e),t}function HP(e){if(Ng.has(e))return;const t=new Promise((n,s)=>{const a=()=>{e.removeEventListener("complete",l),e.removeEventListener("error",c),e.removeEventListener("abort",c)},l=()=>{n(),a()},c=()=>{s(e.error||new DOMException("AbortError","AbortError")),a()};e.addEventListener("complete",l),e.addEventListener("error",c),e.addEventListener("abort",c)});Ng.set(e,t)}let Mg={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return Ng.get(e);if(t==="objectStoreNames")return e.objectStoreNames||wA.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Tr(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function qP(e){Mg=e(Mg)}function GP(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const s=e.call(Yp(this),t,...n);return wA.set(s,t.sort?t.sort():[t]),Tr(s)}:BP().includes(e)?function(...t){return e.apply(Yp(this),t),Tr(SA.get(this))}:function(...t){return Tr(e.apply(Yp(this),t))}}function KP(e){return typeof e=="function"?GP(e):(e instanceof IDBTransaction&&HP(e),UP(e,zP())?new Proxy(e,Mg):e)}function Tr(e){if(e instanceof IDBRequest)return FP(e);if(Kp.has(e))return Kp.get(e);const t=KP(e);return t!==e&&(Kp.set(e,t),qy.set(t,e)),t}const Yp=e=>qy.get(e);function YP(e,t,{blocked:n,upgrade:s,blocking:a,terminated:l}={}){const c=indexedDB.open(e,t),d=Tr(c);return s&&c.addEventListener("upgradeneeded",g=>{s(Tr(c.result),g.oldVersion,g.newVersion,Tr(c.transaction),g)}),n&&c.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),d.then(g=>{l&&g.addEventListener("close",()=>l()),a&&g.addEventListener("versionchange",p=>a(p.oldVersion,p.newVersion,p))}).catch(()=>{}),d}const $P=["get","getKey","getAll","getAllKeys","count"],QP=["put","add","delete","clear"],$p=new Map;function Ob(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if($p.get(t))return $p.get(t);const n=t.replace(/FromIndex$/,""),s=t!==n,a=QP.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(a||$P.includes(n)))return;const l=async function(c,...d){const g=this.transaction(c,a?"readwrite":"readonly");let p=g.store;return s&&(p=p.index(d.shift())),(await Promise.all([p[n](...d),a&&g.done]))[0]};return $p.set(t,l),l}qP(e=>({...e,get:(t,n,s)=>Ob(t,n)||e.get(t,n,s),has:(t,n)=>!!Ob(t,n)||e.has(t,n)}));class XP{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(WP(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function WP(e){return e.getComponent()?.type==="VERSION"}const Vg="@firebase/app",Pb="0.14.8";const xs=new Hy("@firebase/app"),JP="@firebase/app-compat",ZP="@firebase/analytics-compat",t4="@firebase/analytics",e4="@firebase/app-check-compat",n4="@firebase/app-check",i4="@firebase/auth",s4="@firebase/auth-compat",r4="@firebase/database",a4="@firebase/data-connect",o4="@firebase/database-compat",l4="@firebase/functions",u4="@firebase/functions-compat",c4="@firebase/installations",h4="@firebase/installations-compat",f4="@firebase/messaging",d4="@firebase/messaging-compat",m4="@firebase/performance",p4="@firebase/performance-compat",g4="@firebase/remote-config",y4="@firebase/remote-config-compat",v4="@firebase/storage",_4="@firebase/storage-compat",T4="@firebase/firestore",E4="@firebase/ai",b4="@firebase/firestore-compat",S4="firebase",w4="12.9.0";const Og="[DEFAULT]",A4={[Vg]:"fire-core",[JP]:"fire-core-compat",[t4]:"fire-analytics",[ZP]:"fire-analytics-compat",[n4]:"fire-app-check",[e4]:"fire-app-check-compat",[i4]:"fire-auth",[s4]:"fire-auth-compat",[r4]:"fire-rtdb",[a4]:"fire-data-connect",[o4]:"fire-rtdb-compat",[l4]:"fire-fn",[u4]:"fire-fn-compat",[c4]:"fire-iid",[h4]:"fire-iid-compat",[f4]:"fire-fcm",[d4]:"fire-fcm-compat",[m4]:"fire-perf",[p4]:"fire-perf-compat",[g4]:"fire-rc",[y4]:"fire-rc-compat",[v4]:"fire-gcs",[_4]:"fire-gcs-compat",[T4]:"fire-fst",[b4]:"fire-fst-compat",[E4]:"fire-vertex","fire-js":"fire-js",[S4]:"fire-js-all"};const Rf=new Map,x4=new Map,Pg=new Map;function kb(e,t){try{e.container.addComponent(t)}catch(n){xs.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Fo(e){const t=e.name;if(Pg.has(t))return xs.debug(`There were multiple attempts to register component ${t}.`),!1;Pg.set(t,e);for(const n of Rf.values())kb(n,e);for(const n of x4.values())kb(n,e);return!0}function Gy(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function di(e){return e==null?!1:e.settings!==void 0}const C4={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Er=new tc("app","Firebase",C4);class R4{constructor(t,n,s){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ba("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Er.create("app-deleted",{appName:this._name})}}const nl=w4;function AA(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const s={name:Og,automaticDataCollectionEnabled:!0,...t},a=s.name;if(typeof a!="string"||!a)throw Er.create("bad-app-name",{appName:String(a)});if(n||(n=_A()),!n)throw Er.create("no-options");const l=Rf.get(a);if(l){if(Ea(n,l.options)&&Ea(s,l.config))return l;throw Er.create("duplicate-app",{appName:a})}const c=new OP(a);for(const g of Pg.values())c.addComponent(g);const d=new R4(n,s,c);return Rf.set(a,d),d}function xA(e=Og){const t=Rf.get(e);if(!t&&e===Og&&_A())return AA();if(!t)throw Er.create("no-app",{appName:e});return t}function br(e,t,n){let s=A4[e]??e;n&&(s+=`-${n}`);const a=s.match(/\s|\//),l=t.match(/\s|\//);if(a||l){const c=[`Unable to register library "${s}" with version "${t}":`];a&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&l&&c.push("and"),l&&c.push(`version name "${t}" contains illegal characters (whitespace or "/")`),xs.warn(c.join(" "));return}Fo(new ba(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}const I4="firebase-heartbeat-database",D4=1,ju="firebase-heartbeat-store";let Qp=null;function CA(){return Qp||(Qp=YP(I4,D4,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(ju)}catch(n){console.warn(n)}}}}).catch(e=>{throw Er.create("idb-open",{originalErrorMessage:e.message})})),Qp}async function N4(e){try{const n=(await CA()).transaction(ju),s=await n.objectStore(ju).get(RA(e));return await n.done,s}catch(t){if(t instanceof Ns)xs.warn(t.message);else{const n=Er.create("idb-get",{originalErrorMessage:t?.message});xs.warn(n.message)}}}async function Lb(e,t){try{const s=(await CA()).transaction(ju,"readwrite");await s.objectStore(ju).put(t,RA(e)),await s.done}catch(n){if(n instanceof Ns)xs.warn(n.message);else{const s=Er.create("idb-set",{originalErrorMessage:n?.message});xs.warn(s.message)}}}function RA(e){return`${e.name}!${e.options.appId}`}const M4=1024,V4=30;class O4{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new k4(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=jb();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>V4){const a=L4(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){xs.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=jb(),{heartbeatsToSend:n,unsentEntries:s}=P4(this._heartbeatsCache.heartbeats),a=Cf(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return xs.warn(t),""}}}function jb(){return new Date().toISOString().substring(0,10)}function P4(e,t=M4){const n=[];let s=e.slice();for(const a of e){const l=n.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),Ub(n)>t){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),Ub(n)>t){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class k4{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return bP()?SP().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await N4(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return Lb(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return Lb(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function Ub(e){return Cf(JSON.stringify({version:2,heartbeats:e})).length}function L4(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let s=1;s<e.length;s++)e[s].date<n&&(n=e[s].date,t=s);return t}function j4(e){Fo(new ba("platform-logger",t=>new XP(t),"PRIVATE")),Fo(new ba("heartbeat",t=>new O4(t),"PRIVATE")),br(Vg,Pb,e),br(Vg,Pb,"esm2020"),br("fire-js","")}j4("");function IA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const U4=IA,DA=new tc("auth","Firebase",IA());const If=new Hy("@firebase/auth");function z4(e,...t){If.logLevel<=kt.WARN&&If.warn(`Auth (${nl}): ${e}`,...t)}function lf(e,...t){If.logLevel<=kt.ERROR&&If.error(`Auth (${nl}): ${e}`,...t)}function Wi(e,...t){throw Yy(e,...t)}function yi(e,...t){return Yy(e,...t)}function Ky(e,t,n){const s={...U4(),[t]:n};return new tc("auth","Firebase",s).create(t,{appName:e.name})}function va(e){return Ky(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function B4(e,t,n){const s=n;if(!(t instanceof s))throw s.name!==t.constructor.name&&Wi(e,"argument-error"),Ky(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Yy(e,...t){if(typeof e!="string"){const n=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=e.name),e._errorFactory.create(n,...s)}return DA.create(e,...t)}function Et(e,t,...n){if(!e)throw Yy(t,...n)}function Ts(e){const t="INTERNAL ASSERTION FAILED: "+e;throw lf(t),new Error(t)}function Cs(e,t){e||Ts(t)}function kg(){return typeof self<"u"&&self.location?.href||""}function F4(){return zb()==="http:"||zb()==="https:"}function zb(){return typeof self<"u"&&self.location?.protocol||null}function H4(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(F4()||vP()||"connection"in navigator)?navigator.onLine:!0}function q4(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}class nc{constructor(t,n){this.shortDelay=t,this.longDelay=n,Cs(n>t,"Short delay should be less than long delay!"),this.isMobile=pP()||_P()}get(){return H4()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function $y(e,t){Cs(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class NA{static initialize(t,n,s){this.fetchImpl=t,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ts("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ts("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ts("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const G4={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const K4=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Y4=new nc(3e4,6e4);function Qy(e,t){return e.tenantId&&!t.tenantId?{...t,tenantId:e.tenantId}:t}async function il(e,t,n,s,a={}){return MA(e,a,async()=>{let l={},c={};s&&(t==="GET"?c=s:l={body:JSON.stringify(s)});const d=ec({key:e.config.apiKey,...c}).slice(1),g=await e._getAdditionalHeaders();g["Content-Type"]="application/json",e.languageCode&&(g["X-Firebase-Locale"]=e.languageCode);const p={method:t,headers:g,...l};return yP()||(p.referrerPolicy="no-referrer"),e.emulatorConfig&&el(e.emulatorConfig.host)&&(p.credentials="include"),NA.fetch()(await VA(e,e.config.apiHost,n,d),p)})}async function MA(e,t,n){e._canInitEmulator=!1;const s={...G4,...t};try{const a=new Q4(e),l=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw Gh(e,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const d=l.ok?c.errorMessage:c.error.message,[g,p]=d.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw Gh(e,"credential-already-in-use",c);if(g==="EMAIL_EXISTS")throw Gh(e,"email-already-in-use",c);if(g==="USER_DISABLED")throw Gh(e,"user-disabled",c);const y=s[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw Ky(e,y,p);Wi(e,y)}}catch(a){if(a instanceof Ns)throw a;Wi(e,"network-request-failed",{message:String(a)})}}async function $4(e,t,n,s,a={}){const l=await il(e,t,n,s,a);return"mfaPendingCredential"in l&&Wi(e,"multi-factor-auth-required",{_serverResponse:l}),l}async function VA(e,t,n,s){const a=`${t}${n}?${s}`,l=e,c=l.config.emulator?$y(e.config,a):`${e.config.apiScheme}://${a}`;return K4.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}class Q4{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(yi(this.auth,"network-request-failed")),Y4.get())})}}function Gh(e,t,n){const s={appName:e.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const a=yi(e,t,s);return a.customData._tokenResponse=n,a}async function X4(e,t){return il(e,"POST","/v1/accounts:delete",t)}async function Df(e,t){return il(e,"POST","/v1/accounts:lookup",t)}function Cu(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function W4(e,t=!1){const n=Vn(e),s=await n.getIdToken(t),a=Xy(s);Et(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l?.sign_in_provider;return{claims:a,token:s,authTime:Cu(Xp(a.auth_time)),issuedAtTime:Cu(Xp(a.iat)),expirationTime:Cu(Xp(a.exp)),signInProvider:c||null,signInSecondFactor:l?.sign_in_second_factor||null}}function Xp(e){return Number(e)*1e3}function Xy(e){const[t,n,s]=e.split(".");if(t===void 0||n===void 0||s===void 0)return lf("JWT malformed, contained fewer than 3 sections"),null;try{const a=yA(n);return a?JSON.parse(a):(lf("Failed to decode base64 JWT payload"),null)}catch(a){return lf("Caught error parsing JWT payload as JSON",a?.toString()),null}}function Bb(e){const t=Xy(e);return Et(t,"internal-error"),Et(typeof t.exp<"u","internal-error"),Et(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Uu(e,t,n=!1){if(n)return t;try{return await t}catch(s){throw s instanceof Ns&&J4(s)&&e.auth.currentUser===e&&await e.auth.signOut(),s}}function J4({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}class Z4{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Lg{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Cu(this.lastLoginAt),this.creationTime=Cu(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Nf(e){const t=e.auth,n=await e.getIdToken(),s=await Uu(e,Df(t,{idToken:n}));Et(s?.users.length,t,"internal-error");const a=s.users[0];e._notifyReloadListener(a);const l=a.providerUserInfo?.length?OA(a.providerUserInfo):[],c=e3(e.providerData,l),d=e.isAnonymous,g=!(e.email&&a.passwordHash)&&!c?.length,p=d?g:!1,y={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new Lg(a.createdAt,a.lastLoginAt),isAnonymous:p};Object.assign(e,y)}async function t3(e){const t=Vn(e);await Nf(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function e3(e,t){return[...e.filter(s=>!t.some(a=>a.providerId===s.providerId)),...t]}function OA(e){return e.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function n3(e,t){const n=await MA(e,{},async()=>{const s=ec({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:a,apiKey:l}=e.config,c=await VA(e,a,"/v1/token",`key=${l}`),d=await e._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:d,body:s};return e.emulatorConfig&&el(e.emulatorConfig.host)&&(g.credentials="include"),NA.fetch()(c,g)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function i3(e,t){return il(e,"POST","/v2/accounts:revokeToken",Qy(e,t))}class Oo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Et(t.idToken,"internal-error"),Et(typeof t.idToken<"u","internal-error"),Et(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Bb(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){Et(t.length!==0,"internal-error");const n=Bb(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Et(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:s,refreshToken:a,expiresIn:l}=await n3(t,n);this.updateTokensAndExpiration(s,a,Number(l))}updateTokensAndExpiration(t,n,s){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,n){const{refreshToken:s,accessToken:a,expirationTime:l}=n,c=new Oo;return s&&(Et(typeof s=="string","internal-error",{appName:t}),c.refreshToken=s),a&&(Et(typeof a=="string","internal-error",{appName:t}),c.accessToken=a),l&&(Et(typeof l=="number","internal-error",{appName:t}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Oo,this.toJSON())}_performRefresh(){return Ts("not implemented")}}function fr(e,t){Et(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class mi{constructor({uid:t,auth:n,stsTokenManager:s,...a}){this.providerId="firebase",this.proactiveRefresh=new Z4(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Lg(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(t){const n=await Uu(this,this.stsTokenManager.getToken(this.auth,t));return Et(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return W4(this,t)}reload(){return t3(this)}_assign(t){this!==t&&(Et(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new mi({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){Et(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),n&&await Nf(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(di(this.auth.app))return Promise.reject(va(this.auth));const t=await this.getIdToken();return await Uu(this,X4(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const s=n.displayName??void 0,a=n.email??void 0,l=n.phoneNumber??void 0,c=n.photoURL??void 0,d=n.tenantId??void 0,g=n._redirectEventId??void 0,p=n.createdAt??void 0,y=n.lastLoginAt??void 0,{uid:_,emailVerified:b,isAnonymous:C,providerData:D,stsTokenManager:k}=n;Et(_&&k,t,"internal-error");const L=Oo.fromJSON(this.name,k);Et(typeof _=="string",t,"internal-error"),fr(s,t.name),fr(a,t.name),Et(typeof b=="boolean",t,"internal-error"),Et(typeof C=="boolean",t,"internal-error"),fr(l,t.name),fr(c,t.name),fr(d,t.name),fr(g,t.name),fr(p,t.name),fr(y,t.name);const H=new mi({uid:_,auth:t,email:a,emailVerified:b,displayName:s,isAnonymous:C,photoURL:c,phoneNumber:l,tenantId:d,stsTokenManager:L,createdAt:p,lastLoginAt:y});return D&&Array.isArray(D)&&(H.providerData=D.map(G=>({...G}))),g&&(H._redirectEventId=g),H}static async _fromIdTokenResponse(t,n,s=!1){const a=new Oo;a.updateFromServerResponse(n);const l=new mi({uid:n.localId,auth:t,stsTokenManager:a,isAnonymous:s});return await Nf(l),l}static async _fromGetAccountInfoResponse(t,n,s){const a=n.users[0];Et(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?OA(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!l?.length,d=new Oo;d.updateFromIdToken(s);const g=new mi({uid:a.localId,auth:t,stsTokenManager:d,isAnonymous:c}),p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new Lg(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!l?.length};return Object.assign(g,p),g}}const Fb=new Map;function Es(e){Cs(e instanceof Function,"Expected a class definition");let t=Fb.get(e);return t?(Cs(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Fb.set(e,t),t)}class PA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}PA.type="NONE";const Hb=PA;function uf(e,t,n){return`firebase:${e}:${t}:${n}`}class Po{constructor(t,n,s){this.persistence=t,this.auth=n,this.userKey=s;const{config:a,name:l}=this.auth;this.fullUserKey=uf(this.userKey,a.apiKey,l),this.fullPersistenceKey=uf("persistence",a.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await Df(this.auth,{idToken:t}).catch(()=>{});return n?mi._fromGetAccountInfoResponse(this.auth,n,t):null}return mi._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,s="authUser"){if(!n.length)return new Po(Es(Hb),t,s);const a=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let l=a[0]||Es(Hb);const c=uf(s,t.config.apiKey,t.name);let d=null;for(const p of n)try{const y=await p._get(c);if(y){let _;if(typeof y=="string"){const b=await Df(t,{idToken:y}).catch(()=>{});if(!b)break;_=await mi._fromGetAccountInfoResponse(t,b,y)}else _=mi._fromJSON(t,y);p!==l&&(d=_),l=p;break}}catch{}const g=a.filter(p=>p._shouldAllowMigration);return!l._shouldAllowMigration||!g.length?new Po(l,t,s):(l=g[0],d&&await l._set(c,d.toJSON()),await Promise.all(n.map(async p=>{if(p!==l)try{await p._remove(c)}catch{}})),new Po(l,t,s))}}function qb(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(UA(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(kA(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(BA(t))return"Blackberry";if(FA(t))return"Webos";if(LA(t))return"Safari";if((t.includes("chrome/")||jA(t))&&!t.includes("edge/"))return"Chrome";if(zA(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=e.match(n);if(s?.length===2)return s[1]}return"Other"}function kA(e=un()){return/firefox\//i.test(e)}function LA(e=un()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function jA(e=un()){return/crios\//i.test(e)}function UA(e=un()){return/iemobile/i.test(e)}function zA(e=un()){return/android/i.test(e)}function BA(e=un()){return/blackberry/i.test(e)}function FA(e=un()){return/webos/i.test(e)}function Wy(e=un()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function s3(e=un()){return Wy(e)&&!!window.navigator?.standalone}function r3(){return TP()&&document.documentMode===10}function HA(e=un()){return Wy(e)||zA(e)||FA(e)||BA(e)||/windows phone/i.test(e)||UA(e)}function qA(e,t=[]){let n;switch(e){case"Browser":n=qb(un());break;case"Worker":n=`${qb(un())}-${e}`;break;default:n=e}const s=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${nl}/${s}`}class a3{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const s=l=>new Promise((c,d)=>{try{const g=t(l);c(g)}catch(g){d(g)}});s.onAbort=n,this.queue.push(s);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const s of this.queue)await s(t),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function o3(e,t={}){return il(e,"GET","/v2/passwordPolicy",Qy(e,t))}const l3=6;class u3{constructor(t){const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??l3,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const s=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=t.length>=s),a&&(n.meetsMaxPasswordLength=t.length<=a)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let a=0;a<t.length;a++)s=t.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,n,s,a,l){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=l))}}class c3{constructor(t,n,s,a){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Gb(this),this.idTokenSubscription=new Gb(this),this.beforeStateQueue=new a3(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=DA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=Es(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Po.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await Df(this,{idToken:t}),s=await mi._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(di(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,a=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,c=s?._redirectEventId,d=await this.tryRedirectSignIn(t);(!l||l===c)&&d?.user&&(s=d.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(l){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Et(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await Nf(t)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=q4()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(di(this.app))return Promise.reject(va(this));const n=t?Vn(t):null;return n&&Et(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&Et(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return di(this.app)?Promise.reject(va(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return di(this.app)?Promise.reject(va(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Es(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await o3(this),n=new u3(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new tc("auth","Firebase",t())}onAuthStateChanged(t,n,s){return this.registerStateListener(this.authStateSubscription,t,n,s)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,s){return this.registerStateListener(this.idTokenSubscription,t,n,s)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await i3(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,n){const s=await this.getOrInitRedirectPersistenceManager(n);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&Es(t)||this._popupRedirectResolver;Et(n,this,"argument-error"),this.redirectPersistenceManager=await Po.create(this,[Es(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,s,a){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Et(d,this,"internal-error"),d.then(()=>{c||l(this.currentUser)}),typeof n=="function"){const g=t.addObserver(n,s,a);return()=>{c=!0,g()}}else{const g=t.addObserver(n);return()=>{c=!0,g()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Et(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=qA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(t["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){if(di(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&z4(`Error while retrieving App Check token: ${t.error}`),t?.token}}function nd(e){return Vn(e)}class Gb{constructor(t){this.auth=t,this.observer=null,this.addObserver=RP(n=>this.observer=n)}get next(){return Et(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Jy={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function h3(e){Jy=e}function f3(e){return Jy.loadJS(e)}function d3(){return Jy.gapiScript}function m3(e){return`__${e}${Math.floor(Math.random()*1e6)}`}function p3(e,t){const n=Gy(e,"auth");if(n.isInitialized()){const a=n.getImmediate(),l=n.getOptions();if(Ea(l,t??{}))return a;Wi(a,"already-initialized")}return n.initialize({options:t})}function g3(e,t){const n=t?.persistence||[],s=(Array.isArray(n)?n:[n]).map(Es);t?.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(s,t?.popupRedirectResolver)}function y3(e,t,n){const s=nd(e);Et(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const a=!1,l=GA(t),{host:c,port:d}=v3(t),g=d===null?"":`:${d}`,p={url:`${l}//${c}${g}/`},y=Object.freeze({host:c,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!s._canInitEmulator){Et(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Et(Ea(p,s.config.emulator)&&Ea(y,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=p,s.emulatorConfig=y,s.settings.appVerificationDisabledForTesting=!0,el(c)?(EA(`${l}//${c}${g}`),bA("Auth",!0)):_3()}function GA(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function v3(e){const t=GA(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(s);if(a){const l=a[1];return{host:l,port:Kb(s.substr(l.length+1))}}else{const[l,c]=s.split(":");return{host:l,port:Kb(c)}}}function Kb(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function _3(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}class KA{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return Ts("not implemented")}_getIdTokenResponse(t){return Ts("not implemented")}_linkToIdToken(t,n){return Ts("not implemented")}_getReauthenticationResolver(t){return Ts("not implemented")}}async function ko(e,t){return $4(e,"POST","/v1/accounts:signInWithIdp",Qy(e,t))}const T3="http://localhost";class Sa extends KA{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Sa(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):Wi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:a,...l}=n;if(!s||!a)return null;const c=new Sa(s,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(t){const n=this.buildRequest();return ko(t,n)}_linkToIdToken(t,n){const s=this.buildRequest();return s.idToken=n,ko(t,s)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,ko(t,n)}buildRequest(){const t={requestUri:T3,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=ec(n)}return t}}class Zy{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class ic extends Zy{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class pr extends ic{constructor(){super("facebook.com")}static credential(t){return Sa._fromParams({providerId:pr.PROVIDER_ID,signInMethod:pr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return pr.credentialFromTaggedObject(t)}static credentialFromError(t){return pr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return pr.credential(t.oauthAccessToken)}catch{return null}}}pr.FACEBOOK_SIGN_IN_METHOD="facebook.com";pr.PROVIDER_ID="facebook.com";class _s extends ic{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Sa._fromParams({providerId:_s.PROVIDER_ID,signInMethod:_s.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return _s.credentialFromTaggedObject(t)}static credentialFromError(t){return _s.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:s}=t;if(!n&&!s)return null;try{return _s.credential(n,s)}catch{return null}}}_s.GOOGLE_SIGN_IN_METHOD="google.com";_s.PROVIDER_ID="google.com";class gr extends ic{constructor(){super("github.com")}static credential(t){return Sa._fromParams({providerId:gr.PROVIDER_ID,signInMethod:gr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return gr.credentialFromTaggedObject(t)}static credentialFromError(t){return gr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return gr.credential(t.oauthAccessToken)}catch{return null}}}gr.GITHUB_SIGN_IN_METHOD="github.com";gr.PROVIDER_ID="github.com";class yr extends ic{constructor(){super("twitter.com")}static credential(t,n){return Sa._fromParams({providerId:yr.PROVIDER_ID,signInMethod:yr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return yr.credentialFromTaggedObject(t)}static credentialFromError(t){return yr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=t;if(!n||!s)return null;try{return yr.credential(n,s)}catch{return null}}}yr.TWITTER_SIGN_IN_METHOD="twitter.com";yr.PROVIDER_ID="twitter.com";class Ho{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,s,a=!1){const l=await mi._fromIdTokenResponse(t,s,a),c=Yb(s);return new Ho({user:l,providerId:c,_tokenResponse:s,operationType:n})}static async _forOperation(t,n,s){await t._updateTokensIfNecessary(s,!0);const a=Yb(s);return new Ho({user:t,providerId:a,_tokenResponse:s,operationType:n})}}function Yb(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class Mf extends Ns{constructor(t,n,s,a){super(n.code,n.message),this.operationType=s,this.user=a,Object.setPrototypeOf(this,Mf.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,n,s,a){return new Mf(t,n,s,a)}}function YA(e,t,n,s){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Mf._fromErrorAndOperation(e,l,t,s):l})}async function E3(e,t,n=!1){const s=await Uu(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Ho._forOperation(e,"link",s)}async function b3(e,t,n=!1){const{auth:s}=e;if(di(s.app))return Promise.reject(va(s));const a="reauthenticate";try{const l=await Uu(e,YA(s,a,t,e),n);Et(l.idToken,s,"internal-error");const c=Xy(l.idToken);Et(c,s,"internal-error");const{sub:d}=c;return Et(e.uid===d,s,"user-mismatch"),Ho._forOperation(e,a,l)}catch(l){throw l?.code==="auth/user-not-found"&&Wi(s,"user-mismatch"),l}}async function S3(e,t,n=!1){if(di(e.app))return Promise.reject(va(e));const s="signIn",a=await YA(e,s,t),l=await Ho._fromIdTokenResponse(e,s,a);return n||await e._updateCurrentUser(l.user),l}function w3(e,t,n,s){return Vn(e).onIdTokenChanged(t,n,s)}function A3(e,t,n){return Vn(e).beforeAuthStateChanged(t,n)}function x3(e,t,n,s){return Vn(e).onAuthStateChanged(t,n,s)}function C3(e){return Vn(e).signOut()}const Vf="__sak";class $A{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Vf,"1"),this.storage.removeItem(Vf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const R3=1e3,I3=10;class QA extends $A{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=HA(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),a=this.localCache[n];s!==a&&t(n,a,s)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((c,d,g)=>{this.notifyListeners(c,g)});return}const s=t.key;n?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(s);!n&&this.localCache[s]===c||this.notifyListeners(s,c)},l=this.storage.getItem(s);r3()&&l!==t.newValue&&t.newValue!==t.oldValue?setTimeout(a,I3):a()}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const a of Array.from(s))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:s}),!0)})},R3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}QA.type="LOCAL";const D3=QA;class XA extends $A{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}XA.type="SESSION";const WA=XA;function N3(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}class id{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(a=>a.isListeningto(t));if(n)return n;const s=new id(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:s,eventType:a,data:l}=n.data,c=this.handlersMap[a];if(!c?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:a});const d=Array.from(c).map(async p=>p(n.origin,l)),g=await N3(d);n.ports[0].postMessage({status:"done",eventId:s,eventType:a,response:g})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}id.receivers=[];function tv(e="",t=10){let n="";for(let s=0;s<t;s++)n+=Math.floor(Math.random()*10);return e+n}class M3{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,s=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((d,g)=>{const p=tv("",20);a.port1.start();const y=setTimeout(()=>{g(new Error("unsupported_event"))},s);c={messageChannel:a,onMessage(_){const b=_;if(b.data.eventId===p)switch(b.data.status){case"ack":clearTimeout(y),l=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(b.data.response);break;default:clearTimeout(y),clearTimeout(l),g(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:t,eventId:p,data:n},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}function Gi(){return window}function V3(e){Gi().location.href=e}function JA(){return typeof Gi().WorkerGlobalScope<"u"&&typeof Gi().importScripts=="function"}async function O3(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function P3(){return navigator?.serviceWorker?.controller||null}function k3(){return JA()?self:null}const ZA="firebaseLocalStorageDb",L3=1,Of="firebaseLocalStorage",tx="fbase_key";class sc{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function sd(e,t){return e.transaction([Of],t?"readwrite":"readonly").objectStore(Of)}function j3(){const e=indexedDB.deleteDatabase(ZA);return new sc(e).toPromise()}function jg(){const e=indexedDB.open(ZA,L3);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const s=e.result;try{s.createObjectStore(Of,{keyPath:tx})}catch(a){n(a)}}),e.addEventListener("success",async()=>{const s=e.result;s.objectStoreNames.contains(Of)?t(s):(s.close(),await j3(),t(await jg()))})})}async function $b(e,t,n){const s=sd(e,!0).put({[tx]:t,value:n});return new sc(s).toPromise()}async function U3(e,t){const n=sd(e,!1).get(t),s=await new sc(n).toPromise();return s===void 0?null:s.value}function Qb(e,t){const n=sd(e,!0).delete(t);return new sc(n).toPromise()}const z3=800,B3=3;class ex{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await jg(),this.db)}async _withRetries(t){let n=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(n++>B3)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return JA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=id._getInstance(k3()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await O3(),!this.activeServiceWorker)return;this.sender=new M3(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||P3()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await jg();return await $b(t,Vf,"1"),await Qb(t,Vf),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>$b(s,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(s=>U3(s,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>Qb(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(a=>{const l=sd(a,!1).getAll();return new sc(l).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(t.length!==0)for(const{fbase_key:a,value:l}of t)s.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!s.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const a of Array.from(s))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),z3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}ex.type="LOCAL";const F3=ex;new nc(3e4,6e4);function nx(e,t){return t?Es(t):(Et(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}class ev extends KA{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return ko(t,this._buildIdpRequest())}_linkToIdToken(t,n){return ko(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return ko(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function H3(e){return S3(e.auth,new ev(e),e.bypassAuthState)}function q3(e){const{auth:t,user:n}=e;return Et(n,t,"internal-error"),b3(n,new ev(e),e.bypassAuthState)}async function G3(e){const{auth:t,user:n}=e;return Et(n,t,"internal-error"),E3(n,new ev(e),e.bypassAuthState)}class ix{constructor(t,n,s,a,l=!1){this.auth=t,this.resolver=s,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:s,postBody:a,tenantId:l,error:c,type:d}=t;if(c){this.reject(c);return}const g={auth:this.auth,requestUri:n,sessionId:s,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(g))}catch(p){this.reject(p)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return H3;case"linkViaPopup":case"linkViaRedirect":return G3;case"reauthViaPopup":case"reauthViaRedirect":return q3;default:Wi(this.auth,"internal-error")}}resolve(t){Cs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Cs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const K3=new nc(2e3,1e4);async function Y3(e,t,n){if(di(e.app))return Promise.reject(yi(e,"operation-not-supported-in-this-environment"));const s=nd(e);B4(e,t,Zy);const a=nx(s,n);return new pa(s,"signInViaPopup",t,a).executeNotNull()}class pa extends ix{constructor(t,n,s,a,l){super(t,n,a,l),this.provider=s,this.authWindow=null,this.pollId=null,pa.currentPopupAction&&pa.currentPopupAction.cancel(),pa.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Et(t,this.auth,"internal-error"),t}async onExecution(){Cs(this.filter.length===1,"Popup operations only handle one event");const t=tv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(yi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(yi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,pa.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(yi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,K3.get())};t()}}pa.currentPopupAction=null;const $3="pendingRedirect",cf=new Map;class Q3 extends ix{constructor(t,n,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let t=cf.get(this.auth._key());if(!t){try{const s=await X3(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(n){t=()=>Promise.reject(n)}cf.set(this.auth._key(),t)}return this.bypassAuthState||cf.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function X3(e,t){const n=Z3(t),s=J3(e);if(!await s._isAvailable())return!1;const a=await s._get(n)==="true";return await s._remove(n),a}function W3(e,t){cf.set(e._key(),t)}function J3(e){return Es(e._redirectPersistence)}function Z3(e){return uf($3,e.config.apiKey,e.name)}async function tk(e,t,n=!1){if(di(e.app))return Promise.reject(va(e));const s=nd(e),a=nx(s,t),c=await new Q3(s,a,n).execute();return c&&!n&&(delete c.user._redirectEventId,await s._persistUserIfCurrent(c.user),await s._setRedirectUser(null,t)),c}const ek=600*1e3;class nk{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(n=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!ik(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){if(t.error&&!sx(t)){const s=t.error.code?.split("auth/")[1]||"internal-error";n.onError(yi(this.auth,s))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const s=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=ek&&this.cachedEventUids.clear(),this.cachedEventUids.has(Xb(t))}saveEventToCache(t){this.cachedEventUids.add(Xb(t)),this.lastProcessedEventTime=Date.now()}}function Xb(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function sx({type:e,error:t}){return e==="unknown"&&t?.code==="auth/no-auth-event"}function ik(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return sx(e);default:return!1}}async function sk(e,t={}){return il(e,"GET","/v1/projects",t)}const rk=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ak=/^https?/;async function ok(e){if(e.config.emulator)return;const{authorizedDomains:t}=await sk(e);for(const n of t)try{if(lk(n))return}catch{}Wi(e,"unauthorized-domain")}function lk(e){const t=kg(),{protocol:n,hostname:s}=new URL(t);if(e.startsWith("chrome-extension://")){const c=new URL(e);return c.hostname===""&&s===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===s}if(!ak.test(n))return!1;if(rk.test(e))return s===e;const a=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(s)}const uk=new nc(3e4,6e4);function Wb(){const e=Gi().___jsl;if(e?.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function ck(e){return new Promise((t,n)=>{function s(){Wb(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Wb(),n(yi(e,"network-request-failed"))},timeout:uk.get()})}if(Gi().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Gi().gapi?.load)s();else{const a=m3("iframefcb");return Gi()[a]=()=>{gapi.load?s():n(yi(e,"network-request-failed"))},f3(`${d3()}?onload=${a}`).catch(l=>n(l))}}).catch(t=>{throw hf=null,t})}let hf=null;function hk(e){return hf=hf||ck(e),hf}const fk=new nc(5e3,15e3),dk="__/auth/iframe",mk="emulator/auth/iframe",pk={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},gk=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function yk(e){const t=e.config;Et(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?$y(t,mk):`https://${e.config.authDomain}/${dk}`,s={apiKey:t.apiKey,appName:e.name,v:nl},a=gk.get(e.config.apiHost);a&&(s.eid=a);const l=e._getFrameworks();return l.length&&(s.fw=l.join(",")),`${n}?${ec(s).slice(1)}`}async function vk(e){const t=await hk(e),n=Gi().gapi;return Et(n,e,"internal-error"),t.open({where:document.body,url:yk(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:pk,dontclear:!0},s=>new Promise(async(a,l)=>{await s.restyle({setHideOnLeave:!1});const c=yi(e,"network-request-failed"),d=Gi().setTimeout(()=>{l(c)},fk.get());function g(){Gi().clearTimeout(d),a(s)}s.ping(g).then(g,()=>{l(c)})}))}const _k={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Tk=500,Ek=600,bk="_blank",Sk="http://localhost";class Jb{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function wk(e,t,n,s=Tk,a=Ek){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-s)/2,0).toString();let d="";const g={..._k,width:s.toString(),height:a.toString(),top:l,left:c},p=un().toLowerCase();n&&(d=jA(p)?bk:n),kA(p)&&(t=t||Sk,g.scrollbars="yes");const y=Object.entries(g).reduce((b,[C,D])=>`${b}${C}=${D},`,"");if(s3(p)&&d!=="_self")return Ak(t||"",d),new Jb(null);const _=window.open(t||"",d,y);Et(_,e,"popup-blocked");try{_.focus()}catch{}return new Jb(_)}function Ak(e,t){const n=document.createElement("a");n.href=e,n.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const xk="__/auth/handler",Ck="emulator/auth/handler",Rk=encodeURIComponent("fac");async function Zb(e,t,n,s,a,l){Et(e.config.authDomain,e,"auth-domain-config-required"),Et(e.config.apiKey,e,"invalid-api-key");const c={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:s,v:nl,eventId:a};if(t instanceof Zy){t.setDefaultLanguage(e.languageCode),c.providerId=t.providerId||"",CP(t.getCustomParameters())||(c.customParameters=JSON.stringify(t.getCustomParameters()));for(const[y,_]of Object.entries({}))c[y]=_}if(t instanceof ic){const y=t.getScopes().filter(_=>_!=="");y.length>0&&(c.scopes=y.join(","))}e.tenantId&&(c.tid=e.tenantId);const d=c;for(const y of Object.keys(d))d[y]===void 0&&delete d[y];const g=await e._getAppCheckToken(),p=g?`#${Rk}=${encodeURIComponent(g)}`:"";return`${Ik(e)}?${ec(d).slice(1)}${p}`}function Ik({config:e}){return e.emulator?$y(e,Ck):`https://${e.authDomain}/${xk}`}const Wp="webStorageSupport";class Dk{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=WA,this._completeRedirectFn=tk,this._overrideRedirectResult=W3}async _openPopup(t,n,s,a){Cs(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const l=await Zb(t,n,s,kg(),a);return wk(t,l,tv())}async _openRedirect(t,n,s,a){await this._originValidation(t);const l=await Zb(t,n,s,kg(),a);return V3(l),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:a,promise:l}=this.eventManagers[n];return a?Promise.resolve(a):(Cs(l,"If manager is not set, promise should be"),l)}const s=this.initAndGetManager(t);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(t){const n=await vk(t),s=new nk(t);return n.register("authEvent",a=>(Et(a?.authEvent,t,"invalid-auth-event"),{status:s.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=n,s}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(Wp,{type:Wp},a=>{const l=a?.[0]?.[Wp];l!==void 0&&n(!!l),Wi(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=ok(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return HA()||LA()||Wy()}}const Nk=Dk;var t1="@firebase/auth",e1="1.12.0";class Mk{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(s=>{t(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Et(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Vk(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Ok(e){Fo(new ba("auth",(t,{options:n})=>{const s=t.getProvider("app").getImmediate(),a=t.getProvider("heartbeat"),l=t.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=s.options;Et(c&&!c.includes(":"),"invalid-api-key",{appName:s.name});const g={apiKey:c,authDomain:d,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:qA(e)},p=new c3(s,a,l,g);return g3(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,s)=>{t.getProvider("auth-internal").initialize()})),Fo(new ba("auth-internal",t=>{const n=nd(t.getProvider("auth").getImmediate());return(s=>new Mk(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),br(t1,e1,Vk(e)),br(t1,e1,"esm2020")}const Pk=300,kk=TA("authIdTokenMaxAge")||Pk;let n1=null;const Lk=e=>async t=>{const n=t&&await t.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>kk)return;const a=n?.token;n1!==a&&(n1=a,await fetch(e,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function jk(e=xA()){const t=Gy(e,"auth");if(t.isInitialized())return t.getImmediate();const n=p3(e,{popupRedirectResolver:Nk,persistence:[F3,D3,WA]}),s=TA("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(s,location.origin);if(location.origin===l.origin){const c=Lk(l.toString());A3(n,c,()=>c(n.currentUser)),w3(n,d=>c(d))}}const a=vA("auth");return a&&y3(n,`http://${a}`),n}function Uk(){return document.getElementsByTagName("head")?.[0]??document}h3({loadJS(e){return new Promise((t,n)=>{const s=document.createElement("script");s.setAttribute("src",e),s.onload=t,s.onerror=a=>{const l=yi("internal-error");l.customData=a,n(l)},s.type="text/javascript",s.charset="UTF-8",Uk().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Ok("Browser");var zk="firebase",Bk="12.9.0";br(zk,Bk,"app");var i1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Sr,rx;(function(){var e;function t(R,A){function I(){}I.prototype=A.prototype,R.F=A.prototype,R.prototype=new I,R.prototype.constructor=R,R.D=function(P,V,F){for(var N=Array(arguments.length-2),ee=2;ee<arguments.length;ee++)N[ee-2]=arguments[ee];return A.prototype[V].apply(P,N)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(R,A,I){I||(I=0);const P=Array(16);if(typeof A=="string")for(var V=0;V<16;++V)P[V]=A.charCodeAt(I++)|A.charCodeAt(I++)<<8|A.charCodeAt(I++)<<16|A.charCodeAt(I++)<<24;else for(V=0;V<16;++V)P[V]=A[I++]|A[I++]<<8|A[I++]<<16|A[I++]<<24;A=R.g[0],I=R.g[1],V=R.g[2];let F=R.g[3],N;N=A+(F^I&(V^F))+P[0]+3614090360&4294967295,A=I+(N<<7&4294967295|N>>>25),N=F+(V^A&(I^V))+P[1]+3905402710&4294967295,F=A+(N<<12&4294967295|N>>>20),N=V+(I^F&(A^I))+P[2]+606105819&4294967295,V=F+(N<<17&4294967295|N>>>15),N=I+(A^V&(F^A))+P[3]+3250441966&4294967295,I=V+(N<<22&4294967295|N>>>10),N=A+(F^I&(V^F))+P[4]+4118548399&4294967295,A=I+(N<<7&4294967295|N>>>25),N=F+(V^A&(I^V))+P[5]+1200080426&4294967295,F=A+(N<<12&4294967295|N>>>20),N=V+(I^F&(A^I))+P[6]+2821735955&4294967295,V=F+(N<<17&4294967295|N>>>15),N=I+(A^V&(F^A))+P[7]+4249261313&4294967295,I=V+(N<<22&4294967295|N>>>10),N=A+(F^I&(V^F))+P[8]+1770035416&4294967295,A=I+(N<<7&4294967295|N>>>25),N=F+(V^A&(I^V))+P[9]+2336552879&4294967295,F=A+(N<<12&4294967295|N>>>20),N=V+(I^F&(A^I))+P[10]+4294925233&4294967295,V=F+(N<<17&4294967295|N>>>15),N=I+(A^V&(F^A))+P[11]+2304563134&4294967295,I=V+(N<<22&4294967295|N>>>10),N=A+(F^I&(V^F))+P[12]+1804603682&4294967295,A=I+(N<<7&4294967295|N>>>25),N=F+(V^A&(I^V))+P[13]+4254626195&4294967295,F=A+(N<<12&4294967295|N>>>20),N=V+(I^F&(A^I))+P[14]+2792965006&4294967295,V=F+(N<<17&4294967295|N>>>15),N=I+(A^V&(F^A))+P[15]+1236535329&4294967295,I=V+(N<<22&4294967295|N>>>10),N=A+(V^F&(I^V))+P[1]+4129170786&4294967295,A=I+(N<<5&4294967295|N>>>27),N=F+(I^V&(A^I))+P[6]+3225465664&4294967295,F=A+(N<<9&4294967295|N>>>23),N=V+(A^I&(F^A))+P[11]+643717713&4294967295,V=F+(N<<14&4294967295|N>>>18),N=I+(F^A&(V^F))+P[0]+3921069994&4294967295,I=V+(N<<20&4294967295|N>>>12),N=A+(V^F&(I^V))+P[5]+3593408605&4294967295,A=I+(N<<5&4294967295|N>>>27),N=F+(I^V&(A^I))+P[10]+38016083&4294967295,F=A+(N<<9&4294967295|N>>>23),N=V+(A^I&(F^A))+P[15]+3634488961&4294967295,V=F+(N<<14&4294967295|N>>>18),N=I+(F^A&(V^F))+P[4]+3889429448&4294967295,I=V+(N<<20&4294967295|N>>>12),N=A+(V^F&(I^V))+P[9]+568446438&4294967295,A=I+(N<<5&4294967295|N>>>27),N=F+(I^V&(A^I))+P[14]+3275163606&4294967295,F=A+(N<<9&4294967295|N>>>23),N=V+(A^I&(F^A))+P[3]+4107603335&4294967295,V=F+(N<<14&4294967295|N>>>18),N=I+(F^A&(V^F))+P[8]+1163531501&4294967295,I=V+(N<<20&4294967295|N>>>12),N=A+(V^F&(I^V))+P[13]+2850285829&4294967295,A=I+(N<<5&4294967295|N>>>27),N=F+(I^V&(A^I))+P[2]+4243563512&4294967295,F=A+(N<<9&4294967295|N>>>23),N=V+(A^I&(F^A))+P[7]+1735328473&4294967295,V=F+(N<<14&4294967295|N>>>18),N=I+(F^A&(V^F))+P[12]+2368359562&4294967295,I=V+(N<<20&4294967295|N>>>12),N=A+(I^V^F)+P[5]+4294588738&4294967295,A=I+(N<<4&4294967295|N>>>28),N=F+(A^I^V)+P[8]+2272392833&4294967295,F=A+(N<<11&4294967295|N>>>21),N=V+(F^A^I)+P[11]+1839030562&4294967295,V=F+(N<<16&4294967295|N>>>16),N=I+(V^F^A)+P[14]+4259657740&4294967295,I=V+(N<<23&4294967295|N>>>9),N=A+(I^V^F)+P[1]+2763975236&4294967295,A=I+(N<<4&4294967295|N>>>28),N=F+(A^I^V)+P[4]+1272893353&4294967295,F=A+(N<<11&4294967295|N>>>21),N=V+(F^A^I)+P[7]+4139469664&4294967295,V=F+(N<<16&4294967295|N>>>16),N=I+(V^F^A)+P[10]+3200236656&4294967295,I=V+(N<<23&4294967295|N>>>9),N=A+(I^V^F)+P[13]+681279174&4294967295,A=I+(N<<4&4294967295|N>>>28),N=F+(A^I^V)+P[0]+3936430074&4294967295,F=A+(N<<11&4294967295|N>>>21),N=V+(F^A^I)+P[3]+3572445317&4294967295,V=F+(N<<16&4294967295|N>>>16),N=I+(V^F^A)+P[6]+76029189&4294967295,I=V+(N<<23&4294967295|N>>>9),N=A+(I^V^F)+P[9]+3654602809&4294967295,A=I+(N<<4&4294967295|N>>>28),N=F+(A^I^V)+P[12]+3873151461&4294967295,F=A+(N<<11&4294967295|N>>>21),N=V+(F^A^I)+P[15]+530742520&4294967295,V=F+(N<<16&4294967295|N>>>16),N=I+(V^F^A)+P[2]+3299628645&4294967295,I=V+(N<<23&4294967295|N>>>9),N=A+(V^(I|~F))+P[0]+4096336452&4294967295,A=I+(N<<6&4294967295|N>>>26),N=F+(I^(A|~V))+P[7]+1126891415&4294967295,F=A+(N<<10&4294967295|N>>>22),N=V+(A^(F|~I))+P[14]+2878612391&4294967295,V=F+(N<<15&4294967295|N>>>17),N=I+(F^(V|~A))+P[5]+4237533241&4294967295,I=V+(N<<21&4294967295|N>>>11),N=A+(V^(I|~F))+P[12]+1700485571&4294967295,A=I+(N<<6&4294967295|N>>>26),N=F+(I^(A|~V))+P[3]+2399980690&4294967295,F=A+(N<<10&4294967295|N>>>22),N=V+(A^(F|~I))+P[10]+4293915773&4294967295,V=F+(N<<15&4294967295|N>>>17),N=I+(F^(V|~A))+P[1]+2240044497&4294967295,I=V+(N<<21&4294967295|N>>>11),N=A+(V^(I|~F))+P[8]+1873313359&4294967295,A=I+(N<<6&4294967295|N>>>26),N=F+(I^(A|~V))+P[15]+4264355552&4294967295,F=A+(N<<10&4294967295|N>>>22),N=V+(A^(F|~I))+P[6]+2734768916&4294967295,V=F+(N<<15&4294967295|N>>>17),N=I+(F^(V|~A))+P[13]+1309151649&4294967295,I=V+(N<<21&4294967295|N>>>11),N=A+(V^(I|~F))+P[4]+4149444226&4294967295,A=I+(N<<6&4294967295|N>>>26),N=F+(I^(A|~V))+P[11]+3174756917&4294967295,F=A+(N<<10&4294967295|N>>>22),N=V+(A^(F|~I))+P[2]+718787259&4294967295,V=F+(N<<15&4294967295|N>>>17),N=I+(F^(V|~A))+P[9]+3951481745&4294967295,R.g[0]=R.g[0]+A&4294967295,R.g[1]=R.g[1]+(V+(N<<21&4294967295|N>>>11))&4294967295,R.g[2]=R.g[2]+V&4294967295,R.g[3]=R.g[3]+F&4294967295}s.prototype.v=function(R,A){A===void 0&&(A=R.length);const I=A-this.blockSize,P=this.C;let V=this.h,F=0;for(;F<A;){if(V==0)for(;F<=I;)a(this,R,F),F+=this.blockSize;if(typeof R=="string"){for(;F<A;)if(P[V++]=R.charCodeAt(F++),V==this.blockSize){a(this,P),V=0;break}}else for(;F<A;)if(P[V++]=R[F++],V==this.blockSize){a(this,P),V=0;break}}this.h=V,this.o+=A},s.prototype.A=function(){var R=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);R[0]=128;for(var A=1;A<R.length-8;++A)R[A]=0;A=this.o*8;for(var I=R.length-8;I<R.length;++I)R[I]=A&255,A/=256;for(this.v(R),R=Array(16),A=0,I=0;I<4;++I)for(let P=0;P<32;P+=8)R[A++]=this.g[I]>>>P&255;return R};function l(R,A){var I=d;return Object.prototype.hasOwnProperty.call(I,R)?I[R]:I[R]=A(R)}function c(R,A){this.h=A;const I=[];let P=!0;for(let V=R.length-1;V>=0;V--){const F=R[V]|0;P&&F==A||(I[V]=F,P=!1)}this.g=I}var d={};function g(R){return-128<=R&&R<128?l(R,function(A){return new c([A|0],A<0?-1:0)}):new c([R|0],R<0?-1:0)}function p(R){if(isNaN(R)||!isFinite(R))return _;if(R<0)return L(p(-R));const A=[];let I=1;for(let P=0;R>=I;P++)A[P]=R/I|0,I*=4294967296;return new c(A,0)}function y(R,A){if(R.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(R.charAt(0)=="-")return L(y(R.substring(1),A));if(R.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=p(Math.pow(A,8));let P=_;for(let F=0;F<R.length;F+=8){var V=Math.min(8,R.length-F);const N=parseInt(R.substring(F,F+V),A);V<8?(V=p(Math.pow(A,V)),P=P.j(V).add(p(N))):(P=P.j(I),P=P.add(p(N)))}return P}var _=g(0),b=g(1),C=g(16777216);e=c.prototype,e.m=function(){if(k(this))return-L(this).m();let R=0,A=1;for(let I=0;I<this.g.length;I++){const P=this.i(I);R+=(P>=0?P:4294967296+P)*A,A*=4294967296}return R},e.toString=function(R){if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(D(this))return"0";if(k(this))return"-"+L(this).toString(R);const A=p(Math.pow(R,6));var I=this;let P="";for(;;){const V=W(I,A).g;I=H(I,V.j(A));let F=((I.g.length>0?I.g[0]:I.h)>>>0).toString(R);if(I=V,D(I))return F+P;for(;F.length<6;)F="0"+F;P=F+P}},e.i=function(R){return R<0?0:R<this.g.length?this.g[R]:this.h};function D(R){if(R.h!=0)return!1;for(let A=0;A<R.g.length;A++)if(R.g[A]!=0)return!1;return!0}function k(R){return R.h==-1}e.l=function(R){return R=H(this,R),k(R)?-1:D(R)?0:1};function L(R){const A=R.g.length,I=[];for(let P=0;P<A;P++)I[P]=~R.g[P];return new c(I,~R.h).add(b)}e.abs=function(){return k(this)?L(this):this},e.add=function(R){const A=Math.max(this.g.length,R.g.length),I=[];let P=0;for(let V=0;V<=A;V++){let F=P+(this.i(V)&65535)+(R.i(V)&65535),N=(F>>>16)+(this.i(V)>>>16)+(R.i(V)>>>16);P=N>>>16,F&=65535,N&=65535,I[V]=N<<16|F}return new c(I,I[I.length-1]&-2147483648?-1:0)};function H(R,A){return R.add(L(A))}e.j=function(R){if(D(this)||D(R))return _;if(k(this))return k(R)?L(this).j(L(R)):L(L(this).j(R));if(k(R))return L(this.j(L(R)));if(this.l(C)<0&&R.l(C)<0)return p(this.m()*R.m());const A=this.g.length+R.g.length,I=[];for(var P=0;P<2*A;P++)I[P]=0;for(P=0;P<this.g.length;P++)for(let V=0;V<R.g.length;V++){const F=this.i(P)>>>16,N=this.i(P)&65535,ee=R.i(V)>>>16,pe=R.i(V)&65535;I[2*P+2*V]+=N*pe,G(I,2*P+2*V),I[2*P+2*V+1]+=F*pe,G(I,2*P+2*V+1),I[2*P+2*V+1]+=N*ee,G(I,2*P+2*V+1),I[2*P+2*V+2]+=F*ee,G(I,2*P+2*V+2)}for(R=0;R<A;R++)I[R]=I[2*R+1]<<16|I[2*R];for(R=A;R<2*A;R++)I[R]=0;return new c(I,0)};function G(R,A){for(;(R[A]&65535)!=R[A];)R[A+1]+=R[A]>>>16,R[A]&=65535,A++}function z(R,A){this.g=R,this.h=A}function W(R,A){if(D(A))throw Error("division by zero");if(D(R))return new z(_,_);if(k(R))return A=W(L(R),A),new z(L(A.g),L(A.h));if(k(A))return A=W(R,L(A)),new z(L(A.g),A.h);if(R.g.length>30){if(k(R)||k(A))throw Error("slowDivide_ only works with positive integers.");for(var I=b,P=A;P.l(R)<=0;)I=tt(I),P=tt(P);var V=rt(I,1),F=rt(P,1);for(P=rt(P,2),I=rt(I,2);!D(P);){var N=F.add(P);N.l(R)<=0&&(V=V.add(I),F=N),P=rt(P,1),I=rt(I,1)}return A=H(R,V.j(A)),new z(V,A)}for(V=_;R.l(A)>=0;){for(I=Math.max(1,Math.floor(R.m()/A.m())),P=Math.ceil(Math.log(I)/Math.LN2),P=P<=48?1:Math.pow(2,P-48),F=p(I),N=F.j(A);k(N)||N.l(R)>0;)I-=P,F=p(I),N=F.j(A);D(F)&&(F=b),V=V.add(F),R=H(R,N)}return new z(V,R)}e.B=function(R){return W(this,R).h},e.and=function(R){const A=Math.max(this.g.length,R.g.length),I=[];for(let P=0;P<A;P++)I[P]=this.i(P)&R.i(P);return new c(I,this.h&R.h)},e.or=function(R){const A=Math.max(this.g.length,R.g.length),I=[];for(let P=0;P<A;P++)I[P]=this.i(P)|R.i(P);return new c(I,this.h|R.h)},e.xor=function(R){const A=Math.max(this.g.length,R.g.length),I=[];for(let P=0;P<A;P++)I[P]=this.i(P)^R.i(P);return new c(I,this.h^R.h)};function tt(R){const A=R.g.length+1,I=[];for(let P=0;P<A;P++)I[P]=R.i(P)<<1|R.i(P-1)>>>31;return new c(I,R.h)}function rt(R,A){const I=A>>5;A%=32;const P=R.g.length-I,V=[];for(let F=0;F<P;F++)V[F]=A>0?R.i(F+I)>>>A|R.i(F+I+1)<<32-A:R.i(F+I);return new c(V,R.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,rx=s,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=p,c.fromString=y,Sr=c}).apply(typeof i1<"u"?i1:typeof self<"u"?self:typeof window<"u"?window:{});var Kh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ax,vu,ox,ff,Ug,lx,ux,cx;(function(){var e,t=Object.defineProperty;function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Kh=="object"&&Kh];for(var v=0;v<h.length;++v){var E=h[v];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var s=n(this);function a(h,v){if(v)t:{var E=s;h=h.split(".");for(var x=0;x<h.length-1;x++){var q=h[x];if(!(q in E))break t;E=E[q]}h=h[h.length-1],x=E[h],v=v(x),v!=x&&v!=null&&t(E,h,{configurable:!0,writable:!0,value:v})}}a("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(h){return h||function(v){var E=[],x;for(x in v)Object.prototype.hasOwnProperty.call(v,x)&&E.push([x,v[x]]);return E}});var l=l||{},c=this||self;function d(h){var v=typeof h;return v=="object"&&h!=null||v=="function"}function g(h,v,E){return h.call.apply(h.bind,arguments)}function p(h,v,E){return p=g,p.apply(null,arguments)}function y(h,v){var E=Array.prototype.slice.call(arguments,1);return function(){var x=E.slice();return x.push.apply(x,arguments),h.apply(this,x)}}function _(h,v){function E(){}E.prototype=v.prototype,h.Z=v.prototype,h.prototype=new E,h.prototype.constructor=h,h.Ob=function(x,q,Q){for(var lt=Array(arguments.length-2),xt=2;xt<arguments.length;xt++)lt[xt-2]=arguments[xt];return v.prototype[q].apply(x,lt)}}var b=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function C(h){const v=h.length;if(v>0){const E=Array(v);for(let x=0;x<v;x++)E[x]=h[x];return E}return[]}function D(h,v){for(let x=1;x<arguments.length;x++){const q=arguments[x];var E=typeof q;if(E=E!="object"?E:q?Array.isArray(q)?"array":E:"null",E=="array"||E=="object"&&typeof q.length=="number"){E=h.length||0;const Q=q.length||0;h.length=E+Q;for(let lt=0;lt<Q;lt++)h[E+lt]=q[lt]}else h.push(q)}}class k{constructor(v,E){this.i=v,this.j=E,this.h=0,this.g=null}get(){let v;return this.h>0?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function L(h){c.setTimeout(()=>{throw h},0)}function H(){var h=R;let v=null;return h.g&&(v=h.g,h.g=h.g.next,h.g||(h.h=null),v.next=null),v}class G{constructor(){this.h=this.g=null}add(v,E){const x=z.get();x.set(v,E),this.h?this.h.next=x:this.g=x,this.h=x}}var z=new k(()=>new W,h=>h.reset());class W{constructor(){this.next=this.g=this.h=null}set(v,E){this.h=v,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let tt,rt=!1,R=new G,A=()=>{const h=Promise.resolve(void 0);tt=()=>{h.then(I)}};function I(){for(var h;h=H();){try{h.h.call(h.g)}catch(E){L(E)}var v=z;v.j(h),v.h<100&&(v.h++,h.next=v.g,v.g=h)}rt=!1}function P(){this.u=this.u,this.C=this.C}P.prototype.u=!1,P.prototype.dispose=function(){this.u||(this.u=!0,this.N())},P.prototype[Symbol.dispose]=function(){this.dispose()},P.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function V(h,v){this.type=h,this.g=this.target=v,this.defaultPrevented=!1}V.prototype.h=function(){this.defaultPrevented=!0};var F=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var h=!1,v=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const E=()=>{};c.addEventListener("test",E,v),c.removeEventListener("test",E,v)}catch{}return h})();function N(h){return/^[\s\xa0]*$/.test(h)}function ee(h,v){V.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,v)}_(ee,V),ee.prototype.init=function(h,v){const E=this.type=h.type,x=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=v,v=h.relatedTarget,v||(E=="mouseover"?v=h.fromElement:E=="mouseout"&&(v=h.toElement)),this.relatedTarget=v,x?(this.clientX=x.clientX!==void 0?x.clientX:x.pageX,this.clientY=x.clientY!==void 0?x.clientY:x.pageY,this.screenX=x.screenX||0,this.screenY=x.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&ee.Z.h.call(this)},ee.prototype.h=function(){ee.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var pe="closure_listenable_"+(Math.random()*1e6|0),Z=0;function ot(h,v,E,x,q){this.listener=h,this.proxy=null,this.src=v,this.type=E,this.capture=!!x,this.ha=q,this.key=++Z,this.da=this.fa=!1}function ft(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Rt(h,v,E){for(const x in h)v.call(E,h[x],x,h)}function Vt(h,v){for(const E in h)v.call(void 0,h[E],E,h)}function U(h){const v={};for(const E in h)v[E]=h[E];return v}const it="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ut(h,v){let E,x;for(let q=1;q<arguments.length;q++){x=arguments[q];for(E in x)h[E]=x[E];for(let Q=0;Q<it.length;Q++)E=it[Q],Object.prototype.hasOwnProperty.call(x,E)&&(h[E]=x[E])}}function ht(h){this.src=h,this.g={},this.h=0}ht.prototype.add=function(h,v,E,x,q){const Q=h.toString();h=this.g[Q],h||(h=this.g[Q]=[],this.h++);const lt=It(h,v,x,q);return lt>-1?(v=h[lt],E||(v.fa=!1)):(v=new ot(v,this.src,Q,!!x,q),v.fa=E,h.push(v)),v};function bt(h,v){const E=v.type;if(E in h.g){var x=h.g[E],q=Array.prototype.indexOf.call(x,v,void 0),Q;(Q=q>=0)&&Array.prototype.splice.call(x,q,1),Q&&(ft(v),h.g[E].length==0&&(delete h.g[E],h.h--))}}function It(h,v,E,x){for(let q=0;q<h.length;++q){const Q=h[q];if(!Q.da&&Q.listener==v&&Q.capture==!!E&&Q.ha==x)return q}return-1}var zt="closure_lm_"+(Math.random()*1e6|0),ke={};function le(h,v,E,x,q){if(Array.isArray(v)){for(let Q=0;Q<v.length;Q++)le(h,v[Q],E,x,q);return null}return E=cl(E),h&&h[pe]?h.J(v,E,d(x)?!!x.capture:!1,q):Vr(h,v,E,!1,x,q)}function Vr(h,v,E,x,q,Q){if(!v)throw Error("Invalid event type");const lt=d(q)?!!q.capture:!!q;let xt=Or(h);if(xt||(h[zt]=xt=new ht(h)),E=xt.add(v,E,x,lt,Q),E.proxy)return E;if(x=Na(),E.proxy=x,x.src=h,x.listener=E,h.addEventListener)F||(q=lt),q===void 0&&(q=!1),h.addEventListener(v.toString(),x,q);else if(h.attachEvent)h.attachEvent(Ti(v.toString()),x);else if(h.addListener&&h.removeListener)h.addListener(x);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Na(){function h(E){return v.call(h.src,h.listener,E)}const v=ll;return h}function Ma(h,v,E,x,q){if(Array.isArray(v))for(var Q=0;Q<v.length;Q++)Ma(h,v[Q],E,x,q);else x=d(x)?!!x.capture:!!x,E=cl(E),h&&h[pe]?(h=h.i,Q=String(v).toString(),Q in h.g&&(v=h.g[Q],E=It(v,E,x,q),E>-1&&(ft(v[E]),Array.prototype.splice.call(v,E,1),v.length==0&&(delete h.g[Q],h.h--)))):h&&(h=Or(h))&&(v=h.g[v.toString()],h=-1,v&&(h=It(v,E,x,q)),(E=h>-1?v[h]:null)&&Va(E))}function Va(h){if(typeof h!="number"&&h&&!h.da){var v=h.src;if(v&&v[pe])bt(v.i,h);else{var E=h.type,x=h.proxy;v.removeEventListener?v.removeEventListener(E,x,h.capture):v.detachEvent?v.detachEvent(Ti(E),x):v.addListener&&v.removeListener&&v.removeListener(x),(E=Or(v))?(bt(E,h),E.h==0&&(E.src=null,v[zt]=null)):ft(h)}}}function Ti(h){return h in ke?ke[h]:ke[h]="on"+h}function ll(h,v){if(h.da)h=!0;else{v=new ee(v,this);const E=h.listener,x=h.ha||h.src;h.fa&&Va(h),h=E.call(x,v)}return h}function Or(h){return h=h[zt],h instanceof ht?h:null}var ul="__closure_events_fn_"+(Math.random()*1e9>>>0);function cl(h){return typeof h=="function"?h:(h[ul]||(h[ul]=function(v){return h.handleEvent(v)}),h[ul])}function we(){P.call(this),this.i=new ht(this),this.M=this,this.G=null}_(we,P),we.prototype[pe]=!0,we.prototype.removeEventListener=function(h,v,E,x){Ma(this,h,v,E,x)};function Le(h,v){var E,x=h.G;if(x)for(E=[];x;x=x.G)E.push(x);if(h=h.M,x=v.type||v,typeof v=="string")v=new V(v,h);else if(v instanceof V)v.target=v.target||h;else{var q=v;v=new V(x,h),ut(v,q)}q=!0;let Q,lt;if(E)for(lt=E.length-1;lt>=0;lt--)Q=v.g=E[lt],q=Vs(Q,x,!0,v)&&q;if(Q=v.g=h,q=Vs(Q,x,!0,v)&&q,q=Vs(Q,x,!1,v)&&q,E)for(lt=0;lt<E.length;lt++)Q=v.g=E[lt],q=Vs(Q,x,!1,v)&&q}we.prototype.N=function(){if(we.Z.N.call(this),this.i){var h=this.i;for(const v in h.g){const E=h.g[v];for(let x=0;x<E.length;x++)ft(E[x]);delete h.g[v],h.h--}}this.G=null},we.prototype.J=function(h,v,E,x){return this.i.add(String(h),v,!1,E,x)},we.prototype.K=function(h,v,E,x){return this.i.add(String(h),v,!0,E,x)};function Vs(h,v,E,x){if(v=h.i.g[String(v)],!v)return!0;v=v.concat();let q=!0;for(let Q=0;Q<v.length;++Q){const lt=v[Q];if(lt&&!lt.da&&lt.capture==E){const xt=lt.listener,Te=lt.ha||lt.src;lt.fa&&bt(h.i,lt),q=xt.call(Te,x)!==!1&&q}}return q&&!x.defaultPrevented}function Ed(h,v){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=p(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(v)>2147483647?-1:c.setTimeout(h,v||0)}function hc(h){h.g=Ed(()=>{h.g=null,h.i&&(h.i=!1,hc(h))},h.l);const v=h.h;h.h=null,h.m.apply(null,v)}class cn extends P{constructor(v,E){super(),this.m=v,this.l=E,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:hc(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Pr(h){P.call(this),this.h=h,this.g={}}_(Pr,P);var hl=[];function fl(h){Rt(h.g,function(v,E){this.g.hasOwnProperty(E)&&Va(v)},h),h.g={}}Pr.prototype.N=function(){Pr.Z.N.call(this),fl(this)},Pr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Os=c.JSON.stringify,bd=c.JSON.parse,fc=class{stringify(h){return c.JSON.stringify(h,void 0)}parse(h){return c.JSON.parse(h,void 0)}};function dc(){}function mc(){}var Zn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ye(){V.call(this,"d")}_(Ye,V);function Pn(){V.call(this,"c")}_(Pn,V);var _e={},pc=null;function Oa(){return pc=pc||new we}_e.Ia="serverreachability";function gc(h){V.call(this,_e.Ia,h)}_(gc,V);function Ei(h){const v=Oa();Le(v,new gc(v))}_e.STAT_EVENT="statevent";function kr(h,v){V.call(this,_e.STAT_EVENT,h),this.stat=v}_(kr,V);function Ae(h){const v=Oa();Le(v,new kr(v,h))}_e.Ja="timingevent";function bi(h,v){V.call(this,_e.Ja,h),this.size=v}_(bi,V);function Si(h,v){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){h()},v)}function ti(){this.g=!0}ti.prototype.ua=function(){this.g=!1};function Sd(h,v,E,x,q,Q){h.info(function(){if(h.g)if(Q){var lt="",xt=Q.split("&");for(let Gt=0;Gt<xt.length;Gt++){var Te=xt[Gt].split("=");if(Te.length>1){const ue=Te[0];Te=Te[1];const Un=ue.split("_");lt=Un.length>=2&&Un[1]=="type"?lt+(ue+"="+Te+"&"):lt+(ue+"=redacted&")}}}else lt=null;else lt=Q;return"XMLHTTP REQ ("+x+") [attempt "+q+"]: "+v+`
`+E+`
`+lt})}function yc(h,v,E,x,q,Q,lt){h.info(function(){return"XMLHTTP RESP ("+x+") [ attempt "+q+"]: "+v+`
`+E+`
`+Q+" "+lt})}function wi(h,v,E,x){h.info(function(){return"XMLHTTP TEXT ("+v+"): "+wd(h,E)+(x?" "+x:"")})}function Lr(h,v){h.info(function(){return"TIMEOUT: "+v})}ti.prototype.info=function(){};function wd(h,v){if(!h.g)return v;if(!v)return null;try{const Q=JSON.parse(v);if(Q){for(h=0;h<Q.length;h++)if(Array.isArray(Q[h])){var E=Q[h];if(!(E.length<2)){var x=E[1];if(Array.isArray(x)&&!(x.length<1)){var q=x[0];if(q!="noop"&&q!="stop"&&q!="close")for(let lt=1;lt<x.length;lt++)x[lt]=""}}}}return Os(Q)}catch{return v}}var jr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},dl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},ml;function Ur(){}_(Ur,dc),Ur.prototype.g=function(){return new XMLHttpRequest},ml=new Ur;function ts(h){return encodeURIComponent(String(h))}function vc(h){var v=1;h=h.split(":");const E=[];for(;v>0&&h.length;)E.push(h.shift()),v--;return h.length&&E.push(h.join(":")),E}function ei(h,v,E,x){this.j=h,this.i=v,this.l=E,this.S=x||1,this.V=new Pr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ni}function ni(){this.i=null,this.g="",this.h=!1}var xe={},Fe={};function Ai(h,v,E){h.M=1,h.A=zr(Re(v)),h.u=E,h.R=!0,Pa(h,null)}function Pa(h,v){h.F=Date.now(),xi(h),h.B=Re(h.A);var E=h.B,x=h.S;Array.isArray(x)||(x=[String(x)]),Ua(E.i,"t",x),h.C=0,E=h.j.L,h.h=new ni,h.g=Vc(h.j,E?v:null,!h.u),h.P>0&&(h.O=new cn(p(h.Y,h,h.g),h.P)),v=h.V,E=h.g,x=h.ba;var q="readystatechange";Array.isArray(q)||(q&&(hl[0]=q.toString()),q=hl);for(let Q=0;Q<q.length;Q++){const lt=le(E,q[Q],x||v.handleEvent,!1,v.h||v);if(!lt)break;v.g[lt.key]=lt}v=h.J?U(h.J):{},h.u?(h.v||(h.v="POST"),v["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,v)):(h.v="GET",h.g.ea(h.B,h.v,null,v)),Ei(),Sd(h.i,h.v,h.B,h.l,h.S,h.u)}ei.prototype.ba=function(h){h=h.target;const v=this.O;v&&ri(h)==3?v.j():this.Y(h)},ei.prototype.Y=function(h){try{if(h==this.g)t:{const xt=ri(this.g),Te=this.g.ya(),Gt=this.g.ca();if(!(xt<3)&&(xt!=3||this.g&&(this.h.h||this.g.la()||$e(this.g)))){this.K||xt!=4||Te==7||(Te==8||Gt<=0?Ei(3):Ei(2)),Ci(this);var v=this.g.ca();this.X=v;var E=Ad(this);if(this.o=v==200,yc(this.i,this.v,this.B,this.l,this.S,xt,v),this.o){if(this.U&&!this.L){e:{if(this.g){var x,q=this.g;if((x=q.g?q.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(x)){var Q=x;break e}}Q=null}if(h=Q)wi(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ri(this,h);else{this.o=!1,this.m=3,Ae(12),wn(this),kn(this);break t}}if(this.R){h=!0;let ue;for(;!this.K&&this.C<E.length;)if(ue=Tc(this,E),ue==Fe){xt==4&&(this.m=4,Ae(14),h=!1),wi(this.i,this.l,null,"[Incomplete Response]");break}else if(ue==xe){this.m=4,Ae(15),wi(this.i,this.l,E,"[Invalid Chunk]"),h=!1;break}else wi(this.i,this.l,ue,null),Ri(this,ue);if(_c(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),xt!=4||E.length!=0||this.h.h||(this.m=1,Ae(16),h=!1),this.o=this.o&&h,!h)wi(this.i,this.l,E,"[Invalid Chunked Response]"),wn(this),kn(this);else if(E.length>0&&!this.W){this.W=!0;var lt=this.j;lt.g==this&&lt.aa&&!lt.P&&(lt.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),Il(lt),lt.P=!0,Ae(11))}}else wi(this.i,this.l,E,null),Ri(this,E);xt==4&&wn(this),this.o&&!this.K&&(xt==4?Ic(this.j,this):(this.o=!1,xi(this)))}else ns(this.g),v==400&&E.indexOf("Unknown SID")>0?(this.m=3,Ae(12)):(this.m=0,Ae(13)),wn(this),kn(this)}}}catch{}};function Ad(h){if(!_c(h))return h.g.la();const v=$e(h.g);if(v==="")return"";let E="";const x=v.length,q=ri(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return wn(h),kn(h),"";h.h.i=new c.TextDecoder}for(let Q=0;Q<x;Q++)h.h.h=!0,E+=h.h.i.decode(v[Q],{stream:!(q&&Q==x-1)});return v.length=0,h.h.g+=E,h.C=0,h.h.g}function _c(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function Tc(h,v){var E=h.C,x=v.indexOf(`
`,E);return x==-1?Fe:(E=Number(v.substring(E,x)),isNaN(E)?xe:(x+=1,x+E>v.length?Fe:(v=v.slice(x,x+E),h.C=x+E,v)))}ei.prototype.cancel=function(){this.K=!0,wn(this)};function xi(h){h.T=Date.now()+h.H,ka(h,h.H)}function ka(h,v){if(h.D!=null)throw Error("WatchDog timer not null");h.D=Si(p(h.aa,h),v)}function Ci(h){h.D&&(c.clearTimeout(h.D),h.D=null)}ei.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(Lr(this.i,this.B),this.M!=2&&(Ei(),Ae(17)),wn(this),this.m=2,kn(this)):ka(this,this.T-h)};function kn(h){h.j.I==0||h.K||Ic(h.j,h)}function wn(h){Ci(h);var v=h.O;v&&typeof v.dispose=="function"&&v.dispose(),h.O=null,fl(h.V),h.g&&(v=h.g,h.g=null,v.abort(),v.dispose())}function Ri(h,v){try{var E=h.j;if(E.I!=0&&(E.g==h||Di(E.h,h))){if(!h.L&&Di(E.h,h)&&E.I==3){try{var x=E.Ba.g.parse(v)}catch{x=null}if(Array.isArray(x)&&x.length==3){var q=x;if(q[0]==0){t:if(!E.v){if(E.g)if(E.g.F+3e3<h.F)qa(E),Fs(E);else break t;Yr(E),Ae(18)}}else E.xa=q[1],0<E.xa-E.K&&q[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=Si(p(E.Va,E),6e3));Ii(E.h)<=1&&E.ta&&(E.ta=void 0)}else ki(E,11)}else if((h.L||E.g==h)&&qa(E),!N(v))for(q=E.Ba.g.parse(v),v=0;v<q.length;v++){let Gt=q[v];const ue=Gt[0];if(!(ue<=E.K))if(E.K=ue,Gt=Gt[1],E.I==2)if(Gt[0]=="c"){E.M=Gt[1],E.ba=Gt[2];const Un=Gt[3];Un!=null&&(E.ka=Un,E.j.info("VER="+E.ka));const Li=Gt[4];Li!=null&&(E.za=Li,E.j.info("SVER="+E.za));const ai=Gt[5];ai!=null&&typeof ai=="number"&&ai>0&&(x=1.5*ai,E.O=x,E.j.info("backChannelRequestTimeoutMs_="+x)),x=E;const oi=h.g;if(oi){const $r=oi.g?oi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if($r){var Q=x.h;Q.g||$r.indexOf("spdy")==-1&&$r.indexOf("quic")==-1&&$r.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(yl(Q,Q.h),Q.h=null))}if(x.G){const Ga=oi.g?oi.g.getResponseHeader("X-HTTP-Session-Id"):null;Ga&&(x.wa=Ga,$t(x.J,x.G,Ga))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-h.F,E.j.info("Handshake RTT: "+E.T+"ms")),x=E;var lt=h;if(x.na=Mc(x,x.L?x.ba:null,x.W),lt.L){vl(x.h,lt);var xt=lt,Te=x.O;Te&&(xt.H=Te),xt.D&&(Ci(xt),xi(xt)),x.g=lt}else Cc(x);E.i.length>0&&Pi(E)}else Gt[0]!="stop"&&Gt[0]!="close"||ki(E,7);else E.I==3&&(Gt[0]=="stop"||Gt[0]=="close"?Gt[0]=="stop"?ki(E,7):Cl(E):Gt[0]!="noop"&&E.l&&E.l.qa(Gt),E.A=0)}}Ei(4)}catch{}}var Ce=class{constructor(h,v){this.g=h,this.map=v}};function pl(h){this.l=h||10,c.PerformanceNavigationTiming?(h=c.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function gl(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Ii(h){return h.h?1:h.g?h.g.size:0}function Di(h,v){return h.h?h.h==v:h.g?h.g.has(v):!1}function yl(h,v){h.g?h.g.add(v):h.h=v}function vl(h,v){h.h&&h.h==v?h.h=null:h.g&&h.g.has(v)&&h.g.delete(v)}pl.prototype.cancel=function(){if(this.i=_l(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function _l(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let v=h.i;for(const E of h.g.values())v=v.concat(E.G);return v}return C(h.i)}var Ec=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function La(h,v){if(h){h=h.split("&");for(let E=0;E<h.length;E++){const x=h[E].indexOf("=");let q,Q=null;x>=0?(q=h[E].substring(0,x),Q=h[E].substring(x+1)):q=h[E],v(q,Q?decodeURIComponent(Q.replace(/\+/g," ")):"")}}}function An(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let v;h instanceof An?(this.l=h.l,He(this,h.j),this.o=h.o,this.g=h.g,Ps(this,h.u),this.h=h.h,Tl(this,Ac(h.i)),this.m=h.m):h&&(v=String(h).match(Ec))?(this.l=!1,He(this,v[1]||"",!0),this.o=Ni(v[2]||""),this.g=Ni(v[3]||"",!0),Ps(this,v[4]),this.h=Ni(v[5]||"",!0),Tl(this,v[6]||"",!0),this.m=Ni(v[7]||"")):(this.l=!1,this.i=new Ls(null,this.l))}An.prototype.toString=function(){const h=[];var v=this.j;v&&h.push(Br(v,ja,!0),":");var E=this.g;return(E||v=="file")&&(h.push("//"),(v=this.o)&&h.push(Br(v,ja,!0),"@"),h.push(ts(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&h.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&h.push("/"),h.push(Br(E,E.charAt(0)=="/"?El:bc,!0))),(E=this.i.toString())&&h.push("?",E),(E=this.m)&&h.push("#",Br(E,Sc)),h.join("")},An.prototype.resolve=function(h){const v=Re(this);let E=!!h.j;E?He(v,h.j):E=!!h.o,E?v.o=h.o:E=!!h.g,E?v.g=h.g:E=h.u!=null;var x=h.h;if(E)Ps(v,h.u);else if(E=!!h.h){if(x.charAt(0)!="/")if(this.g&&!this.h)x="/"+x;else{var q=v.h.lastIndexOf("/");q!=-1&&(x=v.h.slice(0,q+1)+x)}if(q=x,q==".."||q==".")x="";else if(q.indexOf("./")!=-1||q.indexOf("/.")!=-1){x=q.lastIndexOf("/",0)==0,q=q.split("/");const Q=[];for(let lt=0;lt<q.length;){const xt=q[lt++];xt=="."?x&&lt==q.length&&Q.push(""):xt==".."?((Q.length>1||Q.length==1&&Q[0]!="")&&Q.pop(),x&&lt==q.length&&Q.push("")):(Q.push(xt),x=!0)}x=Q.join("/")}else x=q}return E?v.h=x:E=h.i.toString()!=="",E?Tl(v,Ac(h.i)):E=!!h.m,E&&(v.m=h.m),v};function Re(h){return new An(h)}function He(h,v,E){h.j=E?Ni(v,!0):v,h.j&&(h.j=h.j.replace(/:$/,""))}function Ps(h,v){if(v){if(v=Number(v),isNaN(v)||v<0)throw Error("Bad port number "+v);h.u=v}else h.u=null}function Tl(h,v,E){v instanceof Ls?(h.i=v,za(h.i,h.l)):(E||(v=Br(v,ks)),h.i=new Ls(v,h.l))}function $t(h,v,E){h.i.set(v,E)}function zr(h){return $t(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function Ni(h,v){return h?v?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Br(h,v,E){return typeof h=="string"?(h=encodeURI(h).replace(v,pn),E&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function pn(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var ja=/[#\/\?@]/g,bc=/[#\?:]/g,El=/[#\?]/g,ks=/[#\?@]/g,Sc=/#/g;function Ls(h,v){this.h=this.g=null,this.i=h||null,this.j=!!v}function gn(h){h.g||(h.g=new Map,h.h=0,h.i&&La(h.i,function(v,E){h.add(decodeURIComponent(v.replace(/\+/g," ")),E)}))}e=Ls.prototype,e.add=function(h,v){gn(this),this.i=null,h=js(this,h);let E=this.g.get(h);return E||this.g.set(h,E=[]),E.push(v),this.h+=1,this};function wc(h,v){gn(h),v=js(h,v),h.g.has(v)&&(h.i=null,h.h-=h.g.get(v).length,h.g.delete(v))}function bl(h,v){return gn(h),v=js(h,v),h.g.has(v)}e.forEach=function(h,v){gn(this),this.g.forEach(function(E,x){E.forEach(function(q){h.call(v,q,x,this)},this)},this)};function Sl(h,v){gn(h);let E=[];if(typeof v=="string")bl(h,v)&&(E=E.concat(h.g.get(js(h,v))));else for(h=Array.from(h.g.values()),v=0;v<h.length;v++)E=E.concat(h[v]);return E}e.set=function(h,v){return gn(this),this.i=null,h=js(this,h),bl(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[v]),this.h+=1,this},e.get=function(h,v){return h?(h=Sl(this,h),h.length>0?String(h[0]):v):v};function Ua(h,v,E){wc(h,v),E.length>0&&(h.i=null,h.g.set(js(h,v),C(E)),h.h+=E.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],v=Array.from(this.g.keys());for(let x=0;x<v.length;x++){var E=v[x];const q=ts(E);E=Sl(this,E);for(let Q=0;Q<E.length;Q++){let lt=q;E[Q]!==""&&(lt+="="+ts(E[Q])),h.push(lt)}}return this.i=h.join("&")};function Ac(h){const v=new Ls;return v.i=h.i,h.g&&(v.g=new Map(h.g),v.h=h.h),v}function js(h,v){return v=String(v),h.j&&(v=v.toLowerCase()),v}function za(h,v){v&&!h.j&&(gn(h),h.i=null,h.g.forEach(function(E,x){const q=x.toLowerCase();x!=q&&(wc(this,x),Ua(this,q,E))},h)),h.j=v}function ii(h,v){const E=new ti;if(c.Image){const x=new Image;x.onload=y(Ln,E,"TestLoadImage: loaded",!0,v,x),x.onerror=y(Ln,E,"TestLoadImage: error",!1,v,x),x.onabort=y(Ln,E,"TestLoadImage: abort",!1,v,x),x.ontimeout=y(Ln,E,"TestLoadImage: timeout",!1,v,x),c.setTimeout(function(){x.ontimeout&&x.ontimeout()},1e4),x.src=h}else v(!1)}function wl(h,v){const E=new ti,x=new AbortController,q=setTimeout(()=>{x.abort(),Ln(E,"TestPingServer: timeout",!1,v)},1e4);fetch(h,{signal:x.signal}).then(Q=>{clearTimeout(q),Q.ok?Ln(E,"TestPingServer: ok",!0,v):Ln(E,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(q),Ln(E,"TestPingServer: error",!1,v)})}function Ln(h,v,E,x,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),x(E)}catch{}}function Us(){this.g=new fc}function Mi(h){this.i=h.Sb||null,this.h=h.ab||!1}_(Mi,dc),Mi.prototype.g=function(){return new Fr(this.i,this.h)};function Fr(h,v){we.call(this),this.H=h,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}_(Fr,we),e=Fr.prototype,e.open=function(h,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=v,this.readyState=1,si(this)},e.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const v={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(v.body=h),(this.H||c).fetch(new Request(this.D,v)).then(this.Pa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,zs(this)),this.readyState=0},e.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,si(this)),this.g&&(this.readyState=3,si(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ba(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ba(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}e.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var v=h.value?h.value:new Uint8Array(0);(v=this.B.decode(v,{stream:!h.done}))&&(this.response=this.responseText+=v)}h.done?zs(this):si(this),this.readyState==3&&Ba(this)}},e.Oa=function(h){this.g&&(this.response=this.responseText=h,zs(this))},e.Na=function(h){this.g&&(this.response=h,zs(this))},e.ga=function(){this.g&&zs(this)};function zs(h){h.readyState=4,h.l=null,h.j=null,h.B=null,si(h)}e.setRequestHeader=function(h,v){this.A.append(h,v)},e.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],v=this.h.entries();for(var E=v.next();!E.done;)E=E.value,h.push(E[0]+": "+E[1]),E=v.next();return h.join(`\r
`)};function si(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Fr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function jn(h){let v="";return Rt(h,function(E,x){v+=x,v+=":",v+=E,v+=`\r
`}),v}function Hr(h,v,E){t:{for(x in E){var x=!1;break t}x=!0}x||(E=jn(E),typeof h=="string"?E!=null&&ts(E):$t(h,v,E))}function Wt(h){we.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}_(Wt,we);var Vi=/^https?$/i,Al=["POST","PUT"];e=Wt.prototype,e.Fa=function(h){this.H=h},e.ea=function(h,v,E,x){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);v=v?v.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():ml.g(),this.g.onreadystatechange=b(p(this.Ca,this));try{this.B=!0,this.g.open(v,String(h),!0),this.B=!1}catch(Q){qr(this,Q);return}if(h=E||"",E=new Map(this.headers),x)if(Object.getPrototypeOf(x)===Object.prototype)for(var q in x)E.set(q,x[q]);else if(typeof x.keys=="function"&&typeof x.get=="function")for(const Q of x.keys())E.set(Q,x.get(Q));else throw Error("Unknown input type for opt_headers: "+String(x));x=Array.from(E.keys()).find(Q=>Q.toLowerCase()=="content-type"),q=c.FormData&&h instanceof c.FormData,!(Array.prototype.indexOf.call(Al,v,void 0)>=0)||x||q||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,lt]of E)this.g.setRequestHeader(Q,lt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(Q){qr(this,Q)}};function qr(h,v){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=v,h.o=5,xl(h),es(h)}function xl(h){h.A||(h.A=!0,Le(h,"complete"),Le(h,"error"))}e.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,Le(this,"complete"),Le(this,"abort"),es(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),es(this,!0)),Wt.Z.N.call(this)},e.Ca=function(){this.u||(this.B||this.v||this.j?Gr(this):this.Xa())},e.Xa=function(){Gr(this)};function Gr(h){if(h.h&&typeof l<"u"){if(h.v&&ri(h)==4)setTimeout(h.Ca.bind(h),0);else if(Le(h,"readystatechange"),ri(h)==4){h.h=!1;try{const Q=h.ca();t:switch(Q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break t;default:v=!1}var E;if(!(E=v)){var x;if(x=Q===0){let lt=String(h.D).match(Ec)[1]||null;!lt&&c.self&&c.self.location&&(lt=c.self.location.protocol.slice(0,-1)),x=!Vi.test(lt?lt.toLowerCase():"")}E=x}if(E)Le(h,"complete"),Le(h,"success");else{h.o=6;try{var q=ri(h)>2?h.g.statusText:""}catch{q=""}h.l=q+" ["+h.ca()+"]",xl(h)}}finally{es(h)}}}}function es(h,v){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const E=h.g;h.g=null,v||Le(h,"ready");try{E.onreadystatechange=null}catch{}}}e.isActive=function(){return!!this.g};function ri(h){return h.g?h.g.readyState:0}e.ca=function(){try{return ri(this)>2?this.g.status:-1}catch{return-1}},e.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.La=function(h){if(this.g){var v=this.g.responseText;return h&&v.indexOf(h)==0&&(v=v.substring(h.length)),bd(v)}};function $e(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function ns(h){const v={};h=(h.g&&ri(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let x=0;x<h.length;x++){if(N(h[x]))continue;var E=vc(h[x]);const q=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const Q=v[q]||[];v[q]=Q,Q.push(E)}Vt(v,function(x){return x.join(", ")})}e.ya=function(){return this.o},e.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Oi(h,v,E){return E&&E.internalChannelParams&&E.internalChannelParams[h]||v}function Bs(h){this.za=0,this.i=[],this.j=new ti,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Oi("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Oi("baseRetryDelayMs",5e3,h),this.Za=Oi("retryDelaySeedMs",1e4,h),this.Ta=Oi("forwardChannelMaxRetries",2,h),this.va=Oi("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new pl(h&&h.concurrentRequestLimit),this.Ba=new Us,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}e=Bs.prototype,e.ka=8,e.I=1,e.connect=function(h,v,E,x){Ae(0),this.W=h,this.H=v||{},E&&x!==void 0&&(this.H.OSID=E,this.H.OAID=x),this.F=this.X,this.J=Mc(this,null,this.W),Pi(this)};function Cl(h){if(Fa(h),h.I==3){var v=h.V++,E=Re(h.J);if($t(E,"SID",h.M),$t(E,"RID",v),$t(E,"TYPE","terminate"),Kr(h,E),v=new ei(h,h.j,v),v.M=2,v.A=zr(Re(E)),E=!1,c.navigator&&c.navigator.sendBeacon)try{E=c.navigator.sendBeacon(v.A.toString(),"")}catch{}!E&&c.Image&&(new Image().src=v.A,E=!0),E||(v.g=Vc(v.j,null),v.g.ea(v.A)),v.F=Date.now(),xi(v)}Nc(h)}function Fs(h){h.g&&(Il(h),h.g.cancel(),h.g=null)}function Fa(h){Fs(h),h.v&&(c.clearTimeout(h.v),h.v=null),qa(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&c.clearTimeout(h.m),h.m=null)}function Pi(h){if(!gl(h.h)&&!h.m){h.m=!0;var v=h.Ea;tt||A(),rt||(tt(),rt=!0),R.add(v,h),h.D=0}}function Ha(h,v){return Ii(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=v.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=Si(p(h.Ea,h,v),Dc(h,h.D)),h.D++,!0)}e.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const q=new ei(this,this.j,h);let Q=this.o;if(this.U&&(Q?(Q=U(Q),ut(Q,this.U)):Q=this.U),this.u!==null||this.R||(q.J=Q,Q=null),this.S)t:{for(var v=0,E=0;E<this.i.length;E++){e:{var x=this.i[E];if("__data__"in x.map&&(x=x.map.__data__,typeof x=="string")){x=x.length;break e}x=void 0}if(x===void 0)break;if(v+=x,v>4096){v=E;break t}if(v===4096||E===this.i.length-1){v=E+1;break t}}v=1e3}else v=1e3;v=xc(this,q,v),E=Re(this.J),$t(E,"RID",h),$t(E,"CVER",22),this.G&&$t(E,"X-HTTP-Session-Id",this.G),Kr(this,E),Q&&(this.R?v="headers="+ts(jn(Q))+"&"+v:this.u&&Hr(E,this.u,Q)),yl(this.h,q),this.Ra&&$t(E,"TYPE","init"),this.S?($t(E,"$req",v),$t(E,"SID","null"),q.U=!0,Ai(q,E,null)):Ai(q,E,v),this.I=2}}else this.I==3&&(h?Rl(this,h):this.i.length==0||gl(this.h)||Rl(this))};function Rl(h,v){var E;v?E=v.l:E=h.V++;const x=Re(h.J);$t(x,"SID",h.M),$t(x,"RID",E),$t(x,"AID",h.K),Kr(h,x),h.u&&h.o&&Hr(x,h.u,h.o),E=new ei(h,h.j,E,h.D+1),h.u===null&&(E.J=h.o),v&&(h.i=v.G.concat(h.i)),v=xc(h,E,1e3),E.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),yl(h.h,E),Ai(E,x,v)}function Kr(h,v){h.H&&Rt(h.H,function(E,x){$t(v,x,E)}),h.l&&Rt({},function(E,x){$t(v,x,E)})}function xc(h,v,E){E=Math.min(h.i.length,E);const x=h.l?p(h.l.Ka,h.l,h):null;t:{var q=h.i;let xt=-1;for(;;){const Te=["count="+E];xt==-1?E>0?(xt=q[0].g,Te.push("ofs="+xt)):xt=0:Te.push("ofs="+xt);let Gt=!0;for(let ue=0;ue<E;ue++){var Q=q[ue].g;const Un=q[ue].map;if(Q-=xt,Q<0)xt=Math.max(0,q[ue].g-100),Gt=!1;else try{Q="req"+Q+"_"||"";try{var lt=Un instanceof Map?Un:Object.entries(Un);for(const[Li,ai]of lt){let oi=ai;d(ai)&&(oi=Os(ai)),Te.push(Q+Li+"="+encodeURIComponent(oi))}}catch(Li){throw Te.push(Q+"type="+encodeURIComponent("_badmap")),Li}}catch{x&&x(Un)}}if(Gt){lt=Te.join("&");break t}}lt=void 0}return h=h.i.splice(0,E),v.G=h,lt}function Cc(h){if(!h.g&&!h.v){h.Y=1;var v=h.Da;tt||A(),rt||(tt(),rt=!0),R.add(v,h),h.A=0}}function Yr(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=Si(p(h.Da,h),Dc(h,h.A)),h.A++,!0)}e.Da=function(){if(this.v=null,Rc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=Si(p(this.Wa,this),h)}},e.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ae(10),Fs(this),Rc(this))};function Il(h){h.B!=null&&(c.clearTimeout(h.B),h.B=null)}function Rc(h){h.g=new ei(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var v=Re(h.na);$t(v,"RID","rpc"),$t(v,"SID",h.M),$t(v,"AID",h.K),$t(v,"CI",h.F?"0":"1"),!h.F&&h.ia&&$t(v,"TO",h.ia),$t(v,"TYPE","xmlhttp"),Kr(h,v),h.u&&h.o&&Hr(v,h.u,h.o),h.O&&(h.g.H=h.O);var E=h.g;h=h.ba,E.M=1,E.A=zr(Re(v)),E.u=null,E.R=!0,Pa(E,h)}e.Va=function(){this.C!=null&&(this.C=null,Fs(this),Yr(this),Ae(19))};function qa(h){h.C!=null&&(c.clearTimeout(h.C),h.C=null)}function Ic(h,v){var E=null;if(h.g==v){qa(h),Il(h),h.g=null;var x=2}else if(Di(h.h,v))E=v.G,vl(h.h,v),x=1;else return;if(h.I!=0){if(v.o)if(x==1){E=v.u?v.u.length:0,v=Date.now()-v.F;var q=h.D;x=Oa(),Le(x,new bi(x,E)),Pi(h)}else Cc(h);else if(q=v.m,q==3||q==0&&v.X>0||!(x==1&&Ha(h,v)||x==2&&Yr(h)))switch(E&&E.length>0&&(v=h.h,v.i=v.i.concat(E)),q){case 1:ki(h,5);break;case 4:ki(h,10);break;case 3:ki(h,6);break;default:ki(h,2)}}}function Dc(h,v){let E=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(E*=2),E*v}function ki(h,v){if(h.j.info("Error code "+v),v==2){var E=p(h.bb,h),x=h.Ua;const q=!x;x=new An(x||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||He(x,"https"),zr(x),q?ii(x.toString(),E):wl(x.toString(),E)}else Ae(2);h.I=0,h.l&&h.l.pa(v),Nc(h),Fa(h)}e.bb=function(h){h?(this.j.info("Successfully pinged google.com"),Ae(2)):(this.j.info("Failed to ping google.com"),Ae(1))};function Nc(h){if(h.I=0,h.ja=[],h.l){const v=_l(h.h);(v.length!=0||h.i.length!=0)&&(D(h.ja,v),D(h.ja,h.i),h.h.i.length=0,C(h.i),h.i.length=0),h.l.oa()}}function Mc(h,v,E){var x=E instanceof An?Re(E):new An(E);if(x.g!="")v&&(x.g=v+"."+x.g),Ps(x,x.u);else{var q=c.location;x=q.protocol,v=v?v+"."+q.hostname:q.hostname,q=+q.port;const Q=new An(null);x&&He(Q,x),v&&(Q.g=v),q&&Ps(Q,q),E&&(Q.h=E),x=Q}return E=h.G,v=h.wa,E&&v&&$t(x,E,v),$t(x,"VER",h.ka),Kr(h,x),x}function Vc(h,v,E){if(v&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return v=h.Aa&&!h.ma?new Wt(new Mi({ab:E})):new Wt(h.ma),v.Fa(h.L),v}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function Oc(){}e=Oc.prototype,e.ra=function(){},e.qa=function(){},e.pa=function(){},e.oa=function(){},e.isActive=function(){return!0},e.Ka=function(){};function Hs(){}Hs.prototype.g=function(h,v){return new hn(h,v)};function hn(h,v){we.call(this),this.g=new Bs(v),this.l=h,this.h=v&&v.messageUrlParams||null,h=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(h?h["X-WebChannel-Content-Type"]=v.messageContentType:h={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.sa&&(h?h["X-WebChannel-Client-Profile"]=v.sa:h={"X-WebChannel-Client-Profile":v.sa}),this.g.U=h,(h=v&&v.Qb)&&!N(h)&&(this.g.u=h),this.A=v&&v.supportsCrossDomainXhr||!1,this.v=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!N(v)&&(this.g.G=v,h=this.h,h!==null&&v in h&&(h=this.h,v in h&&delete h[v])),this.j=new is(this)}_(hn,we),hn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},hn.prototype.close=function(){Cl(this.g)},hn.prototype.o=function(h){var v=this.g;if(typeof h=="string"){var E={};E.__data__=h,h=E}else this.v&&(E={},E.__data__=Os(h),h=E);v.i.push(new Ce(v.Ya++,h)),v.I==3&&Pi(v)},hn.prototype.N=function(){this.g.l=null,delete this.j,Cl(this.g),delete this.g,hn.Z.N.call(this)};function Pc(h){Ye.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var v=h.__sm__;if(v){t:{for(const E in v){h=E;break t}h=void 0}(this.i=h)&&(h=this.i,v=v!==null&&h in v?v[h]:void 0),this.data=v}else this.data=h}_(Pc,Ye);function kc(){Pn.call(this),this.status=1}_(kc,Pn);function is(h){this.g=h}_(is,Oc),is.prototype.ra=function(){Le(this.g,"a")},is.prototype.qa=function(h){Le(this.g,new Pc(h))},is.prototype.pa=function(h){Le(this.g,new kc)},is.prototype.oa=function(){Le(this.g,"b")},Hs.prototype.createWebChannel=Hs.prototype.g,hn.prototype.send=hn.prototype.o,hn.prototype.open=hn.prototype.m,hn.prototype.close=hn.prototype.close,cx=function(){return new Hs},ux=function(){return Oa()},lx=_e,Ug={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},jr.NO_ERROR=0,jr.TIMEOUT=8,jr.HTTP_ERROR=6,ff=jr,dl.COMPLETE="complete",ox=dl,mc.EventType=Zn,Zn.OPEN="a",Zn.CLOSE="b",Zn.ERROR="c",Zn.MESSAGE="d",we.prototype.listen=we.prototype.J,vu=mc,Wt.prototype.listenOnce=Wt.prototype.K,Wt.prototype.getLastError=Wt.prototype.Ha,Wt.prototype.getLastErrorCode=Wt.prototype.ya,Wt.prototype.getStatus=Wt.prototype.ca,Wt.prototype.getResponseJson=Wt.prototype.La,Wt.prototype.getResponseText=Wt.prototype.la,Wt.prototype.send=Wt.prototype.ea,Wt.prototype.setWithCredentials=Wt.prototype.Fa,ax=Wt}).apply(typeof Kh<"u"?Kh:typeof self<"u"?self:typeof window<"u"?window:{});class an{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}an.UNAUTHENTICATED=new an(null),an.GOOGLE_CREDENTIALS=new an("google-credentials-uid"),an.FIRST_PARTY=new an("first-party-uid"),an.MOCK_USER=new an("mock-user");let sl="12.9.0";function Fk(e){sl=e}const wa=new Hy("@firebase/firestore");function So(){return wa.logLevel}function ct(e,...t){if(wa.logLevel<=kt.DEBUG){const n=t.map(nv);wa.debug(`Firestore (${sl}): ${e}`,...n)}}function Rs(e,...t){if(wa.logLevel<=kt.ERROR){const n=t.map(nv);wa.error(`Firestore (${sl}): ${e}`,...n)}}function Aa(e,...t){if(wa.logLevel<=kt.WARN){const n=t.map(nv);wa.warn(`Firestore (${sl}): ${e}`,...n)}}function nv(e){if(typeof e=="string")return e;try{return(function(n){return JSON.stringify(n)})(e)}catch{return e}}function Tt(e,t,n){let s="Unexpected state";typeof t=="string"?s=t:n=t,hx(e,s,n)}function hx(e,t,n){let s=`FIRESTORE (${sl}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Rs(s),new Error(s)}function Yt(e,t,n,s){let a="Unexpected state";typeof n=="string"?a=n:s=n,e||hx(t,a,s)}function At(e,t){return e}const at={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class gt extends Ns{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class _a{constructor(){this.promise=new Promise(((t,n)=>{this.resolve=t,this.reject=n}))}}class fx{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class Hk{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable((()=>n(an.UNAUTHENTICATED)))}shutdown(){}}class qk{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class Gk{constructor(t){this.t=t,this.currentUser=an.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Yt(this.o===void 0,42304);let s=this.i;const a=g=>this.i!==s?(s=this.i,n(g)):Promise.resolve();let l=new _a;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new _a,t.enqueueRetryable((()=>a(this.currentUser)))};const c=()=>{const g=l;t.enqueueRetryable((async()=>{await g.promise,await a(this.currentUser)}))},d=g=>{ct("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((g=>d(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?d(g):(ct("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new _a)}}),0),c()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==t?(ct("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Yt(typeof s.accessToken=="string",31837,{l:s}),new fx(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Yt(t===null||typeof t=="string",2055,{h:t}),new an(t)}}class Kk{constructor(t,n,s){this.P=t,this.T=n,this.I=s,this.type="FirstParty",this.user=an.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const t=this.A();return t&&this.R.set("Authorization",t),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class Yk{constructor(t,n,s){this.P=t,this.T=n,this.I=s}getToken(){return Promise.resolve(new Kk(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable((()=>n(an.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class s1{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class $k{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,di(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){Yt(this.o===void 0,3512);const s=l=>{l.error!=null&&ct("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,ct("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(l.token):Promise.resolve()};this.o=l=>{t.enqueueRetryable((()=>s(l)))};const a=l=>{ct("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):ct("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new s1(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((n=>n?(Yt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new s1(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Qk(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let s=0;s<e;s++)n[s]=Math.floor(256*Math.random());return n}class iv{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const a=Qk(40);for(let l=0;l<a.length;++l)s.length<20&&a[l]<n&&(s+=t.charAt(a[l]%62))}return s}}function Lt(e,t){return e<t?-1:e>t?1:0}function zg(e,t){const n=Math.min(e.length,t.length);for(let s=0;s<n;s++){const a=e.charAt(s),l=t.charAt(s);if(a!==l)return Jp(a)===Jp(l)?Lt(a,l):Jp(a)?1:-1}return Lt(e.length,t.length)}const Xk=55296,Wk=57343;function Jp(e){const t=e.charCodeAt(0);return t>=Xk&&t<=Wk}function qo(e,t,n){return e.length===t.length&&e.every(((s,a)=>n(s,t[a])))}const r1="__name__";class Hi{constructor(t,n,s){n===void 0?n=0:n>t.length&&Tt(637,{offset:n,range:t.length}),s===void 0?s=t.length-n:s>t.length-n&&Tt(1746,{length:s,range:t.length-n}),this.segments=t,this.offset=n,this.len=s}get length(){return this.len}isEqual(t){return Hi.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Hi?t.forEach((s=>{n.push(s)})):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,s=this.limit();n<s;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const s=Math.min(t.length,n.length);for(let a=0;a<s;a++){const l=Hi.compareSegments(t.get(a),n.get(a));if(l!==0)return l}return Lt(t.length,n.length)}static compareSegments(t,n){const s=Hi.isNumericId(t),a=Hi.isNumericId(n);return s&&!a?-1:!s&&a?1:s&&a?Hi.extractNumericId(t).compare(Hi.extractNumericId(n)):zg(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Sr.fromString(t.substring(4,t.length-2))}}class fe extends Hi{construct(t,n,s){return new fe(t,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const s of t){if(s.indexOf("//")>=0)throw new gt(at.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((a=>a.length>0)))}return new fe(n)}static emptyPath(){return new fe([])}}const Jk=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class en extends Hi{construct(t,n,s){return new en(t,n,s)}static isValidIdentifier(t){return Jk.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),en.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===r1}static keyField(){return new en([r1])}static fromServerFormat(t){const n=[];let s="",a=0;const l=()=>{if(s.length===0)throw new gt(at.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let c=!1;for(;a<t.length;){const d=t[a];if(d==="\\"){if(a+1===t.length)throw new gt(at.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const g=t[a+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new gt(at.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=g,a+=2}else d==="`"?(c=!c,a++):d!=="."||c?(s+=d,a++):(l(),a++)}if(l(),c)throw new gt(at.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new en(n)}static emptyPath(){return new en([])}}class vt{constructor(t){this.path=t}static fromPath(t){return new vt(fe.fromString(t))}static fromName(t){return new vt(fe.fromString(t).popFirst(5))}static empty(){return new vt(fe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&fe.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return fe.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new vt(new fe(t.slice()))}}function Zk(e,t,n){if(!n)throw new gt(at.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function t6(e,t,n,s){if(t===!0&&s===!0)throw new gt(at.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function a1(e){if(!vt.isDocumentKey(e))throw new gt(at.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function dx(e){return typeof e=="object"&&e!==null&&(Object.getPrototypeOf(e)===Object.prototype||Object.getPrototypeOf(e)===null)}function sv(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=(function(s){return s.constructor?s.constructor.name:null})(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":Tt(12329,{type:typeof e})}function Lo(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new gt(at.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=sv(e);throw new gt(at.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}function Pe(e,t){const n={typeString:e};return t&&(n.value=t),n}function rc(e,t){if(!dx(e))throw new gt(at.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in t)if(t[s]){const a=t[s].typeString,l="value"in t[s]?{value:t[s].value}:void 0;if(!(s in e)){n=`JSON missing required field: '${s}'`;break}const c=e[s];if(a&&typeof c!==a){n=`JSON field '${s}' must be a ${a}.`;break}if(l!==void 0&&c!==l.value){n=`Expected '${s}' field to equal '${l.value}'`;break}}if(n)throw new gt(at.INVALID_ARGUMENT,n);return!0}const o1=-62135596800,l1=1e6;class oe{static now(){return oe.fromMillis(Date.now())}static fromDate(t){return oe.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),s=Math.floor((t-1e3*n)*l1);return new oe(n,s)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new gt(at.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new gt(at.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<o1)throw new gt(at.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new gt(at.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/l1}_compareTo(t){return this.seconds===t.seconds?Lt(this.nanoseconds,t.nanoseconds):Lt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:oe._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(rc(t,oe._jsonSchema))return new oe(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-o1;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}oe._jsonSchemaVersion="firestore/timestamp/1.0",oe._jsonSchema={type:Pe("string",oe._jsonSchemaVersion),seconds:Pe("number"),nanoseconds:Pe("number")};class St{static fromTimestamp(t){return new St(t)}static min(){return new St(new oe(0,0))}static max(){return new St(new oe(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const zu=-1;function e6(e,t){const n=e.toTimestamp().seconds,s=e.toTimestamp().nanoseconds+1,a=St.fromTimestamp(s===1e9?new oe(n+1,0):new oe(n,s));return new xr(a,vt.empty(),t)}function n6(e){return new xr(e.readTime,e.key,zu)}class xr{constructor(t,n,s){this.readTime=t,this.documentKey=n,this.largestBatchId=s}static min(){return new xr(St.min(),vt.empty(),zu)}static max(){return new xr(St.max(),vt.empty(),zu)}}function i6(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=vt.comparator(e.documentKey,t.documentKey),n!==0?n:Lt(e.largestBatchId,t.largestBatchId))}const s6="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class r6{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function rl(e){if(e.code!==at.FAILED_PRECONDITION||e.message!==s6)throw e;ct("LocalStore","Unexpectedly lost primary lease")}class st{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&Tt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new st(((s,a)=>{this.nextCallback=l=>{this.wrapSuccess(t,l).next(s,a)},this.catchCallback=l=>{this.wrapFailure(n,l).next(s,a)}}))}toPromise(){return new Promise(((t,n)=>{this.next(t,n)}))}wrapUserFunction(t){try{const n=t();return n instanceof st?n:st.resolve(n)}catch(n){return st.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction((()=>t(n))):st.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction((()=>t(n))):st.reject(n)}static resolve(t){return new st(((n,s)=>{n(t)}))}static reject(t){return new st(((n,s)=>{s(t)}))}static waitFor(t){return new st(((n,s)=>{let a=0,l=0,c=!1;t.forEach((d=>{++a,d.next((()=>{++l,c&&l===a&&n()}),(g=>s(g)))})),c=!0,l===a&&n()}))}static or(t){let n=st.resolve(!1);for(const s of t)n=n.next((a=>a?st.resolve(a):s()));return n}static forEach(t,n){const s=[];return t.forEach(((a,l)=>{s.push(n.call(this,a,l))})),this.waitFor(s)}static mapArray(t,n){return new st(((s,a)=>{const l=t.length,c=new Array(l);let d=0;for(let g=0;g<l;g++){const p=g;n(t[p]).next((y=>{c[p]=y,++d,d===l&&s(c)}),(y=>a(y)))}}))}static doWhile(t,n){return new st(((s,a)=>{const l=()=>{t()===!0?n().next((()=>{l()}),a):s()};l()}))}}function a6(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function al(e){return e.name==="IndexedDbTransactionError"}class rd{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}rd.ce=-1;const rv=-1;function ad(e){return e==null}function Pf(e){return e===0&&1/e==-1/0}function o6(e){return typeof e=="number"&&Number.isInteger(e)&&!Pf(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}const mx="";function l6(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=u1(t)),t=u6(e.get(n),t);return u1(t)}function u6(e,t){let n=t;const s=e.length;for(let a=0;a<s;a++){const l=e.charAt(a);switch(l){case"\0":n+="";break;case mx:n+="";break;default:n+=l}}return n}function u1(e){return e+mx+""}function c1(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Ca(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function px(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class me{constructor(t,n){this.comparator=t,this.root=n||tn.EMPTY}insert(t,n){return new me(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,tn.BLACK,null,null))}remove(t){return new me(this.comparator,this.root.remove(t,this.comparator).copy(null,null,tn.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(t,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(t){let n=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(t,s.key);if(a===0)return n+s.left.size;a<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((n,s)=>(t(n,s),!1)))}toString(){const t=[];return this.inorderTraversal(((n,s)=>(t.push(`${n}:${s}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Yh(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Yh(this.root,t,this.comparator,!1)}getReverseIterator(){return new Yh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Yh(this.root,t,this.comparator,!0)}}class Yh{constructor(t,n,s,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!t.isEmpty();)if(l=n?s(t.key,n):1,n&&a&&(l*=-1),l<0)t=this.isReverse?t.left:t.right;else{if(l===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class tn{constructor(t,n,s,a,l){this.key=t,this.value=n,this.color=s??tn.RED,this.left=a??tn.EMPTY,this.right=l??tn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,s,a,l){return new tn(t??this.key,n??this.value,s??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,s){let a=this;const l=s(t,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(t,n,s),null):l===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(t,n,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return tn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let s,a=this;if(n(t,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(t,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(t,a.key)===0){if(a.right.isEmpty())return tn.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(t,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,tn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,tn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Tt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Tt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Tt(27949);return t+(this.isRed()?0:1)}}tn.EMPTY=null,tn.RED=!0,tn.BLACK=!1;tn.EMPTY=new class{constructor(){this.size=0}get key(){throw Tt(57766)}get value(){throw Tt(16141)}get color(){throw Tt(16727)}get left(){throw Tt(29726)}get right(){throw Tt(36894)}copy(t,n,s,a,l){return this}insert(t,n,s){return new tn(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Be{constructor(t){this.comparator=t,this.data=new me(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((n,s)=>(t(n),!1)))}forEachInRange(t,n){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,t[1])>=0)return;n(a.key)}}forEachWhile(t,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new h1(this.data.getIterator())}getIteratorFrom(t){return new h1(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach((s=>{n=n.add(s)})),n}isEqual(t){if(!(t instanceof Be)||this.size!==t.size)return!1;const n=this.data.getIterator(),s=t.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=s.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((n=>{t.push(n)})),t}toString(){const t=[];return this.forEach((n=>t.push(n))),"SortedSet("+t.toString()+")"}copy(t){const n=new Be(this.comparator);return n.data=t,n}}class h1{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class pi{constructor(t){this.fields=t,t.sort(en.comparator)}static empty(){return new pi([])}unionWith(t){let n=new Be(en.comparator);for(const s of this.fields)n=n.add(s);for(const s of t)n=n.add(s);return new pi(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return qo(this.fields,t.fields,((n,s)=>n.isEqual(s)))}}class gx extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class nn{constructor(t){this.binaryString=t}static fromBase64String(t){const n=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new gx("Invalid base64 string: "+l):l}})(t);return new nn(n)}static fromUint8Array(t){const n=(function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l})(t);return new nn(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let a=0;a<n.length;a++)s[a]=n.charCodeAt(a);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Lt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}nn.EMPTY_BYTE_STRING=new nn("");const c6=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Cr(e){if(Yt(!!e,39018),typeof e=="string"){let t=0;const n=c6.exec(e);if(Yt(!!n,46558,{timestamp:e}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),t=Number(a)}const s=new Date(e);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:Se(e.seconds),nanos:Se(e.nanos)}}function Se(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function Rr(e){return typeof e=="string"?nn.fromBase64String(e):nn.fromUint8Array(e)}const yx="server_timestamp",vx="__type__",_x="__previous_value__",Tx="__local_write_time__";function av(e){return(e?.mapValue?.fields||{})[vx]?.stringValue===yx}function od(e){const t=e.mapValue.fields[_x];return av(t)?od(t):t}function Bu(e){const t=Cr(e.mapValue.fields[Tx].timestampValue);return new oe(t.seconds,t.nanos)}class h6{constructor(t,n,s,a,l,c,d,g,p,y,_){this.databaseId=t,this.appId=n,this.persistenceKey=s,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=g,this.useFetchStreams=p,this.isUsingEmulator=y,this.apiKey=_}}const kf="(default)";class Fu{constructor(t,n){this.projectId=t,this.database=n||kf}static empty(){return new Fu("","")}get isDefaultDatabase(){return this.database===kf}isEqual(t){return t instanceof Fu&&t.projectId===this.projectId&&t.database===this.database}}function f6(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new gt(at.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Fu(e.options.projectId,t)}const Ex="__type__",d6="__max__",$h={mapValue:{}},bx="__vector__",Lf="value";function Ir(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?av(e)?4:p6(e)?9007199254740991:m6(e)?10:11:Tt(28295,{value:e})}function Ji(e,t){if(e===t)return!0;const n=Ir(e);if(n!==Ir(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Bu(e).isEqual(Bu(t));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=Cr(a.timestampValue),d=Cr(l.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos})(e,t);case 5:return e.stringValue===t.stringValue;case 6:return(function(a,l){return Rr(a.bytesValue).isEqual(Rr(l.bytesValue))})(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return(function(a,l){return Se(a.geoPointValue.latitude)===Se(l.geoPointValue.latitude)&&Se(a.geoPointValue.longitude)===Se(l.geoPointValue.longitude)})(e,t);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return Se(a.integerValue)===Se(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=Se(a.doubleValue),d=Se(l.doubleValue);return c===d?Pf(c)===Pf(d):isNaN(c)&&isNaN(d)}return!1})(e,t);case 9:return qo(e.arrayValue.values||[],t.arrayValue.values||[],Ji);case 10:case 11:return(function(a,l){const c=a.mapValue.fields||{},d=l.mapValue.fields||{};if(c1(c)!==c1(d))return!1;for(const g in c)if(c.hasOwnProperty(g)&&(d[g]===void 0||!Ji(c[g],d[g])))return!1;return!0})(e,t);default:return Tt(52216,{left:e})}}function Hu(e,t){return(e.values||[]).find((n=>Ji(n,t)))!==void 0}function Go(e,t){if(e===t)return 0;const n=Ir(e),s=Ir(t);if(n!==s)return Lt(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Lt(e.booleanValue,t.booleanValue);case 2:return(function(l,c){const d=Se(l.integerValue||l.doubleValue),g=Se(c.integerValue||c.doubleValue);return d<g?-1:d>g?1:d===g?0:isNaN(d)?isNaN(g)?0:-1:1})(e,t);case 3:return f1(e.timestampValue,t.timestampValue);case 4:return f1(Bu(e),Bu(t));case 5:return zg(e.stringValue,t.stringValue);case 6:return(function(l,c){const d=Rr(l),g=Rr(c);return d.compareTo(g)})(e.bytesValue,t.bytesValue);case 7:return(function(l,c){const d=l.split("/"),g=c.split("/");for(let p=0;p<d.length&&p<g.length;p++){const y=Lt(d[p],g[p]);if(y!==0)return y}return Lt(d.length,g.length)})(e.referenceValue,t.referenceValue);case 8:return(function(l,c){const d=Lt(Se(l.latitude),Se(c.latitude));return d!==0?d:Lt(Se(l.longitude),Se(c.longitude))})(e.geoPointValue,t.geoPointValue);case 9:return d1(e.arrayValue,t.arrayValue);case 10:return(function(l,c){const d=l.fields||{},g=c.fields||{},p=d[Lf]?.arrayValue,y=g[Lf]?.arrayValue,_=Lt(p?.values?.length||0,y?.values?.length||0);return _!==0?_:d1(p,y)})(e.mapValue,t.mapValue);case 11:return(function(l,c){if(l===$h.mapValue&&c===$h.mapValue)return 0;if(l===$h.mapValue)return 1;if(c===$h.mapValue)return-1;const d=l.fields||{},g=Object.keys(d),p=c.fields||{},y=Object.keys(p);g.sort(),y.sort();for(let _=0;_<g.length&&_<y.length;++_){const b=zg(g[_],y[_]);if(b!==0)return b;const C=Go(d[g[_]],p[y[_]]);if(C!==0)return C}return Lt(g.length,y.length)})(e.mapValue,t.mapValue);default:throw Tt(23264,{he:n})}}function f1(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return Lt(e,t);const n=Cr(e),s=Cr(t),a=Lt(n.seconds,s.seconds);return a!==0?a:Lt(n.nanos,s.nanos)}function d1(e,t){const n=e.values||[],s=t.values||[];for(let a=0;a<n.length&&a<s.length;++a){const l=Go(n[a],s[a]);if(l)return l}return Lt(n.length,s.length)}function Ko(e){return Bg(e)}function Bg(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?(function(n){const s=Cr(n);return`time(${s.seconds},${s.nanos})`})(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?(function(n){return Rr(n).toBase64()})(e.bytesValue):"referenceValue"in e?(function(n){return vt.fromName(n).toString()})(e.referenceValue):"geoPointValue"in e?(function(n){return`geo(${n.latitude},${n.longitude})`})(e.geoPointValue):"arrayValue"in e?(function(n){let s="[",a=!0;for(const l of n.values||[])a?a=!1:s+=",",s+=Bg(l);return s+"]"})(e.arrayValue):"mapValue"in e?(function(n){const s=Object.keys(n.fields||{}).sort();let a="{",l=!0;for(const c of s)l?l=!1:a+=",",a+=`${c}:${Bg(n.fields[c])}`;return a+"}"})(e.mapValue):Tt(61005,{value:e})}function df(e){switch(Ir(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=od(e);return t?16+df(t):16;case 5:return 2*e.stringValue.length;case 6:return Rr(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((a,l)=>a+df(l)),0)})(e.arrayValue);case 10:case 11:return(function(s){let a=0;return Ca(s.fields,((l,c)=>{a+=l.length+df(c)})),a})(e.mapValue);default:throw Tt(13486,{value:e})}}function Fg(e){return!!e&&"integerValue"in e}function ov(e){return!!e&&"arrayValue"in e}function m1(e){return!!e&&"nullValue"in e}function p1(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function mf(e){return!!e&&"mapValue"in e}function m6(e){return(e?.mapValue?.fields||{})[Ex]?.stringValue===bx}function Ru(e){if(e.geoPointValue)return{geoPointValue:{...e.geoPointValue}};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:{...e.timestampValue}};if(e.mapValue){const t={mapValue:{fields:{}}};return Ca(e.mapValue.fields,((n,s)=>t.mapValue.fields[n]=Ru(s))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Ru(e.arrayValue.values[n]);return t}return{...e}}function p6(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===d6}class $n{constructor(t){this.value=t}static empty(){return new $n({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let s=0;s<t.length-1;++s)if(n=(n.mapValue.fields||{})[t.get(s)],!mf(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Ru(n)}setAll(t){let n=en.emptyPath(),s={},a=[];t.forEach(((c,d)=>{if(!n.isImmediateParentOf(d)){const g=this.getFieldsMap(n);this.applyChanges(g,s,a),s={},a=[],n=d.popLast()}c?s[d.lastSegment()]=Ru(c):a.push(d.lastSegment())}));const l=this.getFieldsMap(n);this.applyChanges(l,s,a)}delete(t){const n=this.field(t.popLast());mf(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return Ji(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<t.length;++s){let a=n.mapValue.fields[t.get(s)];mf(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[t.get(s)]=a),n=a}return n.mapValue.fields}applyChanges(t,n,s){Ca(n,((a,l)=>t[a]=l));for(const a of s)delete t[a]}clone(){return new $n(Ru(this.value))}}function Sx(e){const t=[];return Ca(e.fields,((n,s)=>{const a=new en([n]);if(mf(s)){const l=Sx(s.mapValue).fields;if(l.length===0)t.push(a);else for(const c of l)t.push(a.child(c))}else t.push(a)})),new pi(t)}class on{constructor(t,n,s,a,l,c,d){this.key=t,this.documentType=n,this.version=s,this.readTime=a,this.createTime=l,this.data=c,this.documentState=d}static newInvalidDocument(t){return new on(t,0,St.min(),St.min(),St.min(),$n.empty(),0)}static newFoundDocument(t,n,s,a){return new on(t,1,n,St.min(),s,a,0)}static newNoDocument(t,n){return new on(t,2,n,St.min(),St.min(),$n.empty(),0)}static newUnknownDocument(t,n){return new on(t,3,n,St.min(),St.min(),$n.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(St.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=$n.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=$n.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=St.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof on&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new on(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class jf{constructor(t,n){this.position=t,this.inclusive=n}}function g1(e,t,n){let s=0;for(let a=0;a<e.position.length;a++){const l=t[a],c=e.position[a];if(l.field.isKeyField()?s=vt.comparator(vt.fromName(c.referenceValue),n.key):s=Go(c,n.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function y1(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Ji(e.position[n],t.position[n]))return!1;return!0}class Uf{constructor(t,n="asc"){this.field=t,this.dir=n}}function g6(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class wx{}class ze extends wx{constructor(t,n,s){super(),this.field=t,this.op=n,this.value=s}static create(t,n,s){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,s):new v6(t,n,s):n==="array-contains"?new E6(t,s):n==="in"?new b6(t,s):n==="not-in"?new S6(t,s):n==="array-contains-any"?new w6(t,s):new ze(t,n,s)}static createKeyFieldInFilter(t,n,s){return n==="in"?new _6(t,s):new T6(t,s)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Go(n,this.value)):n!==null&&Ir(this.value)===Ir(n)&&this.matchesComparison(Go(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Tt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Zi extends wx{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new Zi(t,n)}matches(t){return Ax(this)?this.filters.find((n=>!n.matches(t)))===void 0:this.filters.find((n=>n.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,n)=>t.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Ax(e){return e.op==="and"}function xx(e){return y6(e)&&Ax(e)}function y6(e){for(const t of e.filters)if(t instanceof Zi)return!1;return!0}function Hg(e){if(e instanceof ze)return e.field.canonicalString()+e.op.toString()+Ko(e.value);if(xx(e))return e.filters.map((t=>Hg(t))).join(",");{const t=e.filters.map((n=>Hg(n))).join(",");return`${e.op}(${t})`}}function Cx(e,t){return e instanceof ze?(function(s,a){return a instanceof ze&&s.op===a.op&&s.field.isEqual(a.field)&&Ji(s.value,a.value)})(e,t):e instanceof Zi?(function(s,a){return a instanceof Zi&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce(((l,c,d)=>l&&Cx(c,a.filters[d])),!0):!1})(e,t):void Tt(19439)}function Rx(e){return e instanceof ze?(function(n){return`${n.field.canonicalString()} ${n.op} ${Ko(n.value)}`})(e):e instanceof Zi?(function(n){return n.op.toString()+" {"+n.getFilters().map(Rx).join(" ,")+"}"})(e):"Filter"}class v6 extends ze{constructor(t,n,s){super(t,n,s),this.key=vt.fromName(s.referenceValue)}matches(t){const n=vt.comparator(t.key,this.key);return this.matchesComparison(n)}}class _6 extends ze{constructor(t,n){super(t,"in",n),this.keys=Ix("in",n)}matches(t){return this.keys.some((n=>n.isEqual(t.key)))}}class T6 extends ze{constructor(t,n){super(t,"not-in",n),this.keys=Ix("not-in",n)}matches(t){return!this.keys.some((n=>n.isEqual(t.key)))}}function Ix(e,t){return(t.arrayValue?.values||[]).map((n=>vt.fromName(n.referenceValue)))}class E6 extends ze{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return ov(n)&&Hu(n.arrayValue,this.value)}}class b6 extends ze{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Hu(this.value.arrayValue,n)}}class S6 extends ze{constructor(t,n){super(t,"not-in",n)}matches(t){if(Hu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Hu(this.value.arrayValue,n)}}class w6 extends ze{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!ov(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>Hu(this.value.arrayValue,s)))}}class A6{constructor(t,n=null,s=[],a=[],l=null,c=null,d=null){this.path=t,this.collectionGroup=n,this.orderBy=s,this.filters=a,this.limit=l,this.startAt=c,this.endAt=d,this.Te=null}}function v1(e,t=null,n=[],s=[],a=null,l=null,c=null){return new A6(e,t,n,s,a,l,c)}function lv(e){const t=At(e);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((s=>Hg(s))).join(","),n+="|ob:",n+=t.orderBy.map((s=>(function(l){return l.field.canonicalString()+l.dir})(s))).join(","),ad(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((s=>Ko(s))).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((s=>Ko(s))).join(",")),t.Te=n}return t.Te}function uv(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!g6(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!Cx(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!y1(e.startAt,t.startAt)&&y1(e.endAt,t.endAt)}function qg(e){return vt.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}class ld{constructor(t,n=null,s=[],a=[],l=null,c="F",d=null,g=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=a,this.limit=l,this.limitType=c,this.startAt=d,this.endAt=g,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function x6(e,t,n,s,a,l,c,d){return new ld(e,t,n,s,a,l,c,d)}function cv(e){return new ld(e)}function _1(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function C6(e){return vt.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}function R6(e){return e.collectionGroup!==null}function Iu(e){const t=At(e);if(t.Ie===null){t.Ie=[];const n=new Set;for(const l of t.explicitOrderBy)t.Ie.push(l),n.add(l.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new Be(en.comparator);return c.filters.forEach((g=>{g.getFlattenedFilters().forEach((p=>{p.isInequality()&&(d=d.add(p.field))}))})),d})(t).forEach((l=>{n.has(l.canonicalString())||l.isKeyField()||t.Ie.push(new Uf(l,s))})),n.has(en.keyField().canonicalString())||t.Ie.push(new Uf(en.keyField(),s))}return t.Ie}function Ki(e){const t=At(e);return t.Ee||(t.Ee=I6(t,Iu(e))),t.Ee}function I6(e,t){if(e.limitType==="F")return v1(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new Uf(a.field,l)}));const n=e.endAt?new jf(e.endAt.position,e.endAt.inclusive):null,s=e.startAt?new jf(e.startAt.position,e.startAt.inclusive):null;return v1(e.path,e.collectionGroup,t,e.filters,e.limit,n,s)}}function Gg(e,t,n){return new ld(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function ud(e,t){return uv(Ki(e),Ki(t))&&e.limitType===t.limitType}function Dx(e){return`${lv(Ki(e))}|lt:${e.limitType}`}function wo(e){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((a=>Rx(a))).join(", ")}]`),ad(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((a=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(a))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((a=>Ko(a))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((a=>Ko(a))).join(",")),`Target(${s})`})(Ki(e))}; limitType=${e.limitType})`}function cd(e,t){return t.isFoundDocument()&&(function(s,a){const l=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):vt.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)})(e,t)&&(function(s,a){for(const l of Iu(s))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(e,t)&&(function(s,a){for(const l of s.filters)if(!l.matches(a))return!1;return!0})(e,t)&&(function(s,a){return!(s.startAt&&!(function(c,d,g){const p=g1(c,d,g);return c.inclusive?p<=0:p<0})(s.startAt,Iu(s),a)||s.endAt&&!(function(c,d,g){const p=g1(c,d,g);return c.inclusive?p>=0:p>0})(s.endAt,Iu(s),a))})(e,t)}function D6(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Nx(e){return(t,n)=>{let s=!1;for(const a of Iu(e)){const l=N6(a,t,n);if(l!==0)return l;s=s||a.field.isKeyField()}return 0}}function N6(e,t,n){const s=e.field.isKeyField()?vt.comparator(t.key,n.key):(function(l,c,d){const g=c.data.field(l),p=d.data.field(l);return g!==null&&p!==null?Go(g,p):Tt(42886)})(e.field,t,n);switch(e.dir){case"asc":return s;case"desc":return-1*s;default:return Tt(19790,{direction:e.dir})}}class Ra{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s!==void 0){for(const[a,l]of s)if(this.equalsFn(a,t))return l}}has(t){return this.get(t)!==void 0}set(t,n){const s=this.mapKeyFn(t),a=this.inner[s];if(a===void 0)return this.inner[s]=[[t,n]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return void(a[l]=[t,n]);a.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],t))return s.length===1?delete this.inner[n]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(t){Ca(this.inner,((n,s)=>{for(const[a,l]of s)t(a,l)}))}isEmpty(){return px(this.inner)}size(){return this.innerSize}}const M6=new me(vt.comparator);function Is(){return M6}const Mx=new me(vt.comparator);function _u(...e){let t=Mx;for(const n of e)t=t.insert(n.key,n);return t}function Vx(e){let t=Mx;return e.forEach(((n,s)=>t=t.insert(n,s.overlayedDocument))),t}function ga(){return Du()}function Ox(){return Du()}function Du(){return new Ra((e=>e.toString()),((e,t)=>e.isEqual(t)))}const V6=new me(vt.comparator),O6=new Be(vt.comparator);function jt(...e){let t=O6;for(const n of e)t=t.add(n);return t}const P6=new Be(Lt);function k6(){return P6}function hv(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Pf(t)?"-0":t}}function Px(e){return{integerValue:""+e}}function L6(e,t){return o6(t)?Px(t):hv(e,t)}class hd{constructor(){this._=void 0}}function j6(e,t,n){return e instanceof zf?(function(a,l){const c={fields:{[vx]:{stringValue:yx},[Tx]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&av(l)&&(l=od(l)),l&&(c.fields[_x]=l),{mapValue:c}})(n,t):e instanceof qu?Lx(e,t):e instanceof Gu?jx(e,t):(function(a,l){const c=kx(a,l),d=T1(c)+T1(a.Ae);return Fg(c)&&Fg(a.Ae)?Px(d):hv(a.serializer,d)})(e,t)}function U6(e,t,n){return e instanceof qu?Lx(e,t):e instanceof Gu?jx(e,t):n}function kx(e,t){return e instanceof Bf?(function(s){return Fg(s)||(function(l){return!!l&&"doubleValue"in l})(s)})(t)?t:{integerValue:0}:null}class zf extends hd{}class qu extends hd{constructor(t){super(),this.elements=t}}function Lx(e,t){const n=Ux(t);for(const s of e.elements)n.some((a=>Ji(a,s)))||n.push(s);return{arrayValue:{values:n}}}class Gu extends hd{constructor(t){super(),this.elements=t}}function jx(e,t){let n=Ux(t);for(const s of e.elements)n=n.filter((a=>!Ji(a,s)));return{arrayValue:{values:n}}}class Bf extends hd{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function T1(e){return Se(e.integerValue||e.doubleValue)}function Ux(e){return ov(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function z6(e,t){return e.field.isEqual(t.field)&&(function(s,a){return s instanceof qu&&a instanceof qu||s instanceof Gu&&a instanceof Gu?qo(s.elements,a.elements,Ji):s instanceof Bf&&a instanceof Bf?Ji(s.Ae,a.Ae):s instanceof zf&&a instanceof zf})(e.transform,t.transform)}class B6{constructor(t,n){this.version=t,this.transformResults=n}}class Ss{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new Ss}static exists(t){return new Ss(void 0,t)}static updateTime(t){return new Ss(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function pf(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class fd{}function zx(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new Fx(e.key,Ss.none()):new ac(e.key,e.data,Ss.none());{const n=e.data,s=$n.empty();let a=new Be(en.comparator);for(let l of t.fields)if(!a.has(l)){let c=n.field(l);c===null&&l.length>1&&(l=l.popLast(),c=n.field(l)),c===null?s.delete(l):s.set(l,c),a=a.add(l)}return new Ia(e.key,s,new pi(a.toArray()),Ss.none())}}function F6(e,t,n){e instanceof ac?(function(a,l,c){const d=a.value.clone(),g=b1(a.fieldTransforms,l,c.transformResults);d.setAll(g),l.convertToFoundDocument(c.version,d).setHasCommittedMutations()})(e,t,n):e instanceof Ia?(function(a,l,c){if(!pf(a.precondition,l))return void l.convertToUnknownDocument(c.version);const d=b1(a.fieldTransforms,l,c.transformResults),g=l.data;g.setAll(Bx(a)),g.setAll(d),l.convertToFoundDocument(c.version,g).setHasCommittedMutations()})(e,t,n):(function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()})(0,t,n)}function Nu(e,t,n,s){return e instanceof ac?(function(l,c,d,g){if(!pf(l.precondition,c))return d;const p=l.value.clone(),y=S1(l.fieldTransforms,g,c);return p.setAll(y),c.convertToFoundDocument(c.version,p).setHasLocalMutations(),null})(e,t,n,s):e instanceof Ia?(function(l,c,d,g){if(!pf(l.precondition,c))return d;const p=S1(l.fieldTransforms,g,c),y=c.data;return y.setAll(Bx(l)),y.setAll(p),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((_=>_.field)))})(e,t,n,s):(function(l,c,d){return pf(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d})(e,t,n)}function H6(e,t){let n=null;for(const s of e.fieldTransforms){const a=t.data.field(s.field),l=kx(s.transform,a||null);l!=null&&(n===null&&(n=$n.empty()),n.set(s.field,l))}return n||null}function E1(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!(function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&qo(s,a,((l,c)=>z6(l,c)))})(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class ac extends fd{constructor(t,n,s,a=[]){super(),this.key=t,this.value=n,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Ia extends fd{constructor(t,n,s,a,l=[]){super(),this.key=t,this.data=n,this.fieldMask=s,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function Bx(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=e.data.field(n);t.set(n,s)}})),t}function b1(e,t,n){const s=new Map;Yt(e.length===n.length,32656,{Ve:n.length,de:e.length});for(let a=0;a<n.length;a++){const l=e[a],c=l.transform,d=t.data.field(l.field);s.set(l.field,U6(c,d,n[a]))}return s}function S1(e,t,n){const s=new Map;for(const a of e){const l=a.transform,c=n.data.field(a.field);s.set(a.field,j6(l,c,t))}return s}class Fx extends fd{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class q6 extends fd{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class G6{constructor(t,n,s,a){this.batchId=t,this.localWriteTime=n,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(t,n){const s=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(t.key)&&F6(l,t,s[a])}}applyToLocalView(t,n){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(n=Nu(s,t,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(n=Nu(s,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const s=Ox();return this.mutations.forEach((a=>{const l=t.get(a.key),c=l.overlayedDocument;let d=this.applyToLocalView(c,l.mutatedFields);d=n.has(a.key)?null:d;const g=zx(c,d);g!==null&&s.set(a.key,g),c.isValidDocument()||c.convertToNoDocument(St.min())})),s}keys(){return this.mutations.reduce(((t,n)=>t.add(n.key)),jt())}isEqual(t){return this.batchId===t.batchId&&qo(this.mutations,t.mutations,((n,s)=>E1(n,s)))&&qo(this.baseMutations,t.baseMutations,((n,s)=>E1(n,s)))}}class fv{constructor(t,n,s,a){this.batch=t,this.commitVersion=n,this.mutationResults=s,this.docVersions=a}static from(t,n,s){Yt(t.mutations.length===s.length,58842,{me:t.mutations.length,fe:s.length});let a=(function(){return V6})();const l=t.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,s[c].version);return new fv(t,n,s,a)}}class K6{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class Y6{constructor(t,n){this.count=t,this.unchangedNames=n}}var Ve,Bt;function $6(e){switch(e){case at.OK:return Tt(64938);case at.CANCELLED:case at.UNKNOWN:case at.DEADLINE_EXCEEDED:case at.RESOURCE_EXHAUSTED:case at.INTERNAL:case at.UNAVAILABLE:case at.UNAUTHENTICATED:return!1;case at.INVALID_ARGUMENT:case at.NOT_FOUND:case at.ALREADY_EXISTS:case at.PERMISSION_DENIED:case at.FAILED_PRECONDITION:case at.ABORTED:case at.OUT_OF_RANGE:case at.UNIMPLEMENTED:case at.DATA_LOSS:return!0;default:return Tt(15467,{code:e})}}function Hx(e){if(e===void 0)return Rs("GRPC error has no .code"),at.UNKNOWN;switch(e){case Ve.OK:return at.OK;case Ve.CANCELLED:return at.CANCELLED;case Ve.UNKNOWN:return at.UNKNOWN;case Ve.DEADLINE_EXCEEDED:return at.DEADLINE_EXCEEDED;case Ve.RESOURCE_EXHAUSTED:return at.RESOURCE_EXHAUSTED;case Ve.INTERNAL:return at.INTERNAL;case Ve.UNAVAILABLE:return at.UNAVAILABLE;case Ve.UNAUTHENTICATED:return at.UNAUTHENTICATED;case Ve.INVALID_ARGUMENT:return at.INVALID_ARGUMENT;case Ve.NOT_FOUND:return at.NOT_FOUND;case Ve.ALREADY_EXISTS:return at.ALREADY_EXISTS;case Ve.PERMISSION_DENIED:return at.PERMISSION_DENIED;case Ve.FAILED_PRECONDITION:return at.FAILED_PRECONDITION;case Ve.ABORTED:return at.ABORTED;case Ve.OUT_OF_RANGE:return at.OUT_OF_RANGE;case Ve.UNIMPLEMENTED:return at.UNIMPLEMENTED;case Ve.DATA_LOSS:return at.DATA_LOSS;default:return Tt(39323,{code:e})}}(Bt=Ve||(Ve={}))[Bt.OK=0]="OK",Bt[Bt.CANCELLED=1]="CANCELLED",Bt[Bt.UNKNOWN=2]="UNKNOWN",Bt[Bt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Bt[Bt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Bt[Bt.NOT_FOUND=5]="NOT_FOUND",Bt[Bt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Bt[Bt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Bt[Bt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Bt[Bt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Bt[Bt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Bt[Bt.ABORTED=10]="ABORTED",Bt[Bt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Bt[Bt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Bt[Bt.INTERNAL=13]="INTERNAL",Bt[Bt.UNAVAILABLE=14]="UNAVAILABLE",Bt[Bt.DATA_LOSS=15]="DATA_LOSS";function Q6(){return new TextEncoder}const X6=new Sr([4294967295,4294967295],0);function w1(e){const t=Q6().encode(e),n=new rx;return n.update(t),new Uint8Array(n.digest())}function A1(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),s=t.getUint32(4,!0),a=t.getUint32(8,!0),l=t.getUint32(12,!0);return[new Sr([n,s],0),new Sr([a,l],0)]}class dv{constructor(t,n,s){if(this.bitmap=t,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Tu(`Invalid padding: ${n}`);if(s<0)throw new Tu(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new Tu(`Invalid hash count: ${s}`);if(t.length===0&&n!==0)throw new Tu(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=Sr.fromNumber(this.ge)}ye(t,n,s){let a=t.add(n.multiply(Sr.fromNumber(s)));return a.compare(X6)===1&&(a=new Sr([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=w1(t),[s,a]=A1(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(s,a,l);if(!this.we(c))return!1}return!0}static create(t,n,s){const a=t%8==0?0:8-t%8,l=new Uint8Array(Math.ceil(t/8)),c=new dv(l,a,n);return s.forEach((d=>c.insert(d))),c}insert(t){if(this.ge===0)return;const n=w1(t),[s,a]=A1(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(s,a,l);this.be(c)}}be(t){const n=Math.floor(t/8),s=t%8;this.bitmap[n]|=1<<s}}class Tu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class dd{constructor(t,n,s,a,l){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(t,n,s){const a=new Map;return a.set(t,oc.createSynthesizedTargetChangeForCurrentChange(t,n,s)),new dd(St.min(),a,new me(Lt),Is(),jt())}}class oc{constructor(t,n,s,a,l){this.resumeToken=t,this.current=n,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(t,n,s){return new oc(s,n,jt(),jt(),jt())}}class gf{constructor(t,n,s,a){this.Se=t,this.removedTargetIds=n,this.key=s,this.De=a}}class qx{constructor(t,n){this.targetId=t,this.Ce=n}}class Gx{constructor(t,n,s=nn.EMPTY_BYTE_STRING,a=null){this.state=t,this.targetIds=n,this.resumeToken=s,this.cause=a}}class x1{constructor(){this.ve=0,this.Fe=C1(),this.Me=nn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=jt(),n=jt(),s=jt();return this.Fe.forEach(((a,l)=>{switch(l){case 0:t=t.add(a);break;case 2:n=n.add(a);break;case 1:s=s.add(a);break;default:Tt(38017,{changeType:l})}})),new oc(this.Me,this.xe,t,n,s)}Ke(){this.Oe=!1,this.Fe=C1()}qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}Ue(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}$e(){this.ve+=1}We(){this.ve-=1,Yt(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class W6{constructor(t){this.Ge=t,this.ze=new Map,this.je=Is(),this.He=Qh(),this.Je=Qh(),this.Ze=new me(Lt)}Xe(t){for(const n of t.Se)t.De&&t.De.isFoundDocument()?this.Ye(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,(n=>{const s=this.nt(n);switch(t.state){case 0:this.rt(n)&&s.Le(t.resumeToken);break;case 1:s.We(),s.Ne||s.Ke(),s.Le(t.resumeToken);break;case 2:s.We(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.Qe(),s.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(t.resumeToken));break;default:Tt(56790,{state:t.state})}}))}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach(((s,a)=>{this.rt(a)&&n(a)}))}st(t){const n=t.targetId,s=t.Ce.count,a=this.ot(n);if(a){const l=a.target;if(qg(l))if(s===0){const c=new vt(l.path);this.et(n,c,on.newNoDocument(c,St.min()))}else Yt(s===1,20013,{expectedCount:s});else{const c=this._t(n);if(c!==s){const d=this.ut(t),g=d?this.ct(d,t,c):1;if(g!==0){this.it(n);const p=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,p)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:l=0}=n;let c,d;try{c=Rr(s).toUint8Array()}catch(g){if(g instanceof gx)return Aa("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{d=new dv(c,a,l)}catch(g){return Aa(g instanceof Tu?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return d.ge===0?null:d}ct(t,n,s){return n.Ce.count===s-this.Pt(t,n.targetId)?0:2}Pt(t,n){const s=this.Ge.getRemoteKeysForTarget(n);let a=0;return s.forEach((l=>{const c=this.Ge.ht(),d=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;t.mightContain(d)||(this.et(n,l,null),a++)})),a}Tt(t){const n=new Map;this.ze.forEach(((l,c)=>{const d=this.ot(c);if(d){if(l.current&&qg(d.target)){const g=new vt(d.target.path);this.It(g).has(c)||this.Et(c,g)||this.et(c,g,on.newNoDocument(g,t))}l.Be&&(n.set(c,l.ke()),l.Ke())}}));let s=jt();this.Je.forEach(((l,c)=>{let d=!0;c.forEachWhile((g=>{const p=this.ot(g);return!p||p.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(s=s.add(l))})),this.je.forEach(((l,c)=>c.setReadTime(t)));const a=new dd(t,n,this.Ze,this.je,s);return this.je=Is(),this.He=Qh(),this.Je=Qh(),this.Ze=new me(Lt),a}Ye(t,n){if(!this.rt(t))return;const s=this.Et(t,n.key)?2:0;this.nt(t).qe(n.key,s),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(t)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(t))}et(t,n,s){if(!this.rt(t))return;const a=this.nt(t);this.Et(t,n)?a.qe(n,1):a.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(t)),this.Je=this.Je.insert(n,this.Rt(n).add(t)),s&&(this.je=this.je.insert(n,s))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}$e(t){this.nt(t).$e()}nt(t){let n=this.ze.get(t);return n||(n=new x1,this.ze.set(t,n)),n}Rt(t){let n=this.Je.get(t);return n||(n=new Be(Lt),this.Je=this.Je.insert(t,n)),n}It(t){let n=this.He.get(t);return n||(n=new Be(Lt),this.He=this.He.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||ct("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new x1),this.Ge.getRemoteKeysForTarget(t).forEach((n=>{this.et(t,n,null)}))}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function Qh(){return new me(vt.comparator)}function C1(){return new me(vt.comparator)}const J6={asc:"ASCENDING",desc:"DESCENDING"},Z6={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},tL={and:"AND",or:"OR"};class eL{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function Kg(e,t){return e.useProto3Json||ad(t)?t:{value:t}}function Ff(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Kx(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function nL(e,t){return Ff(e,t.toTimestamp())}function Yi(e){return Yt(!!e,49232),St.fromTimestamp((function(n){const s=Cr(n);return new oe(s.seconds,s.nanos)})(e))}function mv(e,t){return Yg(e,t).canonicalString()}function Yg(e,t){const n=(function(a){return new fe(["projects",a.projectId,"databases",a.database])})(e).child("documents");return t===void 0?n:n.child(t)}function Yx(e){const t=fe.fromString(e);return Yt(Jx(t),10190,{key:t.toString()}),t}function $g(e,t){return mv(e.databaseId,t.path)}function Zp(e,t){const n=Yx(t);if(n.get(1)!==e.databaseId.projectId)throw new gt(at.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new gt(at.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new vt(Qx(n))}function $x(e,t){return mv(e.databaseId,t)}function iL(e){const t=Yx(e);return t.length===4?fe.emptyPath():Qx(t)}function Qg(e){return new fe(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Qx(e){return Yt(e.length>4&&e.get(4)==="documents",29091,{key:e.toString()}),e.popFirst(5)}function R1(e,t,n){return{name:$g(e,t),fields:n.value.mapValue.fields}}function sL(e,t){let n;if("targetChange"in t){t.targetChange;const s=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Tt(39313,{state:p})})(t.targetChange.targetChangeType||"NO_CHANGE"),a=t.targetChange.targetIds||[],l=(function(p,y){return p.useProto3Json?(Yt(y===void 0||typeof y=="string",58123),nn.fromBase64String(y||"")):(Yt(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),nn.fromUint8Array(y||new Uint8Array))})(e,t.targetChange.resumeToken),c=t.targetChange.cause,d=c&&(function(p){const y=p.code===void 0?at.UNKNOWN:Hx(p.code);return new gt(y,p.message||"")})(c);n=new Gx(s,a,l,d||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const a=Zp(e,s.document.name),l=Yi(s.document.updateTime),c=s.document.createTime?Yi(s.document.createTime):St.min(),d=new $n({mapValue:{fields:s.document.fields}}),g=on.newFoundDocument(a,l,c,d),p=s.targetIds||[],y=s.removedTargetIds||[];n=new gf(p,y,g.key,g)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const a=Zp(e,s.document),l=s.readTime?Yi(s.readTime):St.min(),c=on.newNoDocument(a,l),d=s.removedTargetIds||[];n=new gf([],d,c.key,c)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const a=Zp(e,s.document),l=s.removedTargetIds||[];n=new gf([],l,a,null)}else{if(!("filter"in t))return Tt(11601,{Vt:t});{t.filter;const s=t.filter;s.targetId;const{count:a=0,unchangedNames:l}=s,c=new Y6(a,l),d=s.targetId;n=new qx(d,c)}}return n}function rL(e,t){let n;if(t instanceof ac)n={update:R1(e,t.key,t.value)};else if(t instanceof Fx)n={delete:$g(e,t.key)};else if(t instanceof Ia)n={update:R1(e,t.key,t.data),updateMask:mL(t.fieldMask)};else{if(!(t instanceof q6))return Tt(16599,{dt:t.type});n={verify:$g(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((s=>(function(l,c){const d=c.transform;if(d instanceof zf)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof qu)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Gu)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Bf)return{fieldPath:c.field.canonicalString(),increment:d.Ae};throw Tt(20930,{transform:c.transform})})(0,s)))),t.precondition.isNone||(n.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:nL(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Tt(27497)})(e,t.precondition)),n}function aL(e,t){return e&&e.length>0?(Yt(t!==void 0,14353),e.map((n=>(function(a,l){let c=a.updateTime?Yi(a.updateTime):Yi(l);return c.isEqual(St.min())&&(c=Yi(l)),new B6(c,a.transformResults||[])})(n,t)))):[]}function oL(e,t){return{documents:[$x(e,t.path)]}}function lL(e,t){const n={structuredQuery:{}},s=t.path;let a;t.collectionGroup!==null?(a=s,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(a=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=$x(e,a);const l=(function(p){if(p.length!==0)return Wx(Zi.create(p,"and"))})(t.filters);l&&(n.structuredQuery.where=l);const c=(function(p){if(p.length!==0)return p.map((y=>(function(b){return{field:Ao(b.field),direction:hL(b.dir)}})(y)))})(t.orderBy);c&&(n.structuredQuery.orderBy=c);const d=Kg(e,t.limit);return d!==null&&(n.structuredQuery.limit=d),t.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(t.startAt)),t.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(t.endAt)),{ft:n,parent:a}}function uL(e){let t=iL(e.parent);const n=e.structuredQuery,s=n.from?n.from.length:0;let a=null;if(s>0){Yt(s===1,65062);const y=n.from[0];y.allDescendants?a=y.collectionId:t=t.child(y.collectionId)}let l=[];n.where&&(l=(function(_){const b=Xx(_);return b instanceof Zi&&xx(b)?b.getFilters():[b]})(n.where));let c=[];n.orderBy&&(c=(function(_){return _.map((b=>(function(D){return new Uf(xo(D.field),(function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(D.direction))})(b)))})(n.orderBy));let d=null;n.limit&&(d=(function(_){let b;return b=typeof _=="object"?_.value:_,ad(b)?null:b})(n.limit));let g=null;n.startAt&&(g=(function(_){const b=!!_.before,C=_.values||[];return new jf(C,b)})(n.startAt));let p=null;return n.endAt&&(p=(function(_){const b=!_.before,C=_.values||[];return new jf(C,b)})(n.endAt)),x6(t,a,c,l,d,"F",g,p)}function cL(e,t){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Tt(28987,{purpose:a})}})(t.purpose);return n==null?null:{"goog-listen-tags":n}}function Xx(e){return e.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=xo(n.unaryFilter.field);return ze.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=xo(n.unaryFilter.field);return ze.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=xo(n.unaryFilter.field);return ze.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=xo(n.unaryFilter.field);return ze.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Tt(61313);default:return Tt(60726)}})(e):e.fieldFilter!==void 0?(function(n){return ze.create(xo(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Tt(58110);default:return Tt(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(e):e.compositeFilter!==void 0?(function(n){return Zi.create(n.compositeFilter.filters.map((s=>Xx(s))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Tt(1026)}})(n.compositeFilter.op))})(e):Tt(30097,{filter:e})}function hL(e){return J6[e]}function fL(e){return Z6[e]}function dL(e){return tL[e]}function Ao(e){return{fieldPath:e.canonicalString()}}function xo(e){return en.fromServerFormat(e.fieldPath)}function Wx(e){return e instanceof ze?(function(n){if(n.op==="=="){if(p1(n.value))return{unaryFilter:{field:Ao(n.field),op:"IS_NAN"}};if(m1(n.value))return{unaryFilter:{field:Ao(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(p1(n.value))return{unaryFilter:{field:Ao(n.field),op:"IS_NOT_NAN"}};if(m1(n.value))return{unaryFilter:{field:Ao(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ao(n.field),op:fL(n.op),value:n.value}}})(e):e instanceof Zi?(function(n){const s=n.getFilters().map((a=>Wx(a)));return s.length===1?s[0]:{compositeFilter:{op:dL(n.op),filters:s}}})(e):Tt(54877,{filter:e})}function mL(e){const t=[];return e.fields.forEach((n=>t.push(n.canonicalString()))),{fieldPaths:t}}function Jx(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}function Zx(e){return!!e&&typeof e._toProto=="function"&&e._protoValueType==="ProtoValue"}class _r{constructor(t,n,s,a,l=St.min(),c=St.min(),d=nn.EMPTY_BYTE_STRING,g=null){this.target=t,this.targetId=n,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=g}withSequenceNumber(t){return new _r(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new _r(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new _r(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new _r(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class pL{constructor(t){this.yt=t}}function gL(e){const t=uL({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?Gg(t,t.limit,"L"):t}class yL{constructor(){this.Sn=new vL}addToCollectionParentIndex(t,n){return this.Sn.add(n),st.resolve()}getCollectionParents(t,n){return st.resolve(this.Sn.getEntries(n))}addFieldIndex(t,n){return st.resolve()}deleteFieldIndex(t,n){return st.resolve()}deleteAllFieldIndexes(t){return st.resolve()}createTargetIndexes(t,n){return st.resolve()}getDocumentsMatchingTarget(t,n){return st.resolve(null)}getIndexType(t,n){return st.resolve(0)}getFieldIndexes(t,n){return st.resolve([])}getNextCollectionGroupToUpdate(t){return st.resolve(null)}getMinOffset(t,n){return st.resolve(xr.min())}getMinOffsetFromCollectionGroup(t,n){return st.resolve(xr.min())}updateCollectionGroup(t,n,s){return st.resolve()}updateIndexEntries(t,n){return st.resolve()}}class vL{constructor(){this.index={}}add(t){const n=t.lastSegment(),s=t.popLast(),a=this.index[n]||new Be(fe.comparator),l=!a.has(s);return this.index[n]=a.add(s),l}has(t){const n=t.lastSegment(),s=t.popLast(),a=this.index[n];return a&&a.has(s)}getEntries(t){return(this.index[t]||new Be(fe.comparator)).toArray()}}const I1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},tC=41943040;class Sn{static withCacheSize(t){return new Sn(t,Sn.DEFAULT_COLLECTION_PERCENTILE,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}Sn.DEFAULT_COLLECTION_PERCENTILE=10,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Sn.DEFAULT=new Sn(tC,Sn.DEFAULT_COLLECTION_PERCENTILE,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Sn.DISABLED=new Sn(-1,0,0);class Yo{constructor(t){this.sr=t}next(){return this.sr+=2,this.sr}static _r(){return new Yo(0)}static ar(){return new Yo(-1)}}const D1="LruGarbageCollector",_L=1048576;function N1([e,t],[n,s]){const a=Lt(e,n);return a===0?Lt(t,s):a}class TL{constructor(t){this.Pr=t,this.buffer=new Be(N1),this.Tr=0}Ir(){return++this.Tr}Er(t){const n=[t,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();N1(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class EL{constructor(t,n,s){this.garbageCollector=t,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(t){ct(D1,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){al(n)?ct(D1,"Ignoring IndexedDB error during garbage collection: ",n):await rl(n)}await this.Ar(3e5)}))}}class bL{constructor(t,n){this.Vr=t,this.params=n}calculateTargetCount(t,n){return this.Vr.dr(t).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(t,n){if(n===0)return st.resolve(rd.ce);const s=new TL(n);return this.Vr.forEachTarget(t,(a=>s.Er(a.sequenceNumber))).next((()=>this.Vr.mr(t,(a=>s.Er(a))))).next((()=>s.maxValue))}removeTargets(t,n,s){return this.Vr.removeTargets(t,n,s)}removeOrphanedDocuments(t,n){return this.Vr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(ct("LruGarbageCollector","Garbage collection skipped; disabled"),st.resolve(I1)):this.getCacheSize(t).next((s=>s<this.params.cacheSizeCollectionThreshold?(ct("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),I1):this.gr(t,n)))}getCacheSize(t){return this.Vr.getCacheSize(t)}gr(t,n){let s,a,l,c,d,g,p;const y=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((_=>(_>this.params.maximumSequenceNumbersToCollect?(ct("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),a=this.params.maximumSequenceNumbersToCollect):a=_,c=Date.now(),this.nthSequenceNumber(t,a)))).next((_=>(s=_,d=Date.now(),this.removeTargets(t,s,n)))).next((_=>(l=_,g=Date.now(),this.removeOrphanedDocuments(t,s)))).next((_=>(p=Date.now(),So()<=kt.DEBUG&&ct("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-y}ms
	Determined least recently used ${a} in `+(d-c)+`ms
	Removed ${l} targets in `+(g-d)+`ms
	Removed ${_} documents in `+(p-g)+`ms
Total Duration: ${p-y}ms`),st.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:_}))))}}function SL(e,t){return new bL(e,t)}class wL{constructor(){this.changes=new Ra((t=>t.toString()),((t,n)=>t.isEqual(n))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,on.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?st.resolve(s):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class AL{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}class xL{constructor(t,n,s,a){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=a}getDocument(t,n){let s=null;return this.documentOverlayCache.getOverlay(t,n).next((a=>(s=a,this.remoteDocumentCache.getEntry(t,n)))).next((a=>(s!==null&&Nu(s.mutation,a,pi.empty(),oe.now()),a)))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next((s=>this.getLocalViewOfDocuments(t,s,jt()).next((()=>s))))}getLocalViewOfDocuments(t,n,s=jt()){const a=ga();return this.populateOverlays(t,a,n).next((()=>this.computeViews(t,n,a,s).next((l=>{let c=_u();return l.forEach(((d,g)=>{c=c.insert(d,g.overlayedDocument)})),c}))))}getOverlayedDocuments(t,n){const s=ga();return this.populateOverlays(t,s,n).next((()=>this.computeViews(t,n,s,jt())))}populateOverlays(t,n,s){const a=[];return s.forEach((l=>{n.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(t,a).next((l=>{l.forEach(((c,d)=>{n.set(c,d)}))}))}computeViews(t,n,s,a){let l=Is();const c=Du(),d=(function(){return Du()})();return n.forEach(((g,p)=>{const y=s.get(p.key);a.has(p.key)&&(y===void 0||y.mutation instanceof Ia)?l=l.insert(p.key,p):y!==void 0?(c.set(p.key,y.mutation.getFieldMask()),Nu(y.mutation,p,y.mutation.getFieldMask(),oe.now())):c.set(p.key,pi.empty())})),this.recalculateAndSaveOverlays(t,l).next((g=>(g.forEach(((p,y)=>c.set(p,y))),n.forEach(((p,y)=>d.set(p,new AL(y,c.get(p)??null)))),d)))}recalculateAndSaveOverlays(t,n){const s=Du();let a=new me(((c,d)=>c-d)),l=jt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next((c=>{for(const d of c)d.keys().forEach((g=>{const p=n.get(g);if(p===null)return;let y=s.get(g)||pi.empty();y=d.applyToLocalView(p,y),s.set(g,y);const _=(a.get(d.batchId)||jt()).add(g);a=a.insert(d.batchId,_)}))})).next((()=>{const c=[],d=a.getReverseIterator();for(;d.hasNext();){const g=d.getNext(),p=g.key,y=g.value,_=Ox();y.forEach((b=>{if(!l.has(b)){const C=zx(n.get(b),s.get(b));C!==null&&_.set(b,C),l=l.add(b)}})),c.push(this.documentOverlayCache.saveOverlays(t,p,_))}return st.waitFor(c)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next((s=>this.recalculateAndSaveOverlays(t,s)))}getDocumentsMatchingQuery(t,n,s,a){return C6(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):R6(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,s,a):this.getDocumentsMatchingCollectionQuery(t,n,s,a)}getNextDocuments(t,n,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,s,a).next((l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,s.largestBatchId,a-l.size):st.resolve(ga());let d=zu,g=l;return c.next((p=>st.forEach(p,((y,_)=>(d<_.largestBatchId&&(d=_.largestBatchId),l.get(y)?st.resolve():this.remoteDocumentCache.getEntry(t,y).next((b=>{g=g.insert(y,b)}))))).next((()=>this.populateOverlays(t,p,l))).next((()=>this.computeViews(t,g,p,jt()))).next((y=>({batchId:d,changes:Vx(y)})))))}))}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new vt(n)).next((s=>{let a=_u();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a}))}getDocumentsMatchingCollectionGroupQuery(t,n,s,a){const l=n.collectionGroup;let c=_u();return this.indexManager.getCollectionParents(t,l).next((d=>st.forEach(d,(g=>{const p=(function(_,b){return new ld(b,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)})(n,g.child(l));return this.getDocumentsMatchingCollectionQuery(t,p,s,a).next((y=>{y.forEach(((_,b)=>{c=c.insert(_,b)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(t,n,s,a){let l;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,s.largestBatchId).next((c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,s,l,a)))).next((c=>{l.forEach(((g,p)=>{const y=p.getKey();c.get(y)===null&&(c=c.insert(y,on.newInvalidDocument(y)))}));let d=_u();return c.forEach(((g,p)=>{const y=l.get(g);y!==void 0&&Nu(y.mutation,p,pi.empty(),oe.now()),cd(n,p)&&(d=d.insert(g,p))})),d}))}}class CL{constructor(t){this.serializer=t,this.Nr=new Map,this.Br=new Map}getBundleMetadata(t,n){return st.resolve(this.Nr.get(n))}saveBundleMetadata(t,n){return this.Nr.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:Yi(a.createTime)}})(n)),st.resolve()}getNamedQuery(t,n){return st.resolve(this.Br.get(n))}saveNamedQuery(t,n){return this.Br.set(n.name,(function(a){return{name:a.name,query:gL(a.bundledQuery),readTime:Yi(a.readTime)}})(n)),st.resolve()}}class RL{constructor(){this.overlays=new me(vt.comparator),this.Lr=new Map}getOverlay(t,n){return st.resolve(this.overlays.get(n))}getOverlays(t,n){const s=ga();return st.forEach(n,(a=>this.getOverlay(t,a).next((l=>{l!==null&&s.set(a,l)})))).next((()=>s))}saveOverlays(t,n,s){return s.forEach(((a,l)=>{this.bt(t,n,l)})),st.resolve()}removeOverlaysForBatchId(t,n,s){const a=this.Lr.get(s);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.Lr.delete(s)),st.resolve()}getOverlaysForCollection(t,n,s){const a=ga(),l=n.length+1,c=new vt(n.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const g=d.getNext().value,p=g.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===l&&g.largestBatchId>s&&a.set(g.getKey(),g)}return st.resolve(a)}getOverlaysForCollectionGroup(t,n,s,a){let l=new me(((p,y)=>p-y));const c=this.overlays.getIterator();for(;c.hasNext();){const p=c.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>s){let y=l.get(p.largestBatchId);y===null&&(y=ga(),l=l.insert(p.largestBatchId,y)),y.set(p.getKey(),p)}}const d=ga(),g=l.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((p,y)=>d.set(p,y))),!(d.size()>=a)););return st.resolve(d)}bt(t,n,s){const a=this.overlays.get(s.key);if(a!==null){const c=this.Lr.get(a.largestBatchId).delete(s.key);this.Lr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(s.key,new K6(n,s));let l=this.Lr.get(n);l===void 0&&(l=jt(),this.Lr.set(n,l)),this.Lr.set(n,l.add(s.key))}}class IL{constructor(){this.sessionToken=nn.EMPTY_BYTE_STRING}getSessionToken(t){return st.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,st.resolve()}}class pv{constructor(){this.kr=new Be(Ge.Kr),this.qr=new Be(Ge.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(t,n){const s=new Ge(t,n);this.kr=this.kr.add(s),this.qr=this.qr.add(s)}$r(t,n){t.forEach((s=>this.addReference(s,n)))}removeReference(t,n){this.Wr(new Ge(t,n))}Qr(t,n){t.forEach((s=>this.removeReference(s,n)))}Gr(t){const n=new vt(new fe([])),s=new Ge(n,t),a=new Ge(n,t+1),l=[];return this.qr.forEachInRange([s,a],(c=>{this.Wr(c),l.push(c.key)})),l}zr(){this.kr.forEach((t=>this.Wr(t)))}Wr(t){this.kr=this.kr.delete(t),this.qr=this.qr.delete(t)}jr(t){const n=new vt(new fe([])),s=new Ge(n,t),a=new Ge(n,t+1);let l=jt();return this.qr.forEachInRange([s,a],(c=>{l=l.add(c.key)})),l}containsKey(t){const n=new Ge(t,0),s=this.kr.firstAfterOrEqual(n);return s!==null&&t.isEqual(s.key)}}class Ge{constructor(t,n){this.key=t,this.Hr=n}static Kr(t,n){return vt.comparator(t.key,n.key)||Lt(t.Hr,n.Hr)}static Ur(t,n){return Lt(t.Hr,n.Hr)||vt.comparator(t.key,n.key)}}class DL{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new Be(Ge.Kr)}checkEmpty(t){return st.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,s,a){const l=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new G6(l,n,s,a);this.mutationQueue.push(c);for(const d of a)this.Jr=this.Jr.add(new Ge(d.key,l)),this.indexManager.addToCollectionParentIndex(t,d.key.path.popLast());return st.resolve(c)}lookupMutationBatch(t,n){return st.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(t,n){const s=n+1,a=this.Xr(s),l=a<0?0:a;return st.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return st.resolve(this.mutationQueue.length===0?rv:this.Yn-1)}getAllMutationBatches(t){return st.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const s=new Ge(n,0),a=new Ge(n,Number.POSITIVE_INFINITY),l=[];return this.Jr.forEachInRange([s,a],(c=>{const d=this.Zr(c.Hr);l.push(d)})),st.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(t,n){let s=new Be(Lt);return n.forEach((a=>{const l=new Ge(a,0),c=new Ge(a,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([l,c],(d=>{s=s.add(d.Hr)}))})),st.resolve(this.Yr(s))}getAllMutationBatchesAffectingQuery(t,n){const s=n.path,a=s.length+1;let l=s;vt.isDocumentKey(l)||(l=l.child(""));const c=new Ge(new vt(l),0);let d=new Be(Lt);return this.Jr.forEachWhile((g=>{const p=g.key.path;return!!s.isPrefixOf(p)&&(p.length===a&&(d=d.add(g.Hr)),!0)}),c),st.resolve(this.Yr(d))}Yr(t){const n=[];return t.forEach((s=>{const a=this.Zr(s);a!==null&&n.push(a)})),n}removeMutationBatch(t,n){Yt(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Jr;return st.forEach(n.mutations,(a=>{const l=new Ge(a.key,n.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(t,a.key)})).next((()=>{this.Jr=s}))}nr(t){}containsKey(t,n){const s=new Ge(n,0),a=this.Jr.firstAfterOrEqual(s);return st.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(t){return this.mutationQueue.length,st.resolve()}ei(t,n){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const n=this.Xr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class NL{constructor(t){this.ti=t,this.docs=(function(){return new me(vt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const s=n.key,a=this.docs.get(s),l=a?a.size:0,c=this.ti(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const s=this.docs.get(n);return st.resolve(s?s.document.mutableCopy():on.newInvalidDocument(n))}getEntries(t,n){let s=Is();return n.forEach((a=>{const l=this.docs.get(a);s=s.insert(a,l?l.document.mutableCopy():on.newInvalidDocument(a))})),st.resolve(s)}getDocumentsMatchingQuery(t,n,s,a){let l=Is();const c=n.path,d=new vt(c.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(d);for(;g.hasNext();){const{key:p,value:{document:y}}=g.getNext();if(!c.isPrefixOf(p.path))break;p.path.length>c.length+1||i6(n6(y),s)<=0||(a.has(y.key)||cd(n,y))&&(l=l.insert(y.key,y.mutableCopy()))}return st.resolve(l)}getAllFromCollectionGroup(t,n,s,a){Tt(9500)}ni(t,n){return st.forEach(this.docs,(s=>n(s)))}newChangeBuffer(t){return new ML(this)}getSize(t){return st.resolve(this.size)}}class ML extends wL{constructor(t){super(),this.Mr=t}applyChanges(t){const n=[];return this.changes.forEach(((s,a)=>{a.isValidDocument()?n.push(this.Mr.addEntry(t,a)):this.Mr.removeEntry(s)})),st.waitFor(n)}getFromCache(t,n){return this.Mr.getEntry(t,n)}getAllFromCache(t,n){return this.Mr.getEntries(t,n)}}class VL{constructor(t){this.persistence=t,this.ri=new Ra((n=>lv(n)),uv),this.lastRemoteSnapshotVersion=St.min(),this.highestTargetId=0,this.ii=0,this.si=new pv,this.targetCount=0,this.oi=Yo._r()}forEachTarget(t,n){return this.ri.forEach(((s,a)=>n(a))),st.resolve()}getLastRemoteSnapshotVersion(t){return st.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return st.resolve(this.ii)}allocateTargetId(t){return this.highestTargetId=this.oi.next(),st.resolve(this.highestTargetId)}setTargetsMetadata(t,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.ii&&(this.ii=n),st.resolve()}lr(t){this.ri.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.oi=new Yo(n),this.highestTargetId=n),t.sequenceNumber>this.ii&&(this.ii=t.sequenceNumber)}addTargetData(t,n){return this.lr(n),this.targetCount+=1,st.resolve()}updateTargetData(t,n){return this.lr(n),st.resolve()}removeTargetData(t,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,st.resolve()}removeTargets(t,n,s){let a=0;const l=[];return this.ri.forEach(((c,d)=>{d.sequenceNumber<=n&&s.get(d.targetId)===null&&(this.ri.delete(c),l.push(this.removeMatchingKeysForTargetId(t,d.targetId)),a++)})),st.waitFor(l).next((()=>a))}getTargetCount(t){return st.resolve(this.targetCount)}getTargetData(t,n){const s=this.ri.get(n)||null;return st.resolve(s)}addMatchingKeys(t,n,s){return this.si.$r(n,s),st.resolve()}removeMatchingKeys(t,n,s){this.si.Qr(n,s);const a=this.persistence.referenceDelegate,l=[];return a&&n.forEach((c=>{l.push(a.markPotentiallyOrphaned(t,c))})),st.waitFor(l)}removeMatchingKeysForTargetId(t,n){return this.si.Gr(n),st.resolve()}getMatchingKeysForTargetId(t,n){const s=this.si.jr(n);return st.resolve(s)}containsKey(t,n){return st.resolve(this.si.containsKey(n))}}class eC{constructor(t,n){this._i={},this.overlays={},this.ai=new rd(0),this.ui=!1,this.ui=!0,this.ci=new IL,this.referenceDelegate=t(this),this.li=new VL(this),this.indexManager=new yL,this.remoteDocumentCache=(function(a){return new NL(a)})((s=>this.referenceDelegate.hi(s))),this.serializer=new pL(n),this.Pi=new CL(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new RL,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let s=this._i[t.toKey()];return s||(s=new DL(n,this.referenceDelegate),this._i[t.toKey()]=s),s}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(t,n,s){ct("MemoryPersistence","Starting transaction:",t);const a=new OL(this.ai.next());return this.referenceDelegate.Ti(),s(a).next((l=>this.referenceDelegate.Ii(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ei(t,n){return st.or(Object.values(this._i).map((s=>()=>s.containsKey(t,n))))}}class OL extends r6{constructor(t){super(),this.currentSequenceNumber=t}}class gv{constructor(t){this.persistence=t,this.Ri=new pv,this.Ai=null}static Vi(t){return new gv(t)}get di(){if(this.Ai)return this.Ai;throw Tt(60996)}addReference(t,n,s){return this.Ri.addReference(s,n),this.di.delete(s.toString()),st.resolve()}removeReference(t,n,s){return this.Ri.removeReference(s,n),this.di.add(s.toString()),st.resolve()}markPotentiallyOrphaned(t,n){return this.di.add(n.toString()),st.resolve()}removeTarget(t,n){this.Ri.Gr(n.targetId).forEach((a=>this.di.add(a.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,n.targetId).next((a=>{a.forEach((l=>this.di.add(l.toString())))})).next((()=>s.removeTargetData(t,n)))}Ti(){this.Ai=new Set}Ii(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return st.forEach(this.di,(s=>{const a=vt.fromPath(s);return this.mi(t,a).next((l=>{l||n.removeEntry(a,St.min())}))})).next((()=>(this.Ai=null,n.apply(t))))}updateLimboDocument(t,n){return this.mi(t,n).next((s=>{s?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(t){return 0}mi(t,n){return st.or([()=>st.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ei(t,n)])}}class Hf{constructor(t,n){this.persistence=t,this.fi=new Ra((s=>l6(s.path)),((s,a)=>s.isEqual(a))),this.garbageCollector=SL(this,n)}static Vi(t,n){return new Hf(t,n)}Ti(){}Ii(t){return st.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}dr(t){const n=this.pr(t);return this.persistence.getTargetCache().getTargetCount(t).next((s=>n.next((a=>s+a))))}pr(t){let n=0;return this.mr(t,(s=>{n++})).next((()=>n))}mr(t,n){return st.forEach(this.fi,((s,a)=>this.wr(t,s,a).next((l=>l?st.resolve():n(a)))))}removeTargets(t,n,s){return this.persistence.getTargetCache().removeTargets(t,n,s)}removeOrphanedDocuments(t,n){let s=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ni(t,(c=>this.wr(t,c,n).next((d=>{d||(s++,l.removeEntry(c,St.min()))})))).next((()=>l.apply(t))).next((()=>s))}markPotentiallyOrphaned(t,n){return this.fi.set(n,t.currentSequenceNumber),st.resolve()}removeTarget(t,n){const s=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,n,s){return this.fi.set(s,t.currentSequenceNumber),st.resolve()}removeReference(t,n,s){return this.fi.set(s,t.currentSequenceNumber),st.resolve()}updateLimboDocument(t,n){return this.fi.set(n,t.currentSequenceNumber),st.resolve()}hi(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=df(t.data.value)),n}wr(t,n,s){return st.or([()=>this.persistence.Ei(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const a=this.fi.get(n);return st.resolve(a!==void 0&&a>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class yv{constructor(t,n,s,a){this.targetId=t,this.fromCache=n,this.Ts=s,this.Is=a}static Es(t,n){let s=jt(),a=jt();for(const l of n.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new yv(t,n.fromCache,s,a)}}class PL{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class kL{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return EP()?8:a6(un())>0?6:4})()}initialize(t,n){this.fs=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,s,a){const l={result:null};return this.gs(t,n).next((c=>{l.result=c})).next((()=>{if(!l.result)return this.ps(t,n,a,s).next((c=>{l.result=c}))})).next((()=>{if(l.result)return;const c=new PL;return this.ys(t,n,c).next((d=>{if(l.result=d,this.As)return this.ws(t,n,c,d.size)}))})).next((()=>l.result))}ws(t,n,s,a){return s.documentReadCount<this.Vs?(So()<=kt.DEBUG&&ct("QueryEngine","SDK will not create cache indexes for query:",wo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),st.resolve()):(So()<=kt.DEBUG&&ct("QueryEngine","Query:",wo(n),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.ds*a?(So()<=kt.DEBUG&&ct("QueryEngine","The SDK decides to create cache indexes for query:",wo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ki(n))):st.resolve())}gs(t,n){if(_1(n))return st.resolve(null);let s=Ki(n);return this.indexManager.getIndexType(t,s).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=Gg(n,null,"F"),s=Ki(n)),this.indexManager.getDocumentsMatchingTarget(t,s).next((l=>{const c=jt(...l);return this.fs.getDocuments(t,c).next((d=>this.indexManager.getMinOffset(t,s).next((g=>{const p=this.bs(n,d);return this.Ss(n,p,c,g.readTime)?this.gs(t,Gg(n,null,"F")):this.Ds(t,p,n,g)}))))})))))}ps(t,n,s,a){return _1(n)||a.isEqual(St.min())?st.resolve(null):this.fs.getDocuments(t,s).next((l=>{const c=this.bs(n,l);return this.Ss(n,c,s,a)?st.resolve(null):(So()<=kt.DEBUG&&ct("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),wo(n)),this.Ds(t,c,n,e6(a,zu)).next((d=>d)))}))}bs(t,n){let s=new Be(Nx(t));return n.forEach(((a,l)=>{cd(t,l)&&(s=s.add(l))})),s}Ss(t,n,s,a){if(t.limit===null)return!1;if(s.size!==n.size)return!0;const l=t.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}ys(t,n,s){return So()<=kt.DEBUG&&ct("QueryEngine","Using full collection scan to execute query:",wo(n)),this.fs.getDocumentsMatchingQuery(t,n,xr.min(),s)}Ds(t,n,s,a){return this.fs.getDocumentsMatchingQuery(t,s,a).next((l=>(n.forEach((c=>{l=l.insert(c.key,c)})),l)))}}const vv="LocalStore",LL=3e8;class jL{constructor(t,n,s,a){this.persistence=t,this.Cs=n,this.serializer=a,this.vs=new me(Lt),this.Fs=new Ra((l=>lv(l)),uv),this.Ms=new Map,this.xs=t.getRemoteDocumentCache(),this.li=t.getTargetCache(),this.Pi=t.getBundleCache(),this.Os(s)}Os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new xL(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>t.collect(n,this.vs)))}}function UL(e,t,n,s){return new jL(e,t,n,s)}async function nC(e,t){const n=At(e);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let a;return n.mutationQueue.getAllMutationBatches(s).next((l=>(a=l,n.Os(t),n.mutationQueue.getAllMutationBatches(s)))).next((l=>{const c=[],d=[];let g=jt();for(const p of a){c.push(p.batchId);for(const y of p.mutations)g=g.add(y.key)}for(const p of l){d.push(p.batchId);for(const y of p.mutations)g=g.add(y.key)}return n.localDocuments.getDocuments(s,g).next((p=>({Ns:p,removedBatchIds:c,addedBatchIds:d})))}))}))}function zL(e,t){const n=At(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const a=t.batch.keys(),l=n.xs.newChangeBuffer({trackRemovals:!0});return(function(d,g,p,y){const _=p.batch,b=_.keys();let C=st.resolve();return b.forEach((D=>{C=C.next((()=>y.getEntry(g,D))).next((k=>{const L=p.docVersions.get(D);Yt(L!==null,48541),k.version.compareTo(L)<0&&(_.applyToRemoteDocument(k,p),k.isValidDocument()&&(k.setReadTime(p.commitVersion),y.addEntry(k)))}))})),C.next((()=>d.mutationQueue.removeMutationBatch(g,_)))})(n,s,t,l).next((()=>l.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,a,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(d){let g=jt();for(let p=0;p<d.mutationResults.length;++p)d.mutationResults[p].transformResults.length>0&&(g=g.add(d.batch.mutations[p].key));return g})(t)))).next((()=>n.localDocuments.getDocuments(s,a)))}))}function iC(e){const t=At(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>t.li.getLastRemoteSnapshotVersion(n)))}function BL(e,t){const n=At(e),s=t.snapshotVersion;let a=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const c=n.xs.newChangeBuffer({trackRemovals:!0});a=n.vs;const d=[];t.targetChanges.forEach(((y,_)=>{const b=a.get(_);if(!b)return;d.push(n.li.removeMatchingKeys(l,y.removedDocuments,_).next((()=>n.li.addMatchingKeys(l,y.addedDocuments,_))));let C=b.withSequenceNumber(l.currentSequenceNumber);t.targetMismatches.get(_)!==null?C=C.withResumeToken(nn.EMPTY_BYTE_STRING,St.min()).withLastLimboFreeSnapshotVersion(St.min()):y.resumeToken.approximateByteSize()>0&&(C=C.withResumeToken(y.resumeToken,s)),a=a.insert(_,C),(function(k,L,H){return k.resumeToken.approximateByteSize()===0||L.snapshotVersion.toMicroseconds()-k.snapshotVersion.toMicroseconds()>=LL?!0:H.addedDocuments.size+H.modifiedDocuments.size+H.removedDocuments.size>0})(b,C,y)&&d.push(n.li.updateTargetData(l,C))}));let g=Is(),p=jt();if(t.documentUpdates.forEach((y=>{t.resolvedLimboDocuments.has(y)&&d.push(n.persistence.referenceDelegate.updateLimboDocument(l,y))})),d.push(FL(l,c,t.documentUpdates).next((y=>{g=y.Bs,p=y.Ls}))),!s.isEqual(St.min())){const y=n.li.getLastRemoteSnapshotVersion(l).next((_=>n.li.setTargetsMetadata(l,l.currentSequenceNumber,s)));d.push(y)}return st.waitFor(d).next((()=>c.apply(l))).next((()=>n.localDocuments.getLocalViewOfDocuments(l,g,p))).next((()=>g))})).then((l=>(n.vs=a,l)))}function FL(e,t,n){let s=jt(),a=jt();return n.forEach((l=>s=s.add(l))),t.getEntries(e,s).next((l=>{let c=Is();return n.forEach(((d,g)=>{const p=l.get(d);g.isFoundDocument()!==p.isFoundDocument()&&(a=a.add(d)),g.isNoDocument()&&g.version.isEqual(St.min())?(t.removeEntry(d,g.readTime),c=c.insert(d,g)):!p.isValidDocument()||g.version.compareTo(p.version)>0||g.version.compareTo(p.version)===0&&p.hasPendingWrites?(t.addEntry(g),c=c.insert(d,g)):ct(vv,"Ignoring outdated watch update for ",d,". Current version:",p.version," Watch version:",g.version)})),{Bs:c,Ls:a}}))}function HL(e,t){const n=At(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(t===void 0&&(t=rv),n.mutationQueue.getNextMutationBatchAfterBatchId(s,t))))}function qL(e,t){const n=At(e);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let a;return n.li.getTargetData(s,t).next((l=>l?(a=l,st.resolve(a)):n.li.allocateTargetId(s).next((c=>(a=new _r(t,c,"TargetPurposeListen",s.currentSequenceNumber),n.li.addTargetData(s,a).next((()=>a)))))))})).then((s=>{const a=n.vs.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.vs=n.vs.insert(s.targetId,s),n.Fs.set(t,s.targetId)),s}))}async function Xg(e,t,n){const s=At(e),a=s.vs.get(t),l=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",l,(c=>s.persistence.referenceDelegate.removeTarget(c,a)))}catch(c){if(!al(c))throw c;ct(vv,`Failed to update sequence numbers for target ${t}: ${c}`)}s.vs=s.vs.remove(t),s.Fs.delete(a.target)}function M1(e,t,n){const s=At(e);let a=St.min(),l=jt();return s.persistence.runTransaction("Execute query","readwrite",(c=>(function(g,p,y){const _=At(g),b=_.Fs.get(y);return b!==void 0?st.resolve(_.vs.get(b)):_.li.getTargetData(p,y)})(s,c,Ki(t)).next((d=>{if(d)return a=d.lastLimboFreeSnapshotVersion,s.li.getMatchingKeysForTargetId(c,d.targetId).next((g=>{l=g}))})).next((()=>s.Cs.getDocumentsMatchingQuery(c,t,n?a:St.min(),n?l:jt()))).next((d=>(GL(s,D6(t),d),{documents:d,ks:l})))))}function GL(e,t,n){let s=e.Ms.get(t)||St.min();n.forEach(((a,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)})),e.Ms.set(t,s)}class V1{constructor(){this.activeTargetIds=k6()}Qs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class KL{constructor(){this.vo=new V1,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,s){}addLocalQueryTarget(t,n=!0){return n&&this.vo.Qs(t),this.Fo[t]||"not-current"}updateQueryState(t,n,s){this.Fo[t]=n}removeLocalQueryTarget(t){this.vo.Gs(t)}isLocalQueryTarget(t){return this.vo.activeTargetIds.has(t)}clearQueryState(t){delete this.Fo[t]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(t){return this.vo.activeTargetIds.has(t)}start(){return this.vo=new V1,Promise.resolve()}handleUserChange(t,n,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class YL{Mo(t){}shutdown(){}}const O1="ConnectivityMonitor";class P1{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(t){this.Lo.push(t)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){ct(O1,"Network connectivity changed: AVAILABLE");for(const t of this.Lo)t(0)}Bo(){ct(O1,"Network connectivity changed: UNAVAILABLE");for(const t of this.Lo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Xh=null;function Wg(){return Xh===null?Xh=(function(){return 268435456+Math.round(2147483648*Math.random())})():Xh++,"0x"+Xh.toString(16)}const tg="RestConnection",$L={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class QL{get Ko(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+t.host,this.Uo=`projects/${s}/databases/${a}`,this.$o=this.databaseId.database===kf?`project_id=${s}`:`project_id=${s}&database_id=${a}`}Wo(t,n,s,a,l){const c=Wg(),d=this.Qo(t,n.toUriEncodedString());ct(tg,`Sending RPC '${t}' ${c}:`,d,s);const g={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(g,a,l);const{host:p}=new URL(d),y=el(p);return this.zo(t,d,g,s,y).then((_=>(ct(tg,`Received RPC '${t}' ${c}: `,_),_)),(_=>{throw Aa(tg,`RPC '${t}' ${c} failed with error: `,_,"url: ",d,"request:",s),_}))}jo(t,n,s,a,l,c){return this.Wo(t,n,s,a,l)}Go(t,n,s){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+sl})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,l)=>t[l]=a)),s&&s.headers.forEach(((a,l)=>t[l]=a))}Qo(t,n){const s=$L[t];let a=`${this.qo}/v1/${n}:${s}`;return this.databaseInfo.apiKey&&(a=`${a}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),a}terminate(){}}class XL{constructor(t){this.Ho=t.Ho,this.Jo=t.Jo}Zo(t){this.Xo=t}Yo(t){this.e_=t}t_(t){this.n_=t}onMessage(t){this.r_=t}close(){this.Jo()}send(t){this.Ho(t)}i_(){this.Xo()}s_(){this.e_()}o_(t){this.n_(t)}__(t){this.r_(t)}}const rn="WebChannelConnection",gu=(e,t,n)=>{e.listen(t,(s=>{try{n(s)}catch(a){setTimeout((()=>{throw a}),0)}}))};class jo extends QL{constructor(t){super(t),this.a_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}static u_(){if(!jo.c_){const t=ux();gu(t,lx.STAT_EVENT,(n=>{n.stat===Ug.PROXY?ct(rn,"STAT_EVENT: detected buffering proxy"):n.stat===Ug.NOPROXY&&ct(rn,"STAT_EVENT: detected no buffering proxy")})),jo.c_=!0}}zo(t,n,s,a,l){const c=Wg();return new Promise(((d,g)=>{const p=new ax;p.setWithCredentials(!0),p.listenOnce(ox.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case ff.NO_ERROR:const _=p.getResponseJson();ct(rn,`XHR for RPC '${t}' ${c} received:`,JSON.stringify(_)),d(_);break;case ff.TIMEOUT:ct(rn,`RPC '${t}' ${c} timed out`),g(new gt(at.DEADLINE_EXCEEDED,"Request time out"));break;case ff.HTTP_ERROR:const b=p.getStatus();if(ct(rn,`RPC '${t}' ${c} failed with status:`,b,"response text:",p.getResponseText()),b>0){let C=p.getResponseJson();Array.isArray(C)&&(C=C[0]);const D=C?.error;if(D&&D.status&&D.message){const k=(function(H){const G=H.toLowerCase().replace(/_/g,"-");return Object.values(at).indexOf(G)>=0?G:at.UNKNOWN})(D.status);g(new gt(k,D.message))}else g(new gt(at.UNKNOWN,"Server responded with status "+p.getStatus()))}else g(new gt(at.UNAVAILABLE,"Connection failed."));break;default:Tt(9055,{l_:t,streamId:c,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{ct(rn,`RPC '${t}' ${c} completed.`)}}));const y=JSON.stringify(a);ct(rn,`RPC '${t}' ${c} sending request:`,a),p.send(n,"POST",y,s,15)}))}T_(t,n,s){const a=Wg(),l=[this.qo,"/","google.firestore.v1.Firestore","/",t,"/channel"],c=this.createWebChannelTransport(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(d.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(d.useFetchStreams=!0),this.Go(d.initMessageHeaders,n,s),d.encodeInitMessageHeaders=!0;const p=l.join("");ct(rn,`Creating RPC '${t}' stream ${a}: ${p}`,d);const y=c.createWebChannel(p,d);this.I_(y);let _=!1,b=!1;const C=new XL({Ho:D=>{b?ct(rn,`Not sending because RPC '${t}' stream ${a} is closed:`,D):(_||(ct(rn,`Opening RPC '${t}' stream ${a} transport.`),y.open(),_=!0),ct(rn,`RPC '${t}' stream ${a} sending:`,D),y.send(D))},Jo:()=>y.close()});return gu(y,vu.EventType.OPEN,(()=>{b||(ct(rn,`RPC '${t}' stream ${a} transport opened.`),C.i_())})),gu(y,vu.EventType.CLOSE,(()=>{b||(b=!0,ct(rn,`RPC '${t}' stream ${a} transport closed`),C.o_(),this.E_(y))})),gu(y,vu.EventType.ERROR,(D=>{b||(b=!0,Aa(rn,`RPC '${t}' stream ${a} transport errored. Name:`,D.name,"Message:",D.message),C.o_(new gt(at.UNAVAILABLE,"The operation could not be completed")))})),gu(y,vu.EventType.MESSAGE,(D=>{if(!b){const k=D.data[0];Yt(!!k,16349);const L=k,H=L?.error||L[0]?.error;if(H){ct(rn,`RPC '${t}' stream ${a} received error:`,H);const G=H.status;let z=(function(rt){const R=Ve[rt];if(R!==void 0)return Hx(R)})(G),W=H.message;G==="NOT_FOUND"&&W.includes("database")&&W.includes("does not exist")&&W.includes(this.databaseId.database)&&Aa(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),z===void 0&&(z=at.INTERNAL,W="Unknown error status: "+G+" with message "+H.message),b=!0,C.o_(new gt(z,W)),y.close()}else ct(rn,`RPC '${t}' stream ${a} received:`,k),C.__(k)}})),jo.u_(),setTimeout((()=>{C.s_()}),0),C}terminate(){this.a_.forEach((t=>t.close())),this.a_=[]}I_(t){this.a_.push(t)}E_(t){this.a_=this.a_.filter((n=>n===t))}Go(t,n,s){super.Go(t,n,s),this.databaseInfo.apiKey&&(t["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return cx()}}function WL(e){return new jo(e)}function eg(){return typeof document<"u"?document:null}function md(e){return new eL(e,!0)}jo.c_=!1;class sC{constructor(t,n,s=1e3,a=1.5,l=6e4){this.Ci=t,this.timerId=n,this.R_=s,this.A_=a,this.V_=l,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(t){this.cancel();const n=Math.floor(this.d_+this.y_()),s=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-s);a>0&&ct("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),t()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const k1="PersistentStream";class rC{constructor(t,n,s,a,l,c,d,g){this.Ci=t,this.b_=s,this.S_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new sC(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(t){this.q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===at.RESOURCE_EXHAUSTED?(Rs(n.toString()),Rs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===at.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.t_(n)}W_(){}auth(){this.state=1;const t=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,a])=>{this.D_===n&&this.G_(s,a)}),(s=>{t((()=>{const a=new gt(at.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(a)}))}))}G_(t,n){const s=this.Q_(this.D_);this.stream=this.j_(t,n),this.stream.Zo((()=>{s((()=>this.listener.Zo()))})),this.stream.Yo((()=>{s((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((a=>{s((()=>this.z_(a)))})),this.stream.onMessage((a=>{s((()=>++this.F_==1?this.H_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return ct(k1,`close with error: ${t}`),this.stream=null,this.close(4,t)}Q_(t){return n=>{this.Ci.enqueueAndForget((()=>this.D_===t?n():(ct(k1,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class JL extends rC{constructor(t,n,s,a,l,c){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,a,c),this.serializer=l}j_(t,n){return this.connection.T_("Listen",t,n)}H_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=sL(this.serializer,t),s=(function(l){if(!("targetChange"in l))return St.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?St.min():c.readTime?Yi(c.readTime):St.min()})(t);return this.listener.J_(n,s)}Z_(t){const n={};n.database=Qg(this.serializer),n.addTarget=(function(l,c){let d;const g=c.target;if(d=qg(g)?{documents:oL(l,g)}:{query:lL(l,g).ft},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=Kx(l,c.resumeToken);const p=Kg(l,c.expectedCount);p!==null&&(d.expectedCount=p)}else if(c.snapshotVersion.compareTo(St.min())>0){d.readTime=Ff(l,c.snapshotVersion.toTimestamp());const p=Kg(l,c.expectedCount);p!==null&&(d.expectedCount=p)}return d})(this.serializer,t);const s=cL(this.serializer,t);s&&(n.labels=s),this.K_(n)}X_(t){const n={};n.database=Qg(this.serializer),n.removeTarget=t,this.K_(n)}}class ZL extends rC{constructor(t,n,s,a,l,c){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,a,c),this.serializer=l}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}H_(t){return Yt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Yt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Yt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=aL(t.writeResults,t.commitTime),s=Yi(t.commitTime);return this.listener.na(s,n)}ra(){const t={};t.database=Qg(this.serializer),this.K_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map((s=>rL(this.serializer,s)))};this.K_(n)}}class t5{}class e5 extends t5{constructor(t,n,s,a){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=s,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new gt(at.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,n,s,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Wo(t,Yg(n,s),a,l,c))).catch((l=>{throw l.name==="FirebaseError"?(l.code===at.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new gt(at.UNKNOWN,l.toString())}))}jo(t,n,s,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.jo(t,Yg(n,s),a,c,d,l))).catch((c=>{throw c.name==="FirebaseError"?(c.code===at.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new gt(at.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function n5(e,t,n,s){return new e5(e,t,n,s)}class i5{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Rs(n),this.aa=!1):ct("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const xa="RemoteStore";class s5{constructor(t,n,s,a,l){this.localStore=t,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=l,this.Aa.Mo((c=>{s.enqueueAndForget((async()=>{Da(this)&&(ct(xa,"Restarting streams for network reachability change."),await(async function(g){const p=At(g);p.Ea.add(4),await lc(p),p.Va.set("Unknown"),p.Ea.delete(4),await pd(p)})(this))}))})),this.Va=new i5(s,a)}}async function pd(e){if(Da(e))for(const t of e.Ra)await t(!0)}async function lc(e){for(const t of e.Ra)await t(!1)}function aC(e,t){const n=At(e);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),bv(n)?Ev(n):ol(n).O_()&&Tv(n,t))}function _v(e,t){const n=At(e),s=ol(n);n.Ia.delete(t),s.O_()&&oC(n,t),n.Ia.size===0&&(s.O_()?s.L_():Da(n)&&n.Va.set("Unknown"))}function Tv(e,t){if(e.da.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(St.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}ol(e).Z_(t)}function oC(e,t){e.da.$e(t),ol(e).X_(t)}function Ev(e){e.da=new W6({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),At:t=>e.Ia.get(t)||null,ht:()=>e.datastore.serializer.databaseId}),ol(e).start(),e.Va.ua()}function bv(e){return Da(e)&&!ol(e).x_()&&e.Ia.size>0}function Da(e){return At(e).Ea.size===0}function lC(e){e.da=void 0}async function r5(e){e.Va.set("Online")}async function a5(e){e.Ia.forEach(((t,n)=>{Tv(e,t)}))}async function o5(e,t){lC(e),bv(e)?(e.Va.ha(t),Ev(e)):e.Va.set("Unknown")}async function l5(e,t,n){if(e.Va.set("Online"),t instanceof Gx&&t.state===2&&t.cause)try{await(async function(a,l){const c=l.cause;for(const d of l.targetIds)a.Ia.has(d)&&(await a.remoteSyncer.rejectListen(d,c),a.Ia.delete(d),a.da.removeTarget(d))})(e,t)}catch(s){ct(xa,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await qf(e,s)}else if(t instanceof gf?e.da.Xe(t):t instanceof qx?e.da.st(t):e.da.tt(t),!n.isEqual(St.min()))try{const s=await iC(e.localStore);n.compareTo(s)>=0&&await(function(l,c){const d=l.da.Tt(c);return d.targetChanges.forEach(((g,p)=>{if(g.resumeToken.approximateByteSize()>0){const y=l.Ia.get(p);y&&l.Ia.set(p,y.withResumeToken(g.resumeToken,c))}})),d.targetMismatches.forEach(((g,p)=>{const y=l.Ia.get(g);if(!y)return;l.Ia.set(g,y.withResumeToken(nn.EMPTY_BYTE_STRING,y.snapshotVersion)),oC(l,g);const _=new _r(y.target,g,p,y.sequenceNumber);Tv(l,_)})),l.remoteSyncer.applyRemoteEvent(d)})(e,n)}catch(s){ct(xa,"Failed to raise snapshot:",s),await qf(e,s)}}async function qf(e,t,n){if(!al(t))throw t;e.Ea.add(1),await lc(e),e.Va.set("Offline"),n||(n=()=>iC(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{ct(xa,"Retrying IndexedDB access"),await n(),e.Ea.delete(1),await pd(e)}))}function uC(e,t){return t().catch((n=>qf(e,n,t)))}async function gd(e){const t=At(e),n=Dr(t);let s=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:rv;for(;u5(t);)try{const a=await HL(t.localStore,s);if(a===null){t.Ta.length===0&&n.L_();break}s=a.batchId,c5(t,a)}catch(a){await qf(t,a)}cC(t)&&hC(t)}function u5(e){return Da(e)&&e.Ta.length<10}function c5(e,t){e.Ta.push(t);const n=Dr(e);n.O_()&&n.Y_&&n.ea(t.mutations)}function cC(e){return Da(e)&&!Dr(e).x_()&&e.Ta.length>0}function hC(e){Dr(e).start()}async function h5(e){Dr(e).ra()}async function f5(e){const t=Dr(e);for(const n of e.Ta)t.ea(n.mutations)}async function d5(e,t,n){const s=e.Ta.shift(),a=fv.from(s,t,n);await uC(e,(()=>e.remoteSyncer.applySuccessfulWrite(a))),await gd(e)}async function m5(e,t){t&&Dr(e).Y_&&await(async function(s,a){if((function(c){return $6(c)&&c!==at.ABORTED})(a.code)){const l=s.Ta.shift();Dr(s).B_(),await uC(s,(()=>s.remoteSyncer.rejectFailedWrite(l.batchId,a))),await gd(s)}})(e,t),cC(e)&&hC(e)}async function L1(e,t){const n=At(e);n.asyncQueue.verifyOperationInProgress(),ct(xa,"RemoteStore received new credentials");const s=Da(n);n.Ea.add(3),await lc(n),s&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await pd(n)}async function p5(e,t){const n=At(e);t?(n.Ea.delete(2),await pd(n)):t||(n.Ea.add(2),await lc(n),n.Va.set("Unknown"))}function ol(e){return e.ma||(e.ma=(function(n,s,a){const l=At(n);return l.sa(),new JL(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(e.datastore,e.asyncQueue,{Zo:r5.bind(null,e),Yo:a5.bind(null,e),t_:o5.bind(null,e),J_:l5.bind(null,e)}),e.Ra.push((async t=>{t?(e.ma.B_(),bv(e)?Ev(e):e.Va.set("Unknown")):(await e.ma.stop(),lC(e))}))),e.ma}function Dr(e){return e.fa||(e.fa=(function(n,s,a){const l=At(n);return l.sa(),new ZL(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(e.datastore,e.asyncQueue,{Zo:()=>Promise.resolve(),Yo:h5.bind(null,e),t_:m5.bind(null,e),ta:f5.bind(null,e),na:d5.bind(null,e)}),e.Ra.push((async t=>{t?(e.fa.B_(),await gd(e)):(await e.fa.stop(),e.Ta.length>0&&(ct(xa,`Stopping write stream with ${e.Ta.length} pending writes`),e.Ta=[]))}))),e.fa}class Sv{constructor(t,n,s,a,l){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=s,this.op=a,this.removalCallback=l,this.deferred=new _a,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,n,s,a,l){const c=Date.now()+s,d=new Sv(t,n,c,a,l);return d.start(s),d}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new gt(at.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function wv(e,t){if(Rs("AsyncQueue",`${t}: ${e}`),al(e))return new gt(at.UNAVAILABLE,`${t}: ${e}`);throw e}class Uo{static emptySet(t){return new Uo(t.comparator)}constructor(t){this.comparator=t?(n,s)=>t(n,s)||vt.comparator(n.key,s.key):(n,s)=>vt.comparator(n.key,s.key),this.keyedMap=_u(),this.sortedSet=new me(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((n,s)=>(t(n),!1)))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Uo)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=s.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const t=[];return this.forEach((n=>{t.push(n.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const s=new Uo;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=n,s}}class j1{constructor(){this.ga=new me(vt.comparator)}track(t){const n=t.doc.key,s=this.ga.get(n);s?t.type!==0&&s.type===3?this.ga=this.ga.insert(n,t):t.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.ga=this.ga.remove(n):t.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):Tt(63341,{Vt:t,pa:s}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal(((n,s)=>{t.push(s)})),t}}class $o{constructor(t,n,s,a,l,c,d,g,p){this.query=t,this.docs=n,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=g,this.hasCachedResults=p}static fromInitialDocuments(t,n,s,a,l){const c=[];return n.forEach((d=>{c.push({type:0,doc:d})})),new $o(t,n,Uo.emptySet(n),c,s,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&ud(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,s=t.docChanges;if(n.length!==s.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==s[a].type||!n[a].doc.isEqual(s[a].doc))return!1;return!0}}class g5{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((t=>t.Da()))}}class y5{constructor(){this.queries=U1(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const a=At(n),l=a.queries;a.queries=U1(),l.forEach(((c,d)=>{for(const g of d.ba)g.onError(s)}))})(this,new gt(at.ABORTED,"Firestore shutting down"))}}function U1(){return new Ra((e=>Dx(e)),ud)}async function v5(e,t){const n=At(e);let s=3;const a=t.query;let l=n.queries.get(a);l?!l.Sa()&&t.Da()&&(s=2):(l=new g5,s=t.Da()?0:1);try{switch(s){case 0:l.wa=await n.onListen(a,!0);break;case 1:l.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(c){const d=wv(c,`Initialization of query '${wo(t.query)}' failed`);return void t.onError(d)}n.queries.set(a,l),l.ba.push(t),t.va(n.onlineState),l.wa&&t.Fa(l.wa)&&Av(n)}async function _5(e,t){const n=At(e),s=t.query;let a=3;const l=n.queries.get(s);if(l){const c=l.ba.indexOf(t);c>=0&&(l.ba.splice(c,1),l.ba.length===0?a=t.Da()?0:1:!l.Sa()&&t.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function T5(e,t){const n=At(e);let s=!1;for(const a of t){const l=a.query,c=n.queries.get(l);if(c){for(const d of c.ba)d.Fa(a)&&(s=!0);c.wa=a}}s&&Av(n)}function E5(e,t,n){const s=At(e),a=s.queries.get(t);if(a)for(const l of a.ba)l.onError(n);s.queries.delete(t)}function Av(e){e.Ca.forEach((t=>{t.next()}))}var Jg,z1;(z1=Jg||(Jg={})).Ma="default",z1.Cache="cache";class b5{constructor(t,n,s){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(t){if(!this.options.includeMetadataChanges){const s=[];for(const a of t.docChanges)a.type!==3&&s.push(a);t=new $o(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.Ka||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=$o.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Jg.Cache}}class fC{constructor(t){this.key=t}}class dC{constructor(t){this.key=t}}class S5{constructor(t,n){this.query=t,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=jt(),this.mutatedKeys=jt(),this.eu=Nx(t),this.tu=new Uo(this.eu)}get nu(){return this.Za}ru(t,n){const s=n?n.iu:new j1,a=n?n.tu:this.tu;let l=n?n.mutatedKeys:this.mutatedKeys,c=a,d=!1;const g=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,p=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(t.inorderTraversal(((y,_)=>{const b=a.get(y),C=cd(this.query,_)?_:null,D=!!b&&this.mutatedKeys.has(b.key),k=!!C&&(C.hasLocalMutations||this.mutatedKeys.has(C.key)&&C.hasCommittedMutations);let L=!1;b&&C?b.data.isEqual(C.data)?D!==k&&(s.track({type:3,doc:C}),L=!0):this.su(b,C)||(s.track({type:2,doc:C}),L=!0,(g&&this.eu(C,g)>0||p&&this.eu(C,p)<0)&&(d=!0)):!b&&C?(s.track({type:0,doc:C}),L=!0):b&&!C&&(s.track({type:1,doc:b}),L=!0,(g||p)&&(d=!0)),L&&(C?(c=c.add(C),l=k?l.add(y):l.delete(y)):(c=c.delete(y),l=l.delete(y)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const y=this.query.limitType==="F"?c.last():c.first();c=c.delete(y.key),l=l.delete(y.key),s.track({type:1,doc:y})}return{tu:c,iu:s,Ss:d,mutatedKeys:l}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,s,a){const l=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const c=t.iu.ya();c.sort(((y,_)=>(function(C,D){const k=L=>{switch(L){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Tt(20277,{Vt:L})}};return k(C)-k(D)})(y.type,_.type)||this.eu(y.doc,_.doc))),this.ou(s),a=a??!1;const d=n&&!a?this._u():[],g=this.Ya.size===0&&this.current&&!a?1:0,p=g!==this.Xa;return this.Xa=g,c.length!==0||p?{snapshot:new $o(this.query,t.tu,l,c,t.mutatedKeys,g===0,p,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new j1,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(t){return!this.Za.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),t.modifiedDocuments.forEach((n=>{})),t.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Ya;this.Ya=jt(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Ya=this.Ya.add(s.key))}));const n=[];return t.forEach((s=>{this.Ya.has(s)||n.push(new dC(s))})),this.Ya.forEach((s=>{t.has(s)||n.push(new fC(s))})),n}cu(t){this.Za=t.ks,this.Ya=jt();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return $o.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const xv="SyncEngine";class w5{constructor(t,n,s){this.query=t,this.targetId=n,this.view=s}}class A5{constructor(t){this.key=t,this.hu=!1}}class x5{constructor(t,n,s,a,l,c){this.localStore=t,this.remoteStore=n,this.eventManager=s,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new Ra((d=>Dx(d)),ud),this.Iu=new Map,this.Eu=new Set,this.Ru=new me(vt.comparator),this.Au=new Map,this.Vu=new pv,this.du={},this.mu=new Map,this.fu=Yo.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function C5(e,t,n=!0){const s=_C(e);let a;const l=s.Tu.get(t);return l?(s.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await mC(s,t,n,!0),a}async function R5(e,t){const n=_C(e);await mC(n,t,!0,!1)}async function mC(e,t,n,s){const a=await qL(e.localStore,Ki(t)),l=a.targetId,c=e.sharedClientState.addLocalQueryTarget(l,n);let d;return s&&(d=await I5(e,t,l,c==="current",a.resumeToken)),e.isPrimaryClient&&n&&aC(e.remoteStore,a),d}async function I5(e,t,n,s,a){e.pu=(_,b,C)=>(async function(k,L,H,G){let z=L.view.ru(H);z.Ss&&(z=await M1(k.localStore,L.query,!1).then((({documents:R})=>L.view.ru(R,z))));const W=G&&G.targetChanges.get(L.targetId),tt=G&&G.targetMismatches.get(L.targetId)!=null,rt=L.view.applyChanges(z,k.isPrimaryClient,W,tt);return F1(k,L.targetId,rt.au),rt.snapshot})(e,_,b,C);const l=await M1(e.localStore,t,!0),c=new S5(t,l.ks),d=c.ru(l.documents),g=oc.createSynthesizedTargetChangeForCurrentChange(n,s&&e.onlineState!=="Offline",a),p=c.applyChanges(d,e.isPrimaryClient,g);F1(e,n,p.au);const y=new w5(t,n,c);return e.Tu.set(t,y),e.Iu.has(n)?e.Iu.get(n).push(t):e.Iu.set(n,[t]),p.snapshot}async function D5(e,t,n){const s=At(e),a=s.Tu.get(t),l=s.Iu.get(a.targetId);if(l.length>1)return s.Iu.set(a.targetId,l.filter((c=>!ud(c,t)))),void s.Tu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await Xg(s.localStore,a.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(a.targetId),n&&_v(s.remoteStore,a.targetId),Zg(s,a.targetId)})).catch(rl)):(Zg(s,a.targetId),await Xg(s.localStore,a.targetId,!0))}async function N5(e,t){const n=At(e),s=n.Tu.get(t),a=n.Iu.get(s.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),_v(n.remoteStore,s.targetId))}async function M5(e,t,n){const s=U5(e);try{const a=await(function(c,d){const g=At(c),p=oe.now(),y=d.reduce(((C,D)=>C.add(D.key)),jt());let _,b;return g.persistence.runTransaction("Locally write mutations","readwrite",(C=>{let D=Is(),k=jt();return g.xs.getEntries(C,y).next((L=>{D=L,D.forEach(((H,G)=>{G.isValidDocument()||(k=k.add(H))}))})).next((()=>g.localDocuments.getOverlayedDocuments(C,D))).next((L=>{_=L;const H=[];for(const G of d){const z=H6(G,_.get(G.key).overlayedDocument);z!=null&&H.push(new Ia(G.key,z,Sx(z.value.mapValue),Ss.exists(!0)))}return g.mutationQueue.addMutationBatch(C,p,H,d)})).next((L=>{b=L;const H=L.applyToLocalDocumentSet(_,k);return g.documentOverlayCache.saveOverlays(C,L.batchId,H)}))})).then((()=>({batchId:b.batchId,changes:Vx(_)})))})(s.localStore,t);s.sharedClientState.addPendingMutation(a.batchId),(function(c,d,g){let p=c.du[c.currentUser.toKey()];p||(p=new me(Lt)),p=p.insert(d,g),c.du[c.currentUser.toKey()]=p})(s,a.batchId,n),await uc(s,a.changes),await gd(s.remoteStore)}catch(a){const l=wv(a,"Failed to persist write");n.reject(l)}}async function pC(e,t){const n=At(e);try{const s=await BL(n.localStore,t);t.targetChanges.forEach(((a,l)=>{const c=n.Au.get(l);c&&(Yt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.hu=!0:a.modifiedDocuments.size>0?Yt(c.hu,14607):a.removedDocuments.size>0&&(Yt(c.hu,42227),c.hu=!1))})),await uc(n,s,t)}catch(s){await rl(s)}}function B1(e,t,n){const s=At(e);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const a=[];s.Tu.forEach(((l,c)=>{const d=c.view.va(t);d.snapshot&&a.push(d.snapshot)})),(function(c,d){const g=At(c);g.onlineState=d;let p=!1;g.queries.forEach(((y,_)=>{for(const b of _.ba)b.va(d)&&(p=!0)})),p&&Av(g)})(s.eventManager,t),a.length&&s.Pu.J_(a),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function V5(e,t,n){const s=At(e);s.sharedClientState.updateQueryState(t,"rejected",n);const a=s.Au.get(t),l=a&&a.key;if(l){let c=new me(vt.comparator);c=c.insert(l,on.newNoDocument(l,St.min()));const d=jt().add(l),g=new dd(St.min(),new Map,new me(Lt),c,d);await pC(s,g),s.Ru=s.Ru.remove(l),s.Au.delete(t),Cv(s)}else await Xg(s.localStore,t,!1).then((()=>Zg(s,t,n))).catch(rl)}async function O5(e,t){const n=At(e),s=t.batch.batchId;try{const a=await zL(n.localStore,t);yC(n,s,null),gC(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await uc(n,a)}catch(a){await rl(a)}}async function P5(e,t,n){const s=At(e);try{const a=await(function(c,d){const g=At(c);return g.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let y;return g.mutationQueue.lookupMutationBatch(p,d).next((_=>(Yt(_!==null,37113),y=_.keys(),g.mutationQueue.removeMutationBatch(p,_)))).next((()=>g.mutationQueue.performConsistencyCheck(p))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(p,y,d))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,y))).next((()=>g.localDocuments.getDocuments(p,y)))}))})(s.localStore,t);yC(s,t,n),gC(s,t),s.sharedClientState.updateMutationState(t,"rejected",n),await uc(s,a)}catch(a){await rl(a)}}function gC(e,t){(e.mu.get(t)||[]).forEach((n=>{n.resolve()})),e.mu.delete(t)}function yC(e,t,n){const s=At(e);let a=s.du[s.currentUser.toKey()];if(a){const l=a.get(t);l&&(n?l.reject(n):l.resolve(),a=a.remove(t)),s.du[s.currentUser.toKey()]=a}}function Zg(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const s of e.Iu.get(t))e.Tu.delete(s),n&&e.Pu.yu(s,n);e.Iu.delete(t),e.isPrimaryClient&&e.Vu.Gr(t).forEach((s=>{e.Vu.containsKey(s)||vC(e,s)}))}function vC(e,t){e.Eu.delete(t.path.canonicalString());const n=e.Ru.get(t);n!==null&&(_v(e.remoteStore,n),e.Ru=e.Ru.remove(t),e.Au.delete(n),Cv(e))}function F1(e,t,n){for(const s of n)s instanceof fC?(e.Vu.addReference(s.key,t),k5(e,s)):s instanceof dC?(ct(xv,"Document no longer in limbo: "+s.key),e.Vu.removeReference(s.key,t),e.Vu.containsKey(s.key)||vC(e,s.key)):Tt(19791,{wu:s})}function k5(e,t){const n=t.key,s=n.path.canonicalString();e.Ru.get(n)||e.Eu.has(s)||(ct(xv,"New document in limbo: "+n),e.Eu.add(s),Cv(e))}function Cv(e){for(;e.Eu.size>0&&e.Ru.size<e.maxConcurrentLimboResolutions;){const t=e.Eu.values().next().value;e.Eu.delete(t);const n=new vt(fe.fromString(t)),s=e.fu.next();e.Au.set(s,new A5(n)),e.Ru=e.Ru.insert(n,s),aC(e.remoteStore,new _r(Ki(cv(n.path)),s,"TargetPurposeLimboResolution",rd.ce))}}async function uc(e,t,n){const s=At(e),a=[],l=[],c=[];s.Tu.isEmpty()||(s.Tu.forEach(((d,g)=>{c.push(s.pu(g,t,n).then((p=>{if((p||n)&&s.isPrimaryClient){const y=p?!p.fromCache:n?.targetChanges.get(g.targetId)?.current;s.sharedClientState.updateQueryState(g.targetId,y?"current":"not-current")}if(p){a.push(p);const y=yv.Es(g.targetId,p);l.push(y)}})))})),await Promise.all(c),s.Pu.J_(a),await(async function(g,p){const y=At(g);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(_=>st.forEach(p,(b=>st.forEach(b.Ts,(C=>y.persistence.referenceDelegate.addReference(_,b.targetId,C))).next((()=>st.forEach(b.Is,(C=>y.persistence.referenceDelegate.removeReference(_,b.targetId,C)))))))))}catch(_){if(!al(_))throw _;ct(vv,"Failed to update sequence numbers: "+_)}for(const _ of p){const b=_.targetId;if(!_.fromCache){const C=y.vs.get(b),D=C.snapshotVersion,k=C.withLastLimboFreeSnapshotVersion(D);y.vs=y.vs.insert(b,k)}}})(s.localStore,l))}async function L5(e,t){const n=At(e);if(!n.currentUser.isEqual(t)){ct(xv,"User change. New user:",t.toKey());const s=await nC(n.localStore,t);n.currentUser=t,(function(l,c){l.mu.forEach((d=>{d.forEach((g=>{g.reject(new gt(at.CANCELLED,c))}))})),l.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await uc(n,s.Ns)}}function j5(e,t){const n=At(e),s=n.Au.get(t);if(s&&s.hu)return jt().add(s.key);{let a=jt();const l=n.Iu.get(t);if(!l)return a;for(const c of l){const d=n.Tu.get(c);a=a.unionWith(d.view.nu)}return a}}function _C(e){const t=At(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=pC.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=j5.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=V5.bind(null,t),t.Pu.J_=T5.bind(null,t.eventManager),t.Pu.yu=E5.bind(null,t.eventManager),t}function U5(e){const t=At(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=O5.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=P5.bind(null,t),t}class Gf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=md(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return UL(this.persistence,new kL,t.initialUser,this.serializer)}Cu(t){return new eC(gv.Vi,this.serializer)}Du(t){return new KL}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Gf.provider={build:()=>new Gf};class z5 extends Gf{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){Yt(this.persistence.referenceDelegate instanceof Hf,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new EL(s,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?Sn.withCacheSize(this.cacheSizeBytes):Sn.DEFAULT;return new eC((s=>Hf.Vi(s,n)),this.serializer)}}class ty{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>B1(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=L5.bind(null,this.syncEngine),await p5(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new y5})()}createDatastore(t){const n=md(t.databaseInfo.databaseId),s=WL(t.databaseInfo);return n5(t.authCredentials,t.appCheckCredentials,s,n)}createRemoteStore(t){return(function(s,a,l,c,d){return new s5(s,a,l,c,d)})(this.localStore,this.datastore,t.asyncQueue,(n=>B1(this.syncEngine,n,0)),(function(){return P1.v()?new P1:new YL})())}createSyncEngine(t,n){return(function(a,l,c,d,g,p,y){const _=new x5(a,l,c,d,g,p);return y&&(_.gu=!0),_})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=At(n);ct(xa,"RemoteStore shutting down."),s.Ea.add(5),await lc(s),s.Aa.shutdown(),s.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}ty.provider={build:()=>new ty};class B5{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Rs("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout((()=>{this.muted||t(n)}),0)}}const Nr="FirestoreClient";class F5{constructor(t,n,s,a,l){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=s,this._databaseInfo=a,this.user=an.UNAUTHENTICATED,this.clientId=iv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(s,(async c=>{ct(Nr,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(s,(c=>(ct(Nr,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new _a;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const s=wv(n,"Failed to shutdown persistence");t.reject(s)}})),t.promise}}async function ng(e,t){e.asyncQueue.verifyOperationInProgress(),ct(Nr,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let s=n.initialUser;e.setCredentialChangeListener((async a=>{s.isEqual(a)||(await nC(t.localStore,a),s=a)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function H1(e,t){e.asyncQueue.verifyOperationInProgress();const n=await H5(e);ct(Nr,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener((s=>L1(t.remoteStore,s))),e.setAppCheckTokenChangeListener(((s,a)=>L1(t.remoteStore,a))),e._onlineComponents=t}async function H5(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){ct(Nr,"Using user provided OfflineComponentProvider");try{await ng(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!(function(a){return a.name==="FirebaseError"?a.code===at.FAILED_PRECONDITION||a.code===at.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;Aa("Error using user provided cache. Falling back to memory cache: "+n),await ng(e,new Gf)}}else ct(Nr,"Using default OfflineComponentProvider"),await ng(e,new z5(void 0));return e._offlineComponents}async function TC(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(ct(Nr,"Using user provided OnlineComponentProvider"),await H1(e,e._uninitializedComponentsProvider._online)):(ct(Nr,"Using default OnlineComponentProvider"),await H1(e,new ty))),e._onlineComponents}function q5(e){return TC(e).then((t=>t.syncEngine))}async function q1(e){const t=await TC(e),n=t.eventManager;return n.onListen=C5.bind(null,t.syncEngine),n.onUnlisten=D5.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=R5.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=N5.bind(null,t.syncEngine),n}function G5(e,t,n,s){const a=new B5(s),l=new b5(t,a,n);return e.asyncQueue.enqueueAndForget((async()=>v5(await q1(e),l))),()=>{a.Nu(),e.asyncQueue.enqueueAndForget((async()=>_5(await q1(e),l)))}}function K5(e,t){const n=new _a;return e.asyncQueue.enqueueAndForget((async()=>M5(await q5(e),t,n))),n.promise}function EC(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}const Y5="ComponentProvider",G1=new Map;function $5(e,t,n,s,a){return new h6(e,t,n,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,EC(a.experimentalLongPollingOptions),a.useFetchStreams,a.isUsingEmulator,s)}const bC="firestore.googleapis.com",K1=!0;class Y1{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new gt(at.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=bC,this.ssl=K1}else this.host=t.host,this.ssl=t.ssl??K1;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=tC;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<_L)throw new gt(at.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}t6("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=EC(t.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new gt(at.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new gt(at.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new gt(at.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(s,a){return s.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Rv{constructor(t,n,s,a){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Y1({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new gt(at.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new gt(at.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Y1(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new Hk;switch(s.type){case"firstParty":return new Yk(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new gt(at.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=G1.get(n);s&&(ct(Y5,"Removing Datastore"),G1.delete(n),s.terminate())})(this),Promise.resolve()}}function Q5(e,t,n,s={}){e=Lo(e,Rv);const a=el(t),l=e._getSettings(),c={...l,emulatorOptions:e._getEmulatorOptions()},d=`${t}:${n}`;a&&(EA(`https://${d}`),bA("Firestore",!0)),l.host!==bC&&l.host!==d&&Aa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...l,host:d,ssl:a,emulatorOptions:s};if(!Ea(g,c)&&(e._setSettings(g),s.mockUserToken)){let p,y;if(typeof s.mockUserToken=="string")p=s.mockUserToken,y=an.MOCK_USER;else{p=fP(s.mockUserToken,e._app?.options.projectId);const _=s.mockUserToken.sub||s.mockUserToken.user_id;if(!_)throw new gt(at.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new an(_)}e._authCredentials=new qk(new fx(p,y))}}class yd{constructor(t,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new yd(this.firestore,t,this._query)}}class Ke{constructor(t,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ku(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ke(this.firestore,t,this._key)}toJSON(){return{type:Ke._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,s){if(rc(n,Ke._jsonSchema))return new Ke(t,s||null,new vt(fe.fromString(n.referencePath)))}}Ke._jsonSchemaVersion="firestore/documentReference/1.0",Ke._jsonSchema={type:Pe("string",Ke._jsonSchemaVersion),referencePath:Pe("string")};class Ku extends yd{constructor(t,n,s){super(t,n,cv(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ke(this.firestore,null,new vt(t))}withConverter(t){return new Ku(this.firestore,t,this._path)}}function $1(e,t,...n){if(e=Vn(e),arguments.length===1&&(t=iv.newId()),Zk("doc","path",t),e instanceof Rv){const s=fe.fromString(t,...n);return a1(s),new Ke(e,null,new vt(s))}{if(!(e instanceof Ke||e instanceof Ku))throw new gt(at.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=e._path.child(fe.fromString(t,...n));return a1(s),new Ke(e.firestore,e instanceof Ku?e.converter:null,new vt(s))}}const Q1="AsyncQueue";class X1{constructor(t=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new sC(this,"async_queue_retry"),this._c=()=>{const s=eg();s&&ct(Q1,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=t;const n=eg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=eg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new _a;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Yu.push(t),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(t){if(!al(t))throw t;ct(Q1,"Operation failed with retryable error: "+t)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const n=this.ac.then((()=>(this.rc=!0,t().catch((s=>{throw this.nc=s,this.rc=!1,Rs("INTERNAL UNHANDLED ERROR: ",W1(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(t,n,s){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const a=Sv.createAndSchedule(this,t,n,s,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&Tt(47125,{Pc:W1(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()}))}Rc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function W1(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}class Kf extends Rv{constructor(t,n,s,a){super(t,n,s,a),this.type="firestore",this._queue=new X1,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new X1(t),this._firestoreClient=void 0,await t}}}function X5(e,t){const n=typeof e=="object"?e:xA(),s=typeof e=="string"?e:kf,a=Gy(n,"firestore").getImmediate({identifier:s});if(!a._initialized){const l=cP("firestore");l&&Q5(a,...l)}return a}function SC(e){if(e._terminated)throw new gt(at.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||W5(e),e._firestoreClient}function W5(e){const t=e._freezeSettings(),n=$5(e._databaseId,e._app?.options.appId||"",e._persistenceKey,e._app?.options.apiKey,t);e._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(e._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),e._firestoreClient=new F5(e._authCredentials,e._appCheckCredentials,e._queue,n,e._componentsProvider&&(function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}})(e._componentsProvider))}class Qn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Qn(nn.fromBase64String(t))}catch(n){throw new gt(at.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Qn(nn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Qn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(rc(t,Qn._jsonSchema))return Qn.fromBase64String(t.bytes)}}Qn._jsonSchemaVersion="firestore/bytes/1.0",Qn._jsonSchema={type:Pe("string",Qn._jsonSchemaVersion),bytes:Pe("string")};class wC{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new gt(at.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new en(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class AC{constructor(t){this._methodName=t}}class $i{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new gt(at.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new gt(at.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Lt(this._lat,t._lat)||Lt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:$i._jsonSchemaVersion}}static fromJSON(t){if(rc(t,$i._jsonSchema))return new $i(t.latitude,t.longitude)}}$i._jsonSchemaVersion="firestore/geoPoint/1.0",$i._jsonSchema={type:Pe("string",$i._jsonSchemaVersion),latitude:Pe("number"),longitude:Pe("number")};class vi{constructor(t){this._values=(t||[]).map((n=>n))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(s,a){if(s.length!==a.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==a[l])return!1;return!0})(this._values,t._values)}toJSON(){return{type:vi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(rc(t,vi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((n=>typeof n=="number")))return new vi(t.vectorValues);throw new gt(at.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}vi._jsonSchemaVersion="firestore/vectorValue/1.0",vi._jsonSchema={type:Pe("string",vi._jsonSchemaVersion),vectorValues:Pe("object")};const J5=/^__.*__$/;class Z5{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return this.fieldMask!==null?new Ia(t,this.data,this.fieldMask,n,this.fieldTransforms):new ac(t,this.data,n,this.fieldTransforms)}}function xC(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Tt(40011,{dataSource:e})}}class Iv{constructor(t,n,s,a,l,c){this.settings=t,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=a,l===void 0&&this.validatePath(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(t){return new Iv({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(t){const n=this.path?.child(t),s=this.contextWith({path:n,arrayElement:!1});return s.validatePathSegment(t),s}childContextForFieldPath(t){const n=this.path?.child(t),s=this.contextWith({path:n,arrayElement:!1});return s.validatePath(),s}childContextForArray(t){return this.contextWith({path:void 0,arrayElement:!0})}createError(t){return Yf(t,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(t){return this.fieldMask.find((n=>t.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>t.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))}validatePathSegment(t){if(t.length===0)throw this.createError("Document fields must not be empty");if(xC(this.dataSource)&&J5.test(t))throw this.createError('Document fields cannot begin and end with "__"')}}class tj{constructor(t,n,s){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=s||md(t)}createContext(t,n,s,a=!1){return new Iv({dataSource:t,methodName:n,targetDoc:s,path:en.emptyPath(),arrayElement:!1,hasConverter:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ej(e){const t=e._freezeSettings(),n=md(e._databaseId);return new tj(e._databaseId,!!t.ignoreUndefinedProperties,n)}function nj(e,t,n,s,a,l={}){const c=e.createContext(l.merge||l.mergeFields?2:0,t,n,a);DC("Data must be an object, but it was:",c,s);const d=RC(s,c);let g,p;if(l.merge)g=new pi(c.fieldMask),p=c.fieldTransforms;else if(l.mergeFields){const y=[];for(const _ of l.mergeFields){const b=Dv(t,_,n);if(!c.contains(b))throw new gt(at.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);rj(y,b)||y.push(b)}g=new pi(y),p=c.fieldTransforms.filter((_=>g.covers(_.field)))}else g=null,p=c.fieldTransforms;return new Z5(new $n(d),g,p)}function CC(e,t){if(IC(e=Vn(e)))return DC("Unsupported field value:",t,e),RC(e,t);if(e instanceof AC)return(function(s,a){if(!xC(a.dataSource))throw a.createError(`${s._methodName}() can only be used with update() and set()`);if(!a.path)throw a.createError(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.arrayElement&&t.dataSource!==4)throw t.createError("Nested arrays are not supported");return(function(s,a){const l=[];let c=0;for(const d of s){let g=CC(d,a.childContextForArray(c));g==null&&(g={nullValue:"NULL_VALUE"}),l.push(g),c++}return{arrayValue:{values:l}}})(e,t)}return(function(s,a){if((s=Vn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return L6(a.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=oe.fromDate(s);return{timestampValue:Ff(a.serializer,l)}}if(s instanceof oe){const l=new oe(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Ff(a.serializer,l)}}if(s instanceof $i)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Qn)return{bytesValue:Kx(a.serializer,s._byteString)};if(s instanceof Ke){const l=a.databaseId,c=s.firestore._databaseId;if(!c.isEqual(l))throw a.createError(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:mv(s.firestore._databaseId||a.databaseId,s._key.path)}}if(s instanceof vi)return(function(c,d){const g=c instanceof vi?c.toArray():c;return{mapValue:{fields:{[Ex]:{stringValue:bx},[Lf]:{arrayValue:{values:g.map((y=>{if(typeof y!="number")throw d.createError("VectorValues must only contain numeric values.");return hv(d.serializer,y)}))}}}}}})(s,a);if(Zx(s))return s._toProto(a.serializer);throw a.createError(`Unsupported field value: ${sv(s)}`)})(e,t)}function RC(e,t){const n={};return px(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ca(e,((s,a)=>{const l=CC(a,t.childContextForField(s));l!=null&&(n[s]=l)})),{mapValue:{fields:n}}}function IC(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof oe||e instanceof $i||e instanceof Qn||e instanceof Ke||e instanceof AC||e instanceof vi||Zx(e))}function DC(e,t,n){if(!IC(n)||!dx(n)){const s=sv(n);throw s==="an object"?t.createError(e+" a custom object"):t.createError(e+" "+s)}}function Dv(e,t,n){if((t=Vn(t))instanceof wC)return t._internalPath;if(typeof t=="string")return sj(e,t);throw Yf("Field path arguments must be of type string or ",e,!1,void 0,n)}const ij=new RegExp("[~\\*/\\[\\]]");function sj(e,t,n){if(t.search(ij)>=0)throw Yf(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new wC(...t.split("."))._internalPath}catch{throw Yf(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function Yf(e,t,n,s,a){const l=s&&!s.isEmpty(),c=a!==void 0;let d=`Function ${t}() called with invalid data`;n&&(d+=" (via `toFirestore()`)"),d+=". ";let g="";return(l||c)&&(g+=" (found",l&&(g+=` in field ${s}`),c&&(g+=` in document ${a}`),g+=")"),new gt(at.INVALID_ARGUMENT,d+e+g)}function rj(e,t){return e.some((n=>n.isEqual(t)))}class aj{convertValue(t,n="none"){switch(Ir(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Se(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Rr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw Tt(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const s={};return Ca(t,((a,l)=>{s[a]=this.convertValue(l,n)})),s}convertVectorValue(t){const n=t.fields?.[Lf].arrayValue?.values?.map((s=>Se(s.doubleValue)));return new vi(n)}convertGeoPoint(t){return new $i(Se(t.latitude),Se(t.longitude))}convertArray(t,n){return(t.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(t,n){switch(n){case"previous":const s=od(t);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Bu(t));default:return null}}convertTimestamp(t){const n=Cr(t);return new oe(n.seconds,n.nanos)}convertDocumentKey(t,n){const s=fe.fromString(t);Yt(Jx(s),9688,{name:t});const a=new Fu(s.get(1),s.get(3)),l=new vt(s.popFirst(5));return a.isEqual(n)||Rs(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}class NC extends aj{constructor(t){super(),this.firestore=t}convertBytes(t){return new Qn(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Ke(this.firestore,null,n)}}const J1="@firebase/firestore",Z1="4.11.0";function tS(e){return(function(n,s){if(typeof n!="object"||n===null)return!1;const a=n;for(const l of s)if(l in a&&typeof a[l]=="function")return!0;return!1})(e,["next","error","complete"])}class MC{constructor(t,n,s,a,l){this._firestore=t,this._userDataWriter=n,this._key=s,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Ke(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new oj(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(t){if(this._document){const n=this._document.data.field(Dv("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class oj extends MC{data(){return super.data()}}function lj(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new gt(at.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}function uj(e,t,n){let s;return s=e?e.toFirestore(t):t,s}class Eu{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Ta extends MC{constructor(t,n,s,a,l,c){super(t,n,s,a,c),this._firestore=t,this._firestoreImpl=t,this.metadata=l}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new yf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const s=this._document.data.field(Dv("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new gt(at.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=Ta._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ta._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ta._jsonSchema={type:Pe("string",Ta._jsonSchemaVersion),bundleSource:Pe("string","DocumentSnapshot"),bundleName:Pe("string"),bundle:Pe("string")};class yf extends Ta{data(t={}){return super.data(t)}}class zo{constructor(t,n,s,a){this._firestore=t,this._userDataWriter=n,this._snapshot=a,this.metadata=new Eu(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const t=[];return this.forEach((n=>t.push(n))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach((s=>{t.call(n,new yf(this._firestore,this._userDataWriter,s.key,s,new Eu(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new gt(at.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map((d=>{const g=new yf(a._firestore,a._userDataWriter,d.doc.key,d.doc,new Eu(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);return d.doc,{type:"added",doc:g,oldIndex:-1,newIndex:c++}}))}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((d=>l||d.type!==3)).map((d=>{const g=new yf(a._firestore,a._userDataWriter,d.doc.key,d.doc,new Eu(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);let p=-1,y=-1;return d.type!==0&&(p=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),y=c.indexOf(d.doc.key)),{type:cj(d.type),doc:g,oldIndex:p,newIndex:y}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new gt(at.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=zo._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=iv.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(n.push(l._document),s.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function cj(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Tt(61501,{type:e})}}zo._jsonSchemaVersion="firestore/querySnapshot/1.0",zo._jsonSchema={type:Pe("string",zo._jsonSchemaVersion),bundleSource:Pe("string","QuerySnapshot"),bundleName:Pe("string"),bundle:Pe("string")};function eS(e,t,n){e=Lo(e,Ke);const s=Lo(e.firestore,Kf),a=uj(e.converter,t),l=ej(s);return fj(s,[nj(l,"setDoc",e._key,a,e.converter!==null,n).toMutation(e._key,Ss.none())])}function hj(e,...t){e=Vn(e);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof t[s]!="object"||tS(t[s])||(n=t[s++]);const a={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(tS(t[s])){const p=t[s];t[s]=p.next?.bind(p),t[s+1]=p.error?.bind(p),t[s+2]=p.complete?.bind(p)}let l,c,d;if(e instanceof Ke)c=Lo(e.firestore,Kf),d=cv(e._key.path),l={next:p=>{t[s]&&t[s](dj(c,e,p))},error:t[s+1],complete:t[s+2]};else{const p=Lo(e,yd);c=Lo(p.firestore,Kf),d=p._query;const y=new NC(c);l={next:_=>{t[s]&&t[s](new zo(c,y,p,_))},error:t[s+1],complete:t[s+2]},lj(e._query)}const g=SC(c);return G5(g,d,a,l)}function fj(e,t){const n=SC(e);return K5(n,t)}function dj(e,t,n){const s=n.docs.get(t._key),a=new NC(e);return new Ta(e,a,t._key,s,new Eu(n.hasPendingWrites,n.fromCache),t.converter)}(function(t,n=!0){Fk(nl),Fo(new ba("firestore",((s,{instanceIdentifier:a,options:l})=>{const c=s.getProvider("app").getImmediate(),d=new Kf(new Gk(s.getProvider("auth-internal")),new $k(c,s.getProvider("app-check-internal")),f6(c,a),c);return l={useFetchStreams:n,...l},d._setSettings(l),d}),"PUBLIC").setMultipleInstances(!0)),br(J1,Z1,t),br(J1,Z1,"esm2020")})();const mj={apiKey:"AIzaSyBxYxsLtsHK1cKKn6IP_wY5FLyG3Gqje5c",authDomain:"study-tracker-9d996.firebaseapp.com",projectId:"study-tracker-9d996",storageBucket:"study-tracker-9d996.firebasestorage.app",messagingSenderId:"896578359034",appId:"1:896578359034:web:730cec1b11329f22960343",measurementId:"G-ZDH3EW4063"},VC=AA(mj),ig=jk(VC),pj=new _s,nS=X5(VC),OC=O.createContext(void 0);function gj({children:e}){const[t,n]=O.useState(null),[s,a]=O.useState(!0);O.useEffect(()=>{const d=x3(ig,g=>{n(g),a(!1)});return()=>d()},[]);const l=async()=>{try{await Y3(ig,pj)}catch(d){console.error("Error signing in with Google",d)}},c=async()=>{try{await C3(ig)}catch(d){console.error("Error signing out",d)}};return S.jsx(OC.Provider,{value:{user:t,loading:s,signInWithGoogle:l,logout:c},children:!s&&e})}function cc(){const e=O.useContext(OC);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}const sg={name:"Student",grade:"Class 10",language:"en"},Wh="study-tracker-data",PC=O.createContext(void 0);function yj({children:e}){const{user:t}=cc(),[n,s]=O.useState(()=>{try{const z=localStorage.getItem(Wh);if(z){const W=JSON.parse(z);if(W.userProfile)return W.userProfile}}catch(z){console.error("Failed to load user profile:",z)}return sg}),[a,l]=O.useState(()=>{try{const z=localStorage.getItem(Wh);if(z){const W=JSON.parse(z);if(W.subjects)return W.subjects.map(tt=>({...tt,chapters:tt.chapters.map(rt=>({...rt,topics:rt.topics||[]}))}))}}catch(z){console.error("Failed to load subjects:",z)}return[]});O.useEffect(()=>{if(t){console.log("Syncing with Firestore for user:",t.uid);const z=$1(nS,"users",t.uid),W=hj(z,tt=>{if(tt.exists()){const rt=tt.data();rt.userProfile&&s(rt.userProfile),rt.subjects&&l(rt.subjects)}else{console.log("No cloud data found. Attempting migration...");const rt={userProfile:sg,subjects:[]};try{const R=localStorage.getItem(Wh);if(R){const A=JSON.parse(R);A.userProfile&&(rt.userProfile=A.userProfile),A.subjects&&(rt.subjects=A.subjects.map(I=>({...I,chapters:I.chapters.map(P=>({...P,topics:P.topics||[]}))})))}}catch(R){console.error("Error reading local storage for migration:",R)}eS(z,rt).then(()=>console.log("Migration successful")).catch(R=>console.error("Migration failed",R))}},tt=>{console.error("Firestore sync error:",tt)});return()=>W()}},[t]);const c=async(z,W)=>{if(s(z),l(W),t)try{await eS($1(nS,"users",t.uid),{userProfile:z,subjects:W})}catch(tt){console.error("Failed to save to cloud:",tt)}else localStorage.setItem(Wh,JSON.stringify({userProfile:z,subjects:W}))},d=z=>{c({...n,...z},a)},g=z=>{const W=crypto.randomUUID(),tt={...z,id:W,chapters:[]};c(n,[...a,tt])},p=z=>{c(n,a.filter(W=>W.id!==z))},y=(z,W)=>{const tt=a.map(rt=>rt.id===z?{...rt,chapters:[...rt.chapters,{id:crypto.randomUUID(),name:W,isCompleted:!1,topics:[]}]}:rt);c(n,tt)},_=(z,W)=>{const tt=a.map(rt=>rt.id===z?{...rt,chapters:rt.chapters.map(R=>R.id===W?{...R,isCompleted:!R.isCompleted,completedAt:R.isCompleted?null:new Date().toISOString()}:R)}:rt);c(n,tt)},b=(z,W)=>{const tt=a.map(rt=>rt.id===z?{...rt,chapters:rt.chapters.filter(R=>R.id!==W)}:rt);c(n,tt)},C=(z,W,tt)=>{const rt=a.map(R=>R.id===z?{...R,chapters:R.chapters.map(A=>A.id===W?{...A,topics:[...A.topics,{id:crypto.randomUUID(),name:tt,isCompleted:!1,completedAt:null}]}:A)}:R);c(n,rt)},D=(z,W,tt)=>{const rt=a.map(R=>R.id===z?{...R,chapters:R.chapters.map(A=>{if(A.id===W){const I=A.topics.map(V=>V.id===tt?{...V,isCompleted:!V.isCompleted,completedAt:V.isCompleted?null:new Date().toISOString()}:V),P=I.length>0&&I.every(V=>V.isCompleted);return{...A,topics:I,isCompleted:P,completedAt:P?new Date().toISOString():null}}return A})}:R);c(n,rt)},k=(z,W,tt)=>{const rt=a.map(R=>R.id===z?{...R,chapters:R.chapters.map(A=>A.id===W?{...A,topics:A.topics.filter(I=>I.id!==tt)}:A)}:R);c(n,rt)},L=()=>{const z={userProfile:n,subjects:a,timestamp:new Date().toISOString(),version:"1.0"},W=new Blob([JSON.stringify(z,null,2)],{type:"application/json"}),tt=URL.createObjectURL(W),rt=document.createElement("a");rt.href=tt,rt.download=`study-tracker-backup-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(rt),rt.click(),document.body.removeChild(rt),URL.revokeObjectURL(tt)},H=z=>{try{const W=JSON.parse(z);return W.userProfile&&Array.isArray(W.subjects)?(c(W.userProfile,W.subjects),!0):(alert("Invalid backup file format."),!1)}catch(W){return console.error("Import error:",W),alert("Failed to parse backup file."),!1}},G=()=>{confirm("Are you sure you want to reset all data?")&&c(sg,[])};return S.jsx(PC.Provider,{value:{userProfile:n,subjects:a,updateProfile:d,addSubject:g,deleteSubject:p,addChapter:y,toggleChapter:_,deleteChapter:b,addTopic:C,toggleTopic:D,deleteTopic:k,resetData:G,exportData:L,importData:H},children:e})}function Ms(){const e=O.useContext(PC);if(e===void 0)throw new Error("useStudy must be used within a StudyProvider");return e}const kC=(...e)=>e.filter((t,n,s)=>!!t&&t.trim()!==""&&s.indexOf(t)===n).join(" ").trim();const vj=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const _j=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,s)=>s?s.toUpperCase():n.toLowerCase());const iS=e=>{const t=_j(e);return t.charAt(0).toUpperCase()+t.slice(1)};var Tj={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Ej=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0;return!1};const bj=O.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:a="",children:l,iconNode:c,...d},g)=>O.createElement("svg",{ref:g,...Tj,width:t,height:t,stroke:e,strokeWidth:s?Number(n)*24/Number(t):n,className:kC("lucide",a),...!l&&!Ej(d)&&{"aria-hidden":"true"},...d},[...c.map(([p,y])=>O.createElement(p,y)),...Array.isArray(l)?l:[l]]));const se=(e,t)=>{const n=O.forwardRef(({className:s,...a},l)=>O.createElement(bj,{ref:l,iconNode:t,className:kC(`lucide-${vj(iS(e))}`,`lucide-${e}`,s),...a}));return n.displayName=iS(e),n};const Sj=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],wj=se("arrow-left",Sj);const Aj=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],xj=se("arrow-right",Aj);const Cj=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],Rj=se("award",Cj);const Ij=[["path",{d:"M10 2v8l3-3 3 3V2",key:"sqw3rj"}],["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],ey=se("book-marked",Ij);const Dj=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Qi=se("book-open",Dj);const Nj=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],Mj=se("book",Nj);const Vj=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Oj=se("chart-column",Vj);const Pj=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],kj=se("chart-pie",Pj);const Lj=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],jj=se("chevron-down",Lj);const Uj=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],vd=se("circle-check",Uj);const zj=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],sS=se("circle-user",zj);const Bj=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Fj=se("circle",Bj);const Hj=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],rS=se("download",Hj);const qj=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],aS=se("layout-dashboard",qj);const Gj=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],oS=se("list",Gj);const Kj=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],Yj=se("log-in",Kj);const $j=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],LC=se("log-out",$j);const Qj=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Yu=se("plus",Qj);const Xj=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],jC=se("save",Xj);const Wj=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Jj=se("search",Wj);const Zj=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],rg=se("settings",Zj);const t9=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],_d=se("trash-2",t9);const e9=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],ny=se("trending-up",e9);const n9=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],UC=se("trophy",n9);const i9=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],s9=se("upload",i9);const r9=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],zC=se("x",r9),a9=qt(bn);function o9({subject:e,index:t=0}){const n=e.chapters.length,s=e.chapters.filter(c=>c.isCompleted).length;let a=0;e.chapters.forEach(c=>{c.topics&&c.topics.length>0?a+=c.topics.filter(d=>d.isCompleted).length/c.topics.length*100:a+=c.isCompleted?100:0});const l=n===0?0:Math.round(a/n);return S.jsxs(a9,{to:`/subject/${e.id}`,whileHover:{y:-5,transition:{duration:.2}},whileTap:{scale:.98},className:"group block bg-white rounded-2xl p-5 border border-slate-100 shadow-sm hover:shadow-lg hover:border-blue-100 transition-all",children:[S.jsxs("div",{className:"flex items-start justify-between mb-4",children:[S.jsx(qt.div,{whileHover:{rotate:15,scale:1.1},className:`w-12 h-12 rounded-xl ${e.color} flex items-center justify-center text-white shadow-sm`,children:S.jsx(Qi,{className:"w-6 h-6"})}),S.jsxs("div",{className:"bg-slate-50 px-2 py-1 rounded-lg text-xs font-semibold text-slate-600",children:[l,"%"]})]}),S.jsx("h3",{className:"text-lg font-bold text-slate-800 mb-1 group-hover:text-blue-700 transition-colors",children:e.name}),S.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-500 mb-4",children:[S.jsxs("span",{className:"flex items-center gap-1",children:[S.jsx(Qi,{className:"w-3.5 h-3.5"}),n," ",n===1?"Chapter":"Chapters"]}),s>0&&S.jsxs("span",{className:"flex items-center gap-1 text-emerald-600",children:[S.jsx(vd,{className:"w-3.5 h-3.5"}),s," Done"]})]}),S.jsx("div",{className:"h-2 w-full bg-slate-100 rounded-full overflow-hidden",children:S.jsx(qt.div,{initial:{width:0},animate:{width:`${l}%`},transition:{duration:1,delay:.5+t*.1,ease:"easeOut"},className:`h-full ${e.color}`})}),S.jsxs("div",{className:"mt-4 flex items-center text-sm font-medium text-slate-400 group-hover:text-slate-600 transition-colors",children:["View Details ",S.jsx(xj,{className:"w-4 h-4 ml-1 group-hover:translate-x-1 transition-transform"})]})]})}function Mo({title:e,value:t,icon:n,colorClass:s,bgClass:a,delay:l=0}){return S.jsxs(qt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:l,type:"spring"},className:"bg-white rounded-2xl p-6 border border-slate-100 shadow-sm flex items-center justify-between",children:[S.jsxs("div",{children:[S.jsxs("h3",{className:"text-slate-400 font-medium text-sm flex items-center gap-1.5 mb-2",children:[S.jsx(n,{className:`w-4 h-4 ${s}`})," ",e]}),S.jsx("div",{className:"text-3xl font-bold text-slate-800",children:t})]}),S.jsx("div",{className:`w-12 h-12 ${a} rounded-full flex items-center justify-center`,children:S.jsx(n,{className:`w-6 h-6 ${s}`})})]})}const lS=["bg-blue-500","bg-emerald-500","bg-violet-500","bg-amber-500","bg-rose-500","bg-cyan-500","bg-fuchsia-500","bg-orange-500"];function l9({onClose:e}){const{addSubject:t}=Ms(),[n,s]=O.useState(""),[a,l]=O.useState(lS[0]),c=d=>{d.preventDefault(),n.trim()&&(t({name:n.trim(),color:a,icon:"book"}),e())};return S.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-900/50 backdrop-blur-sm animate-in fade-in duration-200",children:S.jsxs("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-md overflow-hidden animate-in zoom-in-95 duration-200",children:[S.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-slate-100",children:[S.jsxs("h3",{className:"text-lg font-bold text-slate-800 flex items-center gap-2",children:[S.jsx(Mj,{className:"w-5 h-5 text-blue-600"}),"Add New Subject"]}),S.jsx("button",{onClick:e,className:"p-2 text-slate-400 hover:bg-slate-100 rounded-full transition-colors",children:S.jsx(zC,{className:"w-5 h-5"})})]}),S.jsxs("form",{onSubmit:c,className:"p-6 space-y-4",children:[S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Subject Name"}),S.jsx("input",{autoFocus:!0,type:"text",value:n,onChange:d=>s(d.target.value),placeholder:"e.g. Physics",className:"w-full px-4 py-2.5 rounded-xl border border-slate-200 focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all font-medium placeholder:font-normal"})]}),S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Color Tag"}),S.jsx("div",{className:"flex flex-wrap gap-2",children:lS.map(d=>S.jsx("button",{type:"button",onClick:()=>l(d),className:`w-8 h-8 rounded-full ${d} transition-all ${a===d?"ring-2 ring-offset-2 ring-slate-400 scale-110":"hover:scale-105 opacity-80 hover:opacity-100"}`},d))})]}),S.jsx("div",{className:"pt-2",children:S.jsxs("button",{type:"submit",disabled:!n.trim(),className:"w-full bg-blue-600 hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed text-white font-medium py-3 rounded-xl flex items-center justify-center gap-2 transition-all active:scale-[0.98]",children:[S.jsx(jC,{className:"w-5 h-5"}),"Create Subject"]})})]})]})})}const uS={hidden:{opacity:0,y:10},show:{opacity:1,y:0,transition:{duration:.4,when:"beforeChildren",staggerChildren:.1}},exit:{opacity:0,y:-10}},cS={hidden:{opacity:0,y:20},show:{opacity:1,y:0,transition:{type:"spring",stiffness:100,damping:12}}};function u9(){const{userProfile:e,subjects:t}=Ms(),[n,s]=O.useState(!1),a=t.reduce((g,p)=>g+p.chapters.length,0),l=t.reduce((g,p)=>g+p.chapters.filter(y=>y.isCompleted).length,0);let c=0;t.forEach(g=>{g.chapters.forEach(p=>{p.topics&&p.topics.length>0?c+=p.topics.filter(y=>y.isCompleted).length/p.topics.length*100:c+=p.isCompleted?100:0})});const d=a===0?0:Math.round(c/a);return S.jsxs(qt.div,{className:"space-y-8",variants:uS,initial:"hidden",animate:"show",exit:"exit",children:[S.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[S.jsxs("div",{children:[S.jsxs("h1",{className:"text-3xl font-bold text-slate-800",children:["Welcome back, ",S.jsx("span",{className:"bg-gradient-to-r from-blue-700 to-teal-600 bg-clip-text text-transparent",children:e.name}),"!"]}),S.jsxs("p",{className:"text-slate-500 mt-1",children:["You're currently in ",S.jsx("span",{className:"font-semibold text-slate-700",children:e.grade}),". Let's make progress!"]})]}),S.jsxs(qt.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>s(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-5 py-3 rounded-xl font-medium flex items-center justify-center gap-2 shadow-sm transition-colors",children:[S.jsx(Yu,{className:"w-5 h-5"}),"Add Subject"]})]}),S.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[S.jsxs(qt.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.5,type:"spring"},className:"md:col-span-1 bg-gradient-to-br from-blue-600 to-blue-700 rounded-2xl p-6 text-white text-center md:text-left relative overflow-hidden shadow-lg shadow-blue-500/20",children:[S.jsxs("div",{className:"relative z-10",children:[S.jsxs("h3",{className:"text-blue-100 font-medium mb-1 flex items-center justify-center md:justify-start gap-2",children:[S.jsx(kj,{className:"w-4 h-4"})," Overall Syllabus"]}),S.jsxs("div",{className:"text-4xl font-bold mb-2",children:[d,"%"]}),S.jsxs("p",{className:"text-blue-100 text-sm",children:["Completed across ",t.length," subjects"]})]}),S.jsx("div",{className:"absolute -right-6 -bottom-6 w-32 h-32 bg-white/10 rounded-full blur-2xl"})]}),S.jsx(Mo,{title:"Chapters Completed",value:l,icon:UC,colorClass:"text-amber-500",bgClass:"bg-amber-50",delay:.1}),S.jsx(Mo,{title:"Chapters Pending",value:a-l,icon:ey,colorClass:"text-violet-500",bgClass:"bg-violet-50",delay:.2})]}),S.jsxs("div",{children:[S.jsxs("h2",{className:"text-xl font-bold text-slate-800 mb-4 flex items-center gap-2",children:["Your Subjects",S.jsx("span",{className:"text-sm font-normal text-slate-400 bg-slate-100 px-2 py-0.5 rounded-full",children:t.length})]}),t.length>0?S.jsxs(qt.div,{variants:uS,initial:"hidden",animate:"show",className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[t.map((g,p)=>S.jsx(qt.div,{variants:cS,children:S.jsx(o9,{subject:g,index:p})},g.id)),S.jsxs(qt.button,{variants:cS,whileHover:{scale:1.02,backgroundColor:"rgba(239, 246, 255, 0.5)"},whileTap:{scale:.98},onClick:()=>s(!0),className:"group border-2 border-dashed border-slate-200 rounded-2xl p-6 flex flex-col items-center justify-center text-slate-400 hover:border-blue-400 hover:text-blue-600 transition-all cursor-pointer h-full min-h-[180px] w-full",children:[S.jsx("div",{className:"w-12 h-12 rounded-full bg-slate-100 group-hover:bg-blue-100 flex items-center justify-center mb-3 transition-colors",children:S.jsx(Yu,{className:"w-6 h-6"})}),S.jsx("span",{className:"font-medium",children:"Add Another Subject"})]})]}):S.jsxs(qt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center py-16 bg-white rounded-2xl border border-dashed border-slate-200",children:[S.jsx("div",{className:"w-16 h-16 bg-slate-50 rounded-full flex items-center justify-center mx-auto mb-4",children:S.jsx(ey,{className:"w-8 h-8 text-slate-300"})}),S.jsx("h3",{className:"text-lg font-semibold text-slate-700 mb-2",children:"No subjects yet"}),S.jsx("p",{className:"text-slate-500 max-w-sm mx-auto mb-6",children:"Start by adding the subjects you want to track to organize your study plan."}),S.jsx("button",{onClick:()=>s(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2.5 rounded-xl font-medium transition-all",children:"Add Your First Subject"})]})]}),n&&S.jsx(l9,{onClose:()=>s(!1)})]})}function c9({subjectId:e,onClose:t}){const{addChapter:n}=Ms(),[s,a]=O.useState(""),l=c=>{c.preventDefault(),s.trim()&&(n(e,s.trim()),a(""))};return S.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-900/50 backdrop-blur-sm animate-in fade-in duration-200",children:S.jsxs("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-md overflow-hidden animate-in zoom-in-95 duration-200",children:[S.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-slate-100",children:[S.jsxs("h3",{className:"text-lg font-bold text-slate-800 flex items-center gap-2",children:[S.jsx(ey,{className:"w-5 h-5 text-blue-600"}),"Add Chapters"]}),S.jsx("button",{onClick:t,className:"p-2 text-slate-400 hover:bg-slate-100 rounded-full transition-colors",children:S.jsx(zC,{className:"w-5 h-5"})})]}),S.jsxs("form",{onSubmit:l,className:"p-6 space-y-4",children:[S.jsxs("div",{children:[S.jsxs("div",{className:"flex justify-between items-center mb-1",children:[S.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Chapter Name / Topic"}),S.jsx("span",{className:"text-xs text-slate-400",children:"Press Enter to add & continue"})]}),S.jsx("input",{autoFocus:!0,type:"text",value:s,onChange:c=>a(c.target.value),placeholder:"e.g. Newton's Laws",className:"w-full px-4 py-2.5 rounded-xl border border-slate-200 focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all"})]}),S.jsxs("div",{className:"flex gap-3 pt-2",children:[S.jsx("button",{type:"button",onClick:t,className:"flex-1 px-4 py-3 border border-slate-200 text-slate-600 font-medium rounded-xl hover:bg-slate-50 transition-colors",children:"Done"}),S.jsxs("button",{type:"submit",disabled:!s.trim(),className:"flex-1 bg-blue-600 hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed text-white font-medium py-3 rounded-xl flex items-center justify-center gap-2 transition-all active:scale-[0.98]",children:[S.jsx(Yu,{className:"w-5 h-5"}),"Add"]})]})]})]})})}const h9={initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10}};function Td({children:e,className:t=""}){return S.jsx(qt.div,{variants:h9,initial:"initial",animate:"animate",exit:"exit",transition:{duration:.3,ease:"easeOut"},className:t,children:e})}function f9({subjectId:e,chapterId:t,topic:n}){const{toggleTopic:s,deleteTopic:a}=Ms();return S.jsxs(qt.div,{layout:!0,initial:{opacity:0,x:-10},animate:{opacity:1,x:0},exit:{opacity:0,x:-10},className:"flex items-center gap-3 py-2 pl-4 pr-2 group/topic hover:bg-slate-50 rounded-lg transition-colors ml-8 border-l border-slate-100",children:[S.jsx(qt.button,{whileTap:{scale:.8},onClick:()=>s(e,t,n.id),className:`flex-shrink-0 w-4 h-4 rounded-full border flex items-center justify-center transition-colors ${n.isCompleted?"border-emerald-500 bg-emerald-500 text-white":"border-slate-300 text-transparent hover:border-slate-400"}`,children:S.jsx(vd,{className:"w-3 h-3"})}),S.jsx("span",{className:`flex-1 text-sm font-google-sans transition-all ${n.isCompleted?"text-slate-400 line-through":"text-slate-600"}`,children:n.name}),S.jsx("button",{onClick:()=>confirm("Delete this topic?")&&a(e,t,n.id),className:"opacity-0 group-hover/topic:opacity-100 p-1.5 text-slate-300 hover:text-red-500 transition-all",children:S.jsx(_d,{className:"w-3.5 h-3.5"})})]})}function BC({subjectId:e,chapter:t,isExpanded:n,onToggle:s}){const{deleteChapter:a,addTopic:l}=Ms(),[c,d]=O.useState(!1),g=p=>{p.preventDefault();const y=p.target.elements.namedItem("topicName");y.value.trim()&&(l(e,t.id,y.value.trim()),y.value="",d(!1))};return S.jsxs("div",{className:"group transition-colors",children:[S.jsxs("div",{className:`flex items-center gap-3 p-4 pr-14 relative hover:bg-slate-50/80 cursor-pointer ${t.isCompleted?"bg-slate-50/30":""}`,onClick:s,children:[S.jsx("button",{className:"p-1 text-slate-400 hover:text-blue-600 transition-colors",children:S.jsx(qt.div,{animate:{rotate:n?180:0},transition:{duration:.2},children:S.jsx(jj,{className:"w-5 h-5"})})}),S.jsxs("div",{className:"flex-1",children:[S.jsx("span",{className:`block font-bold text-lg transition-all ${t.isCompleted?"text-emerald-700":"text-slate-800"}`,children:t.name}),S.jsxs("div",{className:"flex items-center gap-3 mt-1",children:[S.jsxs("span",{className:"text-xs text-slate-400 font-medium whitespace-nowrap",children:[t.topics?.filter(p=>p.isCompleted).length||0,"/",t.topics?.length||0," Topics",t.isCompleted&&S.jsxs("span",{className:"text-emerald-600 ml-2 font-bold inline-flex items-center gap-1",children:[S.jsx(vd,{className:"w-3 h-3"})," Done"]})]}),t.topics&&t.topics.length>0&&S.jsx("div",{className:"h-1.5 w-24 bg-slate-100 rounded-full overflow-hidden flex-shrink-0",children:S.jsx(qt.div,{initial:{width:0},animate:{width:`${Math.round(t.topics.filter(p=>p.isCompleted).length/t.topics.length*100)}%`},transition:{duration:.5,ease:"easeOut"},className:`h-full ${t.isCompleted?"bg-emerald-500":"bg-blue-500"}`})})]})]}),S.jsxs("div",{className:"flex items-center gap-2 absolute right-4 top-1/2 -translate-y-1/2",children:[S.jsx(qt.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:p=>{p.stopPropagation(),d(!0),n||s()},className:"p-2 text-slate-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Add Topic",children:S.jsx(Yu,{className:"w-4 h-4"})}),S.jsx(qt.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:p=>{p.stopPropagation(),confirm("Delete this chapter?")&&a(e,t.id)},className:"p-2 text-slate-300 hover:text-red-500 hover:bg-red-50 rounded-lg transition-colors",title:"Delete Chapter",children:S.jsx(_d,{className:"w-4 h-4"})})]})]}),S.jsx(nA,{children:n&&S.jsx(qt.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.2,ease:"easeInOut"},className:"overflow-hidden bg-slate-50/50",children:S.jsxs("div",{className:"pb-2",children:[t.topics&&t.topics.length>0?t.topics.map(p=>S.jsx(f9,{subjectId:e,chapterId:t.id,topic:p},p.id)):S.jsx("div",{className:"pl-12 py-3 text-sm text-slate-400 italic",children:"No topics yet. Click + to add one."}),c&&S.jsxs(qt.form,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},onSubmit:g,className:"pl-12 pr-4 py-2 flex items-center gap-2",children:[S.jsx(Fj,{className:"w-4 h-4 text-slate-300"}),S.jsx("input",{autoFocus:!0,name:"topicName",type:"text",placeholder:"Topic name...",className:"flex-1 bg-white px-3 py-1.5 rounded-lg border border-slate-200 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500",onBlur:()=>setTimeout(()=>d(!1),200)}),S.jsx("button",{type:"submit",className:"hidden",children:"Add"})]})]})})})]})}function d9(){const{id:e}=dI(),t=Qf(),{subjects:n,deleteSubject:s}=Ms(),[a,l]=O.useState(!1),[c,d]=O.useState({}),g=n.find(k=>k.id===e);if(!g)return S.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[50vh] text-center p-8",children:[S.jsx("div",{className:"w-16 h-16 bg-slate-100 rounded-full flex items-center justify-center mb-4",children:S.jsx(Qi,{className:"w-8 h-8 text-slate-300"})}),S.jsx("h2",{className:"text-xl font-semibold text-slate-800",children:"Subject Not Found"}),S.jsx(bn,{to:"/",className:"mt-4 px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Go Back Home"})]});const p=()=>{confirm(`Are you sure you want to delete ${g.name}? ALL progress will be lost.`)&&(s(g.id),t("/"))},y=k=>{d(L=>({...L,[k]:!L[k]}))},_=g.chapters.length,b=g.chapters.filter(k=>k.isCompleted).length;let C=0;g.chapters.forEach(k=>{k.topics&&k.topics.length>0?C+=k.topics.filter(L=>L.isCompleted).length/k.topics.length*100:C+=k.isCompleted?100:0});const D=_===0?0:Math.round(C/_);return S.jsxs(Td,{className:"max-w-3xl mx-auto pb-12",children:[S.jsxs("div",{className:"mb-8",children:[S.jsxs(bn,{to:"/",className:"inline-flex items-center gap-2 text-slate-500 hover:text-slate-800 mb-6 transition-colors group",children:[S.jsx(wj,{className:"w-4 h-4 group-hover:-translate-x-1 transition-transform"}),"Back to Dashboard"]}),S.jsxs("div",{className:"flex flex-col md:flex-row md:items-start justify-between gap-4",children:[S.jsxs("div",{children:[S.jsxs("div",{className:`inline-flex items-center gap-2 px-3 py-1 rounded-full text-xs font-semibold text-white mb-3 ${g.color}`,children:[S.jsx(Qi,{className:"w-3 h-3"}),g.name]}),S.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-slate-800",children:g.name}),S.jsxs("p",{className:"text-slate-500 mt-2",children:[b," of ",_," chapters completed"]})]}),S.jsx("button",{onClick:p,className:"self-start text-red-400 hover:text-red-600 hover:bg-red-50 p-2 rounded-lg transition-colors",title:"Delete Subject",children:S.jsx(_d,{className:"w-5 h-5"})})]}),S.jsxs("div",{className:"mt-6",children:[S.jsxs("div",{className:"flex justify-between items-end mb-2",children:[S.jsxs("span",{className:"text-3xl font-bold text-slate-800",children:[D,"%"]}),S.jsx("span",{className:"text-sm font-medium text-slate-400",children:"Progress"})]}),S.jsx("div",{className:"h-3 w-full bg-slate-100 rounded-full overflow-hidden",children:S.jsx(qt.div,{initial:{width:0},animate:{width:`${D}%`},transition:{duration:1,ease:"easeOut"},className:`h-full ${g.color}`})})]})]}),S.jsxs("div",{className:"bg-white rounded-3xl border border-slate-100 shadow-sm overflow-hidden",children:[S.jsxs("div",{className:"p-6 border-b border-slate-50 flex items-center justify-between bg-slate-50/50",children:[S.jsx("h2",{className:"text-lg font-bold text-slate-800",children:"Syllabus / Chapters"}),S.jsxs(qt.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>l(!0),className:"bg-slate-900 hover:bg-slate-800 text-white px-4 py-2 rounded-lg text-sm font-medium flex items-center gap-2 transition-colors",children:[S.jsx(Yu,{className:"w-4 h-4"}),"Add Chapter"]})]}),S.jsx("div",{className:"divide-y divide-slate-50",children:g.chapters.length>0?g.chapters.map(k=>S.jsx(BC,{subjectId:g.id,chapter:k,isExpanded:!!c[k.id],onToggle:()=>y(k.id)},k.id)):S.jsxs("div",{className:"p-12 text-center",children:[S.jsx("div",{className:"w-16 h-16 bg-slate-50 rounded-full flex items-center justify-center mx-auto mb-3",children:S.jsx(Qi,{className:"w-6 h-6 text-slate-300"})}),S.jsx("p",{className:"text-slate-500 mb-4",children:"No chapters added yet."}),S.jsx("button",{onClick:()=>l(!0),className:"text-blue-600 font-medium hover:underline",children:"Add your first chapter"})]})})]}),a&&S.jsx(c9,{subjectId:g.id,onClose:()=>l(!1)})]})}function m9(){const{user:e,logout:t}=cc(),{userProfile:n,updateProfile:s,resetData:a,exportData:l,importData:c}=Ms(),[d,g]=O.useState(n.name),[p,y]=O.useState(n.grade),_=()=>{s({name:d,grade:p}),alert("Profile updated successfully!")};return S.jsxs(Td,{className:"max-w-xl mx-auto space-y-6",children:[S.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[S.jsx(sS,{className:"w-8 h-8 text-blue-600"}),S.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"My Profile Settings"})]}),S.jsxs(qt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-2xl shadow-sm border border-slate-100 p-6 space-y-4",children:[S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Student Name"}),S.jsx("input",{type:"text",value:d,onChange:b=>g(b.target.value),className:"w-full px-4 py-2 rounded-lg border border-slate-200 focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all",placeholder:"Enter your name"})]}),S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Class / Grade"}),S.jsx("input",{type:"text",value:p,onChange:b=>y(b.target.value),className:"w-full px-4 py-2 rounded-lg border border-slate-200 focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all",placeholder:"e.g. HSC 2026"})]}),S.jsx("div",{className:"pt-4",children:S.jsxs("button",{onClick:_,className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-medium py-3 rounded-xl flex items-center justify-center gap-2 transition-all active:scale-[0.98]",children:[S.jsx(jC,{className:"w-5 h-5"}),"Save Profile"]})})]}),S.jsxs(qt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.15},className:"bg-white rounded-2xl shadow-sm border border-slate-100 p-6 space-y-4",children:[S.jsxs("h3",{className:"text-lg font-bold text-slate-800 flex items-center gap-2",children:[S.jsx(rS,{className:"w-5 h-5 text-slate-500"}),"Data Management"]}),S.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[S.jsxs("button",{onClick:l,className:"flex items-center justify-center gap-2 px-4 py-3 bg-slate-50 text-slate-700 font-medium rounded-xl border border-slate-200 hover:bg-slate-100 hover:border-slate-300 transition-all",children:[S.jsx(rS,{className:"w-4 h-4"}),"Export Backup"]}),S.jsxs("label",{className:"flex items-center justify-center gap-2 px-4 py-3 bg-slate-50 text-slate-700 font-medium rounded-xl border border-slate-200 hover:bg-slate-100 hover:border-slate-300 transition-all cursor-pointer",children:[S.jsx(s9,{className:"w-4 h-4"}),"Import Backup",S.jsx("input",{type:"file",accept:".json",className:"hidden",onChange:b=>{const C=b.target.files?.[0];if(C){const D=new FileReader;D.onload=k=>{const L=k.target?.result;c(L)&&alert("Data imported successfully!")},D.readAsText(C)}}})]})]})]}),S.jsxs(qt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white rounded-2xl border border-slate-100 p-6 mt-8 space-y-4",children:[S.jsxs("h3",{className:"text-slate-800 font-semibold mb-2 flex items-center gap-2",children:[S.jsx(sS,{className:"w-5 h-5"}),"Account"]}),S.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[e?.photoURL?S.jsx("img",{src:e.photoURL,alt:e.displayName||"User",className:"w-12 h-12 rounded-full"}):S.jsx("div",{className:"w-12 h-12 rounded-full bg-blue-100 flex items-center justify-center text-blue-600 font-bold text-xl",children:e?.displayName?e.displayName[0]:e?.email?e.email[0].toUpperCase():"U"}),S.jsxs("div",{children:[S.jsx("p",{className:"font-medium text-slate-900",children:e?.displayName||"User"}),S.jsx("p",{className:"text-sm text-slate-500",children:e?.email})]})]}),S.jsxs("button",{onClick:t,className:"w-full px-4 py-2 bg-slate-50 border border-slate-200 text-slate-700 font-medium rounded-lg hover:bg-slate-100 hover:text-slate-900 transition-colors text-sm flex items-center justify-center gap-2",children:[S.jsx(LC,{className:"w-4 h-4"}),"Sign Out"]})]}),S.jsxs(qt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.25},className:"bg-red-50 rounded-2xl border border-red-100 p-6",children:[S.jsxs("h3",{className:"text-red-700 font-semibold mb-2 flex items-center gap-2",children:[S.jsx(_d,{className:"w-5 h-5"}),"Danger Zone"]}),S.jsx("p",{className:"text-red-600/80 text-sm mb-4",children:"This will permanently delete all your subjects, chapters, and progress data. This action cannot be undone."}),S.jsx("button",{onClick:()=>{confirm("Are you absolutely sure? This cannot be undone.")&&a()},className:"w-full px-4 py-2 bg-white border border-red-200 text-red-600 font-medium rounded-lg hover:bg-red-50 hover:text-red-700 transition-colors text-sm",children:"Reset All Data"})]})]})}function p9(e){let t=0,n=0,s=0,a=0;return e.forEach(l=>{t+=l.chapters.length,l.chapters.forEach(c=>{c.isCompleted&&n++,c.topics&&(s+=c.topics.length,c.topics.forEach(d=>{d.isCompleted&&a++}))})}),{totalChapters:t,completedChapters:n,totalTopics:s,completedTopics:a}}function g9(e){const t=new Date,s=Array.from({length:7},(l,c)=>{const d=new Date;return d.setDate(t.getDate()-(6-c)),d.toISOString().split("T")[0]}).map(l=>{let c=0;return e.forEach(d=>{d.chapters.forEach(g=>{g.topics&&g.topics.forEach(p=>{p.isCompleted&&p.completedAt&&p.completedAt.startsWith(l)&&c++})})}),{date:l,count:c}}),a=Math.max(...s.map(l=>l.count),1);return{activityData:s,maxCount:a}}function y9(e){const t=new Set;e.forEach(d=>d.chapters.forEach(g=>g.topics?.forEach(p=>{p.isCompleted&&p.completedAt&&t.add(p.completedAt.split("T")[0])})));const n=Array.from(t).sort((d,g)=>new Date(g).getTime()-new Date(d).getTime());let s=0;const a=new Date().toISOString().split("T")[0],l=new Date;l.setDate(l.getDate()-1);const c=l.toISOString().split("T")[0];if(n.length>0){const d=n[0];if(d===a||d===c){s=1;let g=new Date(d);for(let p=1;p<n.length;p++){const y=new Date(n[p]),_=Math.abs(g.getTime()-y.getTime());if(Math.round(_/(1e3*60*60*24))===1)s++,g=y;else break}}}return s}function v9(){const{subjects:e}=Ms(),{totalChapters:t,completedChapters:n,totalTopics:s,completedTopics:a}=p9(e),{activityData:l,maxCount:c}=g9(e),d=y9(e),g=s>0?Math.round(a/s*100):0,p={hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.1,delayChildren:.2}}};return S.jsxs(Td,{className:"max-w-4xl mx-auto pb-12",children:[S.jsxs("h1",{className:"text-3xl font-bold text-slate-800 mb-8 flex items-center gap-3",children:[S.jsx(ny,{className:"w-8 h-8 text-blue-600"}),"Study Analytics"]}),S.jsxs(qt.div,{variants:p,initial:"hidden",animate:"show",className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:[S.jsx("div",{className:"sm:col-span-1",children:S.jsx(Mo,{title:"Total Streak",value:`${d} days`,icon:Rj,colorClass:"text-orange-500",bgClass:"bg-orange-50",delay:.1})}),S.jsx("div",{className:"sm:col-span-1",children:S.jsx(Mo,{title:"Topics Done",value:`${a} / ${s}`,icon:Qi,colorClass:"text-blue-500",bgClass:"bg-blue-50",delay:.2})}),S.jsx("div",{className:"sm:col-span-1",children:S.jsx(Mo,{title:"Chapters Done",value:`${n} / ${t}`,icon:UC,colorClass:"text-amber-500",bgClass:"bg-amber-50",delay:.3})}),S.jsx("div",{className:"sm:col-span-1",children:S.jsx(Mo,{title:"Completion",value:`${g}%`,icon:vd,colorClass:"text-emerald-500",bgClass:"bg-emerald-50",delay:.4})})]}),S.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[S.jsxs(qt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"md:col-span-2 bg-white p-6 rounded-3xl border border-slate-100 shadow-sm",children:[S.jsxs("h2",{className:"text-lg font-bold text-slate-800 mb-6 flex items-center gap-2",children:[S.jsx(Oj,{className:"w-5 h-5 text-slate-400"}),"Last 7 Days Activity"]}),S.jsx("div",{className:"flex items-end justify-between gap-2 h-48",children:l.map((y,_)=>S.jsxs("div",{className:"flex-1 flex flex-col items-center gap-2 group",children:[S.jsx("div",{className:"w-full bg-slate-100 rounded-t-lg relative h-full flex items-end overflow-hidden",children:S.jsx(qt.div,{initial:{height:0},animate:{height:`${y.count/c*100}%`},transition:{duration:1,delay:_*.1,ease:"easeOut"},className:"w-full bg-blue-500 rounded-t-lg transition-colors duration-300 group-hover:bg-blue-600 relative",children:S.jsxs("div",{className:"absolute -top-8 left-1/2 -translate-x-1/2 bg-slate-800 text-white text-xs py-1 px-2 rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap z-10",children:[y.count," Topics"]})})}),S.jsx("span",{className:"text-xs text-slate-400 font-medium",children:new Date(y.date).toLocaleDateString("en-US",{weekday:"short"})})]},y.date))})]}),S.jsxs(qt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-white p-6 rounded-3xl border border-slate-100 shadow-sm",children:[S.jsxs("h2",{className:"text-lg font-bold text-slate-800 mb-6 flex items-center gap-2",children:[S.jsx(Qi,{className:"w-5 h-5 text-slate-400"}),"Subject Progress"]}),S.jsxs("div",{className:"space-y-4 max-h-[300px] overflow-y-auto pr-2 custom-scrollbar",children:[e.map(y=>{const _=y.chapters.reduce((D,k)=>D+(k.topics?.length||0),0),b=y.chapters.reduce((D,k)=>D+(k.topics?.filter(L=>L.isCompleted).length||0),0),C=_>0?Math.round(b/_*100):0;return S.jsxs("div",{children:[S.jsxs("div",{className:"flex justify-between items-center mb-1",children:[S.jsx("span",{className:"text-sm font-medium text-slate-700",children:y.name}),S.jsxs("span",{className:"text-xs text-slate-400",children:[C,"%"]})]}),S.jsx("div",{className:"h-2 bg-slate-100 rounded-full overflow-hidden",children:S.jsx(qt.div,{initial:{width:0},animate:{width:`${C}%`},transition:{duration:1,ease:"easeOut"},className:`h-full ${y.color}`})})]},y.id)}),e.length===0&&S.jsx("div",{className:"text-center text-slate-400 text-sm py-8",children:"No subjects added."})]})]})]})]})}function _9(){const{subjects:e}=Ms(),[t,n]=O.useState(""),[s,a]=O.useState("all"),[l,c]=O.useState("all"),[d,g]=O.useState({}),p=e.flatMap(b=>b.chapters.map(C=>({...C,subjectName:b.name,subjectColor:b.color,subjectId:b.id}))),y=p.filter(b=>{const C=b.name.toLowerCase().includes(t.toLowerCase())||b.subjectName.toLowerCase().includes(t.toLowerCase()),D=s==="all"||b.subjectId===s,k=l==="all"||(l==="completed"?b.isCompleted:!b.isCompleted);return C&&D&&k}),_=b=>{g(C=>({...C,[b]:!C[b]}))};return S.jsxs(Td,{className:"max-w-4xl mx-auto pb-12",children:[S.jsxs("h1",{className:"text-3xl font-bold text-slate-800 mb-8 flex items-center gap-3",children:[S.jsx(Qi,{className:"w-8 h-8 text-blue-600"}),"All Chapters Tracker"]}),S.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-slate-100 shadow-sm mb-8",children:[S.jsxs("div",{className:"flex justify-between items-end mb-2",children:[S.jsxs("div",{children:[S.jsx("h2",{className:"text-lg font-bold text-slate-800",children:"Overall Progress"}),S.jsxs("p",{className:"text-slate-500 text-sm",children:[p.filter(b=>b.isCompleted).length," of ",p.length," chapters completed"]})]}),S.jsxs("span",{className:"text-3xl font-bold text-blue-600",children:[p.length>0?Math.round(p.filter(b=>b.isCompleted).length/p.length*100):0,"%"]})]}),S.jsx("div",{className:"h-4 w-full bg-slate-100 rounded-full overflow-hidden",children:S.jsx(qt.div,{initial:{width:0},animate:{width:`${p.length>0?Math.round(p.filter(b=>b.isCompleted).length/p.length*100):0}%`},transition:{duration:1,ease:"easeOut"},className:"h-full bg-blue-600"})})]}),S.jsxs("div",{className:"bg-white p-4 rounded-2xl border border-slate-100 shadow-sm mb-6 flex flex-col md:flex-row gap-4",children:[S.jsxs("div",{className:"relative flex-1",children:[S.jsx(Jj,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),S.jsx("input",{type:"text",placeholder:"Search chapters or subjects...",value:t,onChange:b=>n(b.target.value),className:"w-full pl-9 pr-4 py-2 bg-slate-50 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/20"})]}),S.jsxs("div",{className:"flex gap-2 overflow-x-auto pb-2 md:pb-0",children:[S.jsxs("select",{value:s,onChange:b=>a(b.target.value),className:"px-3 py-2 bg-slate-50 border border-slate-200 rounded-lg text-sm text-slate-600 focus:outline-none",children:[S.jsx("option",{value:"all",children:"All Subjects"}),e.map(b=>S.jsx("option",{value:b.id,children:b.name},b.id))]}),S.jsxs("select",{value:l,onChange:b=>c(b.target.value),className:"px-3 py-2 bg-slate-50 border border-slate-200 rounded-lg text-sm text-slate-600 focus:outline-none",children:[S.jsx("option",{value:"all",children:"All Status"}),S.jsx("option",{value:"completed",children:"Completed"}),S.jsx("option",{value:"pending",children:"Pending"})]})]})]}),S.jsx("div",{className:"space-y-4",children:y.length>0?y.map(b=>S.jsxs("div",{className:"bg-white rounded-xl border border-slate-100 shadow-sm overflow-hidden",children:[S.jsx("div",{className:"bg-slate-50/50 px-4 py-1 text-xs font-semibold text-slate-500 border-b border-slate-50 flex items-center justify-between",children:S.jsx("span",{className:b.subjectColor,children:b.subjectName})}),S.jsx(BC,{subjectId:b.subjectId,chapter:b,isExpanded:!!d[b.id],onToggle:()=>_(b.id)})]},b.id)):S.jsx("div",{className:"text-center py-12 bg-white rounded-2xl border border-dashed border-slate-200",children:S.jsx("p",{className:"text-slate-500",children:"No chapters found matching your filters."})})})]})}function T9(){const{logout:e}=cc(),t=Ds(),n=fI(),s=a=>t.pathname===a;return S.jsxs("div",{className:"min-h-screen bg-slate-50 text-slate-900 pb-20 md:pb-0 font-sans",children:[S.jsxs("header",{className:"bg-white border-b border-slate-200 sticky top-0 z-10 px-4 py-3 flex items-center justify-between md:hidden",children:[S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx("div",{className:"bg-blue-600 p-1.5 rounded-lg",children:S.jsx(Qi,{className:"w-5 h-5 text-white"})}),S.jsx("h1",{className:"text-xl font-bold bg-gradient-to-r from-blue-700 to-teal-600 bg-clip-text text-transparent",children:"TrackEd"})]}),S.jsx(bn,{to:"/settings",className:"p-2 text-slate-500 hover:bg-slate-100 rounded-full",children:S.jsx(rg,{className:"w-5 h-5"})})]}),S.jsxs("div",{className:"md:flex max-w-5xl mx-auto",children:[S.jsxs("aside",{className:"hidden md:flex flex-col w-64 h-screen sticky top-0 p-6 border-r border-slate-200 bg-white",children:[S.jsxs("div",{className:"flex items-center gap-2 mb-10",children:[S.jsx("div",{className:"bg-blue-600 p-2 rounded-lg",children:S.jsx(Qi,{className:"w-6 h-6 text-white"})}),S.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"TrackEd"})]}),S.jsxs("nav",{className:"space-y-2 flex-1",children:[S.jsxs(bn,{to:"/",className:`flex items-center gap-3 px-4 py-3 rounded-lg transition-colors ${s("/")?"bg-blue-50 text-blue-700 font-medium":"text-slate-600 hover:bg-slate-50"}`,children:[S.jsx(aS,{className:"w-5 h-5"}),"Dashboard"]}),S.jsxs(bn,{to:"/analytics",className:`flex items-center gap-3 px-4 py-3 rounded-lg transition-colors ${s("/analytics")?"bg-blue-50 text-blue-700 font-medium":"text-slate-600 hover:bg-slate-50"}`,children:[S.jsx(ny,{className:"w-5 h-5"}),"Analytics"]}),S.jsxs(bn,{to:"/chapters",className:`flex items-center gap-3 px-4 py-3 rounded-lg transition-colors ${s("/chapters")?"bg-blue-50 text-blue-700 font-medium":"text-slate-600 hover:bg-slate-50"}`,children:[S.jsx(oS,{className:"w-5 h-5"}),"Chapters"]}),S.jsxs(bn,{to:"/settings",className:`flex items-center gap-3 px-4 py-3 rounded-lg transition-colors ${s("/settings")?"bg-blue-50 text-blue-700 font-medium":"text-slate-600 hover:bg-slate-50"}`,children:[S.jsx(rg,{className:"w-5 h-5"}),"Settings"]})]}),S.jsxs("div",{className:"mt-auto pt-6 border-t border-slate-100",children:[S.jsxs("button",{onClick:e,className:"flex items-center gap-3 px-4 py-3 rounded-lg text-slate-600 hover:bg-red-50 hover:text-red-700 transition-colors w-full text-left mb-4",children:[S.jsx(LC,{className:"w-5 h-5"}),"Sign Out"]}),S.jsxs("div",{className:"text-xs text-slate-400",children:[S.jsx("p",{children:"Empowering Students"}),S.jsx("p",{className:"mt-1",children:" 2026 TrackEd"})]})]})]}),S.jsx("main",{className:"flex-1 p-4 md:p-8",children:S.jsx(nA,{mode:"wait",children:n&&O.cloneElement(n,{key:t.pathname})})})]}),S.jsxs("nav",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-slate-200 flex justify-around p-3 md:hidden z-20 shadow-[0_-4px_6px_-1px_rgba(0,0,0,0.05)]",children:[S.jsxs(bn,{to:"/",className:`flex flex-col items-center gap-1 text-xs ${s("/")?"text-blue-600 font-medium":"text-slate-400"}`,children:[S.jsx(aS,{className:"w-6 h-6"}),S.jsx("span",{children:"Home"})]}),S.jsxs(bn,{to:"/analytics",className:`flex flex-col items-center gap-1 text-xs ${s("/analytics")?"text-blue-600 font-medium":"text-slate-400"}`,children:[S.jsx(ny,{className:"w-6 h-6"}),S.jsx("span",{children:"Stats"})]}),S.jsxs(bn,{to:"/chapters",className:`flex flex-col items-center gap-1 text-xs ${s("/chapters")?"text-blue-600 font-medium":"text-slate-400"}`,children:[S.jsx(oS,{className:"w-6 h-6"}),S.jsx("span",{children:"Chapters"})]}),S.jsxs(bn,{to:"/settings",className:`flex flex-col items-center gap-1 text-xs ${s("/settings")?"text-blue-600 font-medium":"text-slate-400"}`,children:[S.jsx(rg,{className:"w-6 h-6"}),S.jsx("span",{children:"Settings"})]})]})]})}function E9(){const{signInWithGoogle:e,user:t}=cc(),n=Qf();return fS.useEffect(()=>{t&&n("/")},[t,n]),S.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[S.jsx("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:S.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Sign in to your account"})}),S.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:S.jsx("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:S.jsxs("button",{onClick:e,className:"w-full flex justify-center items-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[S.jsx(Yj,{className:"w-5 h-5 mr-2"}),"Sign in with Google"]})})})]})}function b9({children:e}){const{user:t,loading:n}=cc();return n?S.jsx("div",{children:"Loading..."}):t?S.jsx(S.Fragment,{children:e}):S.jsx(CI,{to:"/login"})}function S9(){return S.jsx(gj,{children:S.jsx(ZI,{basename:"/Study-Track/",children:S.jsxs(II,{children:[S.jsx(dr,{path:"/login",element:S.jsx(E9,{})}),S.jsxs(dr,{path:"/",element:S.jsx(b9,{children:S.jsx(T9,{})}),children:[S.jsx(dr,{index:!0,element:S.jsx(u9,{})}),S.jsx(dr,{path:"subject/:id",element:S.jsx(d9,{})}),S.jsx(dr,{path:"analytics",element:S.jsx(v9,{})}),S.jsx(dr,{path:"chapters",element:S.jsx(_9,{})}),S.jsx(dr,{path:"settings",element:S.jsx(m9,{})})]})]})})})}R2.createRoot(document.getElementById("root")).render(S.jsx(fS.StrictMode,{children:S.jsx(yj,{children:S.jsx(S9,{})})}));
